!function(e){var t,n={title:"Are you sure?",commit:"Confirm",commitClass:"btn-danger",cancel:"Cancel",cancelClass:"btn-light",fade:!0,verifyClass:"form-control",elements:["a[data-confirm]","button[data-confirm]","input[type=submit][data-confirm]"],focus:"commit",zIndex:1050,modalClass:!1,show:!0};if(window.dataConfirmModal={setDefaults:function(n){t=e.extend(t,n)},restoreDefaults:function(){t=e.extend({},n)},confirm:function(e){var t=s(e);t.spawn(),t.on("hidden.bs.modal",function(){t.remove()}),t.find(".commit").on("click",function(){e.onConfirm&&e.onConfirm.call&&e.onConfirm.call(),t.modal("hide")}),t.find(".cancel").on("click",function(){e.onCancel&&e.onCancel.call&&e.onCancel.call(),t.modal("hide")})}},dataConfirmModal.restoreDefaults(),e.fn.modal==undefined)throw new Error("The bootstrap modal plugin does not appear to be loaded.");if(e.fn.modal.Constructor==undefined)throw new Error("The bootstrap modal plugin does not have a Constructor ?!?");if(e.fn.modal.Constructor.VERSION==undefined)throw new Error("The bootstrap modal plugin does not have its version defined ?!?");var i=e.fn.modal.Constructor.VERSION,r=i.match(/^(\d)\./);if(!r)throw new Error("Cannot identify Bootstrap version. Version string: "+i);var o=parseInt(r[1]);if(3!=o&&4!=o)throw new Error("Unsupported bootstrap version: "+o+". data-confirm-modal supports version 3 and 4.");var a=function(e){var t={title:e.data("title")||e.attr("title")||e.data("original-title"),text:e.data("confirm"),focus:e.data("focus"),method:e.data("method"),modalClass:e.data("modal-class"),commit:e.data("commit"),commitClass:e.data("commit-class"),cancel:e.data("cancel"),cancelClass:e.data("cancel-class"),remote:e.data("remote"),verify:e.data("verify"),verifyRegexp:e.data("verify-regexp"),verifyLabel:e.data("verify-text"),verifyRegexpCaseInsensitive:e.data("verify-regexp-caseinsensitive"),backdrop:e.data("backdrop"),keyboard:e.data("keyboard"),show:e.data("show")},n=s(t);return n.find(".commit").on("click",function(){e.get(0).click(),n.modal("hide")}),n},s=function(n){var i="confirm-modal-"+String(Math.random()).slice(2,-1),r=t.fade?"fade":"",o=n.modalClass?n.modalClass:t.modalClass,a=e('<div id="'+i+'" class="modal '+o+" "+r+'" tabindex="-1" role="dialog" aria-labelledby="'+i+'Label" aria-hidden="true"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header">'+('<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>'+('<h3 id="'+i+'Label" class="modal-title"></h3> '))+'</div><div class="modal-body"></div><div class="modal-footer"><button class="btn cancel" data-dismiss="modal" aria-hidden="true"></button><button class="btn commit"></button></div></div></div></div>'),s=current=t.zIndex;e(".modal.in").not("#"+i).each(function(){current=parseInt(e(this).css("z-index"),10),current>s&&(s=current)}),a.css("z-index",parseInt(s)+1),a.find(".modal-title").text(n.title||t.title);var l=a.find(".modal-body");e.each((n.text||"").split(/\n{2}/),function(t,n){l.append(e("<p/>").html(n))});var c=a.find(".commit");c.text(n.commit||t.commit),c.addClass(n.commitClass||t.commitClass);var u,d=a.find(".cancel");if(d.text(n.cancel||t.cancel),d.addClass(n.cancelClass||t.cancelClass),n.remote&&c.attr("data-dismiss","modal"),n.verify||n.verifyRegexp){var h;if(c.prop("disabled",!0),n.verifyRegexp){var p=n.verifyRegexpCaseInsensitive,f=n.verifyRegexp,m=new RegExp(f,p?"i":"");h=function(e){return e.match(m)}}else h=function(e){return n.verify==e};var g=e("<input/>",{type:"text","class":t.verifyClass}).on("keyup",function(){c.prop("disabled",!h(e(this).val()))});a.on("shown.bs.modal",function(){g.focus()}),a.on("hidden.bs.modal",function(){g.val("").trigger("keyup")}),n.verifyLabel&&l.append(e("<p>",{text:n.verifyLabel})),l.append(g)}return u=n.focus?n.focus:"delete"==n.method?"cancel":t.focus,u=a.find("."+u),a.on("shown.bs.modal",function(){u.focus()}),e("body").append(a),a.spawn=function(){return a.modal(e.extend({},{backdrop:n.backdrop,keyboard:n.keyboard,show:n.show}))},a};if(e.fn.getConfirmModal=function(){var t=e(this),n=t.data("confirm-modal");return n||(n=a(t),t.data("confirm-modal",n)),n},e.fn.confirmModal=function(){var t=e(this).getConfirmModal();return t.spawn(),t},window.Rails||e.rails){var l=window.confirm;e(document).delegate(t.elements.join(", "),"confirm",function(){var t=e(this).getConfirmModal();return t.is(":visible")?(window.confirm=function(){return!0},t.one("hidden.bs.modal",function(){window.confirm=l}),!0):(t.spawn(),!1)})}}(jQuery),function(){$.urlParam=function(e,t){var n;return null==(n=new RegExp("[?&]"+t+"=([^&#]*)").exec(e))?null:decodeURI(n[1])},$.capitalize=function(e){return(e=e.toString()).charAt(0).toUpperCase()+e.slice(1)},$.camelize=function(e,t){return null==t&&(t={}),null==e?"":(e=e.toString().replace(/[-_]([a-z])/g,function(e){return e[1].toUpperCase()}),t.pascalCase?$.capitalize(e):e)},"undefined"!=typeof dataConfirmModal&&null!==dataConfirmModal&&dataConfirmModal.setDefaults({title:"\ud655\uc778",commit:"\ud655\uc778",cancel:"\ucde8\uc18c"}),Number.prototype.clamp=function(e,t){return Math.min(Math.max(this,e),t)}}.call(this),$.fn.extend({animateCss:function(e,t){var n;return n=function(e){var t,n;for(n in t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"})if(void 0!==e.style[n])return t[n]}(document.createElement("div")),this.addClass("animated "+e).one(n,function(){if($(this).removeClass("animated "+e),"function"==typeof t)return t()}),this}}),function(){var e;window.Hera={},window.Business={},window.Competitions={},window.Learn={},window.LearnManagement={},window.School={},window.Users={},window.Ybm={},window.Global={},window.Monito={},window.Hera.test={},window.Hera.codeTemplates={},window.Hera.challenge={},window.Hera.challengeFilter={},window.Hera.channel={},window.Hera.channel.challenge={},window.Hera.channel.live={},window.Hera.channel.assignment={},window.Hera.lesson={},window.Hera.tryoutChallenge={},window.Hera.assignmentChallenge={},window.Hera.solvable={},window.Hera.resume={},window.Hera.skillCheck={},window.Hera.openVidu={},window.Hera.videoPlayer={},e={exec:function(e,t,n){var i;if(null!=window[e]&&null!=window[e][t]&&(i=window[e][t]),null!=i&&"function"==typeof i[n])return i[n].call(i)},init:function(){var t,n,i,r;return r=(n=document.body).getAttribute("data-ns")||"Hera",i=$.camelize(n.getAttribute("data-controller")),t=n.getAttribute("data-action"),null!=i&&(e.exec(r,i,"init"),e.exec(r,i,$.camelize("init_"+t))),svg4everybody(),Hera.commons.enableTooltips(),Hera.commons.enablePopovers(),Hera.commons.initBanners(),this._initModal(),this._storeUtmValues()},_initModal:function(){return $("#modal-dialog").on("shown.bs.modal",function(t){var n,i,r,o;return o=(r=$(t.currentTarget)).attr("data-ns")||"Hera",i=$.camelize(r.attr("data-controller")),n=r.attr("data-action"),e.exec(o,i,$.camelize("init_"+n+"_js"))})},_storeUtmValues:function(){var e,t,n,i,r,o;for(n=[],e=0,t=(r=["utm_source","utm_medium","utm_campaign","utm_content"]).length;e<t;e++)i=r[e],(o=$.urlParam(window.location.href,i))?n.push(Cookies.set(i,o)):n.push(void 0);return n}},$(function(){return e.init()})}.call(this),function(){Hera.test.Base=function(){function e(){this.channel=null}return e.prototype.destroy=function(){return this.channel&&this.channel.unsubscribe(),this.stopTimer()},e.prototype.checkConnection=function(){return null!=this.channel&&!this.channel.isDisconnected()},e.prototype.startTimer=function(e,t){var n,i;return n=e+Date.now(),this.timer=setInterval((i=this,function(){var e;return Date.now()<n?(e=Hera.commons.getLimitTime(n-Date.now()),$("span.timer .time").text(e)):(i.stopTimer(),"function"==typeof t?t():void 0)}),450)},e.prototype.stopTimer=function(){if(null!=this.timer)return clearInterval(this.timer),this.timer=null},e.prototype.resetTimer=function(e,t){return this.stopTimer(),this.startTimer(e,t)},e.prototype.startTour=function(e){var t;if(null==e&&(e=!1),"function"==typeof this.tourSteps)return null==this.tour&&(t=this.tourSteps(),this.tour=new Tour({name:this.tourName,backdrop:!0,steps:t,template:Hera.templates.tourTemplate(t)})),this.tour.setCurrentStep(0),e?this.tour.restart():this.tour.start()},e.prototype.endTour=function(){if(this.tour)return this.tour.end()},e}()}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.challenge.Base=function(t){function n(e){this.challengeableType=e.challengeableType,this.challengeableId=e.challengeableId,this.language=e.language,this.interactMode=e.interactMode,this.userName=e.userName,this.isInterviewer=e.isInterviewer,this.clipboardRestricted=e.clipboardRestricted,null==this.interactMode&&(this.interactMode="testing_and_scoring"),this.storeKey=this.challengeableType+"-"+this.challengeableId,this._initThemeHandler(),this._initChallengeNavigationHandler()}return e(n,t),n.prototype._initEditor=function(){var e;return(e=Hera.editor.getOptions(this.language)).theme=Hera.editor.getCodeMirrorTheme(Cookies.get("theme")),this.codeEditor=CodeMirror.fromTextArea($(".code-section textarea")[0],e),this.clipboardRestricted&&this._initRestrictedClipboard(),this._initKeymapHandler()},n.prototype._initChallengeNavigationHandler=function(){return $(".challenge-nav-link").click((e=this,function(){return e.saveTemporaryCode({verbose:!1}),!0}));var e},n.prototype.unloadHandler=function(){this.saveTemporaryCode({verbose:!1})},n.prototype._initCodeLayout=function(){var e,t,n;return e=[60,40],this.verticalSize=e,Split([".guide-section",".run-section"],{sizes:[40,60],minSize:0,gutterSize:24,direction:"horizontal",cursor:"ew-resize"}),$(".output-section").length>0&&(t=Split([".code-section",".output-section"],{sizes:e,minSize:60,gutterSize:14,direction:"vertical",cursor:"ns-resize",onDragEnd:(n=this,function(){return n.verticalSize=t.getSizes()})})),$(".gutter-horizontal").mouseover(function(){return $(this).css("background-image","url(/assets/img-grippie-vertical-hover-ade06d8b8dcbd1905e8e9a9f08ccfc28f2c92a04b77ed9a6fdcbb9f4559ee8c7.png)")}).mouseout(function(){return $(this).css("background-image","url(/assets/img-grippie-vertical-86e641691e88be56a100b80e3d437ae6effea08c189fdbdb2396825486763a15.png)")}),$(".gutter-vertical").mouseover(function(){return $(this).css("background-image","url(/assets/img-grippie-horizon-hover-46c3e043ece68accd5ec1169f417c45e94efb4ad02409ec5ebc6adf6c0fe80ce.png)")}).mouseout(function(){return $(this).css("background-image","url(/assets/img-grippie-horizon-9ee873f74b6c8cb40d35bccfb7b34fd12c6c78dccf964c22674c3ae8ed3995be.png)")}),$(".guide-section .btn-question").click(function(){return $("html, body").animate({scrollTop:$(window).height()},1e3)}),this._initWindowResizeHandler()},n.prototype._initWindowResizeHandler=function(){if($('.lesson-content[data-lesson-type="Challenge"]').length>0)return this._setEditorHeight(),$(window).resize((e=this,function(){return e._setEditorHeight()}));var e},n.prototype._setEditorHeight=function(){var e;return e=$('.lesson-content[data-lesson-type="Challenge"]').find(".output-section"),$(".gutter").is(":visible")?"true"===e.attr("data-is-mobile")?(e.attr("data-is-mobile",!1),e.attr("style","height: calc("+this.verticalSize[1]+"% - 7px)")):void 0:(e.height($(".output-section").height()+$(window).height()-$("body").height()),e.attr("data-is-mobile",!0))},n.prototype._initThemeHandler=function(){return $(".btn-group-theme label").click((e=this,function(t){var n;if(n=$(t.currentTarget).find("input").data("theme"),Cookies.set("theme",n,{expires:3650}),$("body > .main").removeClass("theme-dark theme-light"),$("body > .main").addClass("theme-"+n),e.codeEditor)return e.codeEditor.setOption("theme",Hera.editor.getCodeMirrorTheme(n))}));var e},n.prototype._initKeymapHandler=function(){return $(".btn-group-keymap label").click((e=this,function(t){var n;return n=$(t.currentTarget).find("input").data("keymap"),Cookies.set("keymap",n,{expires:3650}),e.codeEditor.setOption("keyMap",n)}));var e},n.prototype._initButtons=function(){var e;return $("#reset-code").click((e=this,function(t){return t.preventDefault(),!!e.checkConnection()&&e.reset()})),$("#run-code").click(function(e){return function(t){return t.preventDefault(),!!e.checkConnection()&&e.run()}}(this)),$("#submit-code").click(function(e){return function(t){return t.preventDefault(),!!e.checkConnection()&&(e.constructor.disableSubmitCodeBtn(),e.submit())}}(this)),$("#save-code").click(function(e){return function(t){return t.preventDefault(),!!e.checkConnection()&&e.saveCode()}}(this)),$("#stop-button").click(function(e){return function(t){return t.preventDefault(),!!e.checkConnection()&&e.stop()}}(this)),$("#show-result").click(function(e){return function(t){return t.preventDefault(),!!e.checkConnection()&&e.result()}}(this))},n.prototype._initRestrictedClipboard=function(){return this.codeEditor.on("cut",function(e,t){return t.preventDefault(),Hera.editor.clipboard=e.getSelection(),e.getDoc().replaceSelection("")}),this.codeEditor.on("copy",function(e,t){return t.preventDefault(),Hera.editor.clipboard=e.getSelection()}),this.codeEditor.on("paste",function(e,t){if(t.preventDefault(),null!=Hera.editor.clipboard)return e.getDoc().replaceSelection(Hera.editor.clipboard)})},n.prototype.resetEditor=function(e){var t,n,i;return i=function(){var i;for(n in i=[],e)t=e[n],i.push(t);return i}(),this.codeEditor.doc.setValue(i[0])},n.prototype.saveCode=function(e){null==e&&(e=!0)},n.prototype.saveTemporaryCode=function(e){null==e&&(e=!0)},n.prototype.finish=function(){return this.stopTimer(),this.channel.perform("finish")},n.prototype.submit=function(){return this.channel.perform("submit")},n.prototype._concatCodes=function(){var e,t,n;return this.codeEditor&&this.codeEditor.save(),e=this._getCodes(),function(){var i;for(t in i=[],e)n=e[t],i.push(Array.isArray(n)?n.join(""):n);return i}().join("\n").trim()},n.prototype._saveCodeHash=function(){var e,t,n;return e=this._concatCodes(),n=SparkMD5.hash(e),null!=this.language?(null===(t=store.session(this.storeKey))&&(t={}),t[this.language]=n,store.session(this.storeKey,t)):store.session(this.storeKey,n)},n.prototype._isCodeChanged=function(){var e,t,n;return null===(n=store.session(this.storeKey))||(t=null!=this.language?n[this.language]:n,e=this._concatCodes(),null==t||t!==SparkMD5.hash(e))},n.prototype._checkCode=function(e,t){var n;return null==t&&(t=!0),0===(n=this._concatCodes()).length?(t&&Hera.utils.snackbar(I18n.t("tryout_challenges.error.no_code."+e)),!1):n.length>=1048576?(t&&Hera.utils.snackbar(I18n.t("tryout_challenges.error.too_long")),!1):(this._saveCodeHash(),!0)},n.prototype._initTimer=function(e){var t,n;if(0!==(t=$("span.timer")).length)return n=t.data("remaining-time"),this.startTimer(n,e)},n.prototype._initUploadButton=function(e){var t;return $(".input-file-hidden").on("change",(t=this,function(n){var i,r;return r=$(n.target)[0].files[0],i=$(n.target).attr("id"),e&&!Hera.commons.validateFilesSize(n.currentTarget,e)?Hera.utils.snackbar(I18n.t("challenge.file.invalid_file_size",{maximum_file_size:e})):null!=r?t._uploadFile(i,r):void 0})),$(".btn.btn-clear").click(function(e){return function(t){var n;return n=$(t.currentTarget).data("for"),e._removeFile(n)}}(this))},n.prototype._uploadFile=function(e,t){return $(".btn.btn-clear[data-for='"+e+"']").removeClass("hidden"),$(".attachment-file-name[data-for='"+e+"']")[0].innerHTML=t.name,this._updateUploadButton()},n.prototype._removeFile=function(e){return $("input#"+e+"[type='file']").val(""),$(".btn.btn-clear[data-for='"+e+"']").addClass("hidden"),$(".attachment-file-name[data-for='"+e+"']")[0].innerHTML=I18n.t("challenge.file.blank"),$(".js-btn-upload-app").attr("disabled",!0),this._updateUploadButton()},n.prototype._checkUploadable=function(){return!0},n.prototype._updateUploadButton=function(){return $(".js-btn-upload").attr("disabled",!this._checkUploadable())},n.prototype._initFileUploadHandler=function(){return $(".js-btn-upload").click((e=this,function(t){return e._uploadSubmission(t)}));var e},n.prototype._uploadSubmission=function(){return this._fileUploadByPost()},n.prototype._fileUploadByPost=function(){var e,t;return $(".js-btn-upload").attr("disabled",!0),$(".js-btn-upload").text(I18n.t("challenge.file.uploading")),e=new FormData($("#"+this.challengeableType+"-submission-file-form")[0]),$.ajax({url:window.location.pathname+"/"+this.challengeableType+"_submissions",type:"POST",data:e,contentType:!1,processData:!1,dataType:"json"}).done((t=this,function(){return Hera.utils.snackbar(I18n.t("challenge_"+t.challengeableType+".upload_done")),$(".js-btn-run, .btn-submit").attr("disabled",!1)})).fail(function(e){return function(){return Hera.utils.snackbar(I18n.t("challenge_"+e.challengeableType+".upload_fail"))}}(this)).always(function(){return $(".js-btn-upload").text(I18n.t("challenge.file.upload")),$(".js-btn-upload").attr("disabled",!1)})},n.initModalHandlers=function(){return $(document).off(".challengeable"),$(document).on("change.challengeable",".modal-challengeable .select-language",function(){var e;return e=$("option:selected",this).data("language"),$(".modal-challengeable .initial-code-wrapper").addClass("hidden"),$(".modal-challengeable .initial-code-wrapper[data-language="+e+"]").removeClass("hidden")}),$(document).on("change.challengeable",".modal-challengeable .select-locale",function(){var e;return e=$("option:selected",this).data("locale"),$(".modal-challengeable .description").addClass("hidden"),$(".modal-challengeable .description[data-locale="+e+"]").removeClass("hidden")})},n.disableSubmitCodeBtn=function(){return $("#submit-code").attr("disabled","disabled").popover("hide")},n.enableSubmitCodeBtn=function(){return $("#submit-code").removeAttr("disabled")},n}(Hera.test.Base)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Hera.challenge.Algorithm=function(n){function i(t){this.resizeInput=e(this.resizeInput,this),i.__super__.constructor.call(this,t),this.algorithmType=t.algorithmType,this.interfaceType=t.interfaceType,this.userTestcaseIndex=0,this.tourName="algorithm",this.initialCodes={},this.editedLine={},this.documents={},this.isLiveSession=$("#video-conference").length>0,this.isLiveSession&&(this._initLiveSessionOptions(),this._initVideoConference()),this._initAlgorithmInitialCodesData(),this._initEditor(),this._initButtons(),this._initCodeLayout(),this._saveCodeHash(),this._isDebugType()&&(this.diffTool=new diff_match_patch,this._checkLineDiff())}return t(i,n),i.prototype.INPUT_MIN_COLLPASE_WIDTH=40,i.prototype.INPUT_SIZE_PER_KEY=10,i.prototype.READONLY_MIN_WIDTH=5,i.prototype._setInitialCode=function(e){var t;return t=$(e).attr("id").replace(/initial_code_/,""),this.initialCodes[t]=$(e).val()},i.prototype._firebasePath=function(){throw"_firebasePath not implemented"},i.prototype._initLiveSessionOptions=function(){var e,t;return e={apiKey:(t=$("#video-conference").data()).firebaseApiKey,authDomain:t.firebaseAuthDomain,databaseURL:t.firebaseDatabaseUrl},0===firebase.apps.length&&firebase.initializeApp(e),this.firepadRef=firebase.database().ref(this._firebasePath())},i.prototype._initVideoConference=function(){var e,t,n,i,r,o,a;return n=(o=$("#video-conference").data()).opentokApiKey,r=o.opentokSessionId,i=o.opentokClientToken,[65,35],t=document.getElementById("video-conference"),e=initLayoutContainer(t).layout,(a=OT.initSession(r)).on("streamCreated",function(t){return a.subscribe(t.stream,"video-conference",{insertMode:"append"}),e()}).connect(n,i,function(t){if(!t)return a.publish("publisher"),e()})},i.prototype._initFirepad=function(e,t){var n,i;return n=this.isInterviewer?"interviewer_"+this.userName:"interviewee_"+this.userName,this.firepad=Firepad.fromCodeMirror(this.firepadRef,this.codeEditor,{userId:n,defaultText:e}),this.firepad.on("synced",(i=this,function(e){if(e)return i.documents[t].setValue(i.firepad.getText())}))},i.prototype._initAlgorithmInitialCodesData=function(){var e,t,n,i;for(t=0,n=(i=$("[id^=initial_code_]")).length;t<n;t++)e=i[t],this._setInitialCode(e);return this.currentDocument=Object.keys(this.initialCodes)[0]},i.prototype._initEditor=function(){return this._isFillType()?this._initInputEditor():(i.__super__._initEditor.call(this),this._initAlgorithmEditor())},i.prototype._initAlgorithmEditor=function(){var e,t;return this.codeEditor.on("change",(t=this,function(e){var n;if("debug"===t.algorithmType)return t.documents[t.currentDocument].lineCount()!==t.initialCodes[t.currentDocument].split("\n").length&&(e.undo(),n=I18n.t("tryout_challenges.error.change_limit_exceeded"),t.channel.handleError({data:n})),t._checkLineDiff()})),e=this,$($('.tap-form input[data-type="code"]').get().reverse()).each(function(){var t,n,i,r;return i=$(this).data("language"),r=Hera.editor.getModeByLanguage(i),t=CodeMirror.Doc($(this).val(),r),n=$(this).attr("id"),e.documents[n]=t,e.isLiveSession?e._initFirepad($(this).val(),n):e.codeEditor.swapDoc(t)}),$(".btn-tab").click(function(){var t;return $(this).tab("show"),t=$(this).data("id"),e.clickEditorTab(t)})},i.prototype._initInputEditor=function(){var e;return $(".btn-tab").click((e=this,function(t){var n;return $(t.target).tab("show"),n=$(t.target).data("id"),e.clickInputEditorTab(n)})),$(".code-editor#input_code_editor_"+this.currentDocument).removeAttr("hidden"),$('.code-editor input[type="text"]').keyup(this.resizeInput)},i.prototype._checkLineDiff=function(){var e,t,n,i,r,o,a,s,l;for(t=this.getChangedLineIndexes()||[],s=n=0,l=(e=this.documents[this.currentDocument]).lineCount();0<=l?n<l:n>l;s=0<=l?++n:--n)e.removeLineClass(s,"wrap","code--solution-wrap"),e.removeLineClass(s,"wrap","code--error-wrap");if(t.length>1)for(i=0,o=t.length;i<o;i++)s=t[i],e.addLineClass(s,"wrap","code--error-wrap");else if(1===t.length)for(r=0,a=t.length;r<a;r++)s=t[r],e.addLineClass(s,"wrap","code--solution-wrap");return this.editedLine[this.currentDocument]=t},i.prototype._swapCode=function(){return $(".code-editor[id^=input_code_editor_]").attr("hidden",!0),$(".code-editor#input_code_editor_"+this.currentDocument).removeAttr("hidden")},i.prototype.resetEditor=function(){return this._isFillType()?$(".code-editor#input_code_editor_"+this.currentDocument+" input[type='text']").val(""):this.isLiveSession&&$("#reset-code").length>0?this.firepad.setText(this.initialCodes[this.currentDocument]):this.documents[this.currentDocument].setValue(this.initialCodes[this.currentDocument])},i.prototype.resizeInput=function(e){if(!($(e.target).val().length<this.INPUT_MIN_COLLPASE_WIDTH))return $(e.target).css("width",($(e.target).val().length+2)*this.INPUT_SIZE_PER_KEY+"px");$(e.target).css("width",($(e.target).val().length+5)*this.INPUT_SIZE_PER_KEY+"px")},i.prototype.getChangedLineIndexes=function(){var e,t,n,i,r,o;for(e=this.documents[this.currentDocument].getValue().replace(/\r/g,"").split("\n"),o=this.initialCodes[this.currentDocument].replace(/\r/g,"").split("\n"),t=[],i=n=0,r=e.length;n<r;i=++n)e[i]!==o[i]&&t.push(i);return t},i.prototype._isFillType=function(){return"fill"===this.algorithmType},i.prototype._isDebugType=function(){return"debug"===this.algorithmType},i.prototype._isChangeLimitExceeded=function(){var e;return e=!1,$.each(this.editedLine,function(t,n){if(n.length>1)return e=!0}),e},i.prototype.clickEditorTab=function(e){return this.codeEditor.swapDoc(this.documents[e]),this.currentDocument=e},i.prototype.clickInputEditorTab=function(e){return this.currentDocument=e,this._swapCode()},i.prototype.reset=function(){if(confirm(I18n.t("tryout_challenges.alert.reset")))return this.channel.perform("reset")},i.prototype.run=function(){return this.channel.isIdle()?this._checkCode("run")?this.channel.perform("run",{codes:this._getCodes()}):void 0:Hera.utils.snackbar(I18n.t("tryout_challenges.info.running"))},i.prototype.submit=function(){var e;return this.channel.isIdle()?this._checkCode("submit")?this._isDebugType()&&this._isChangeLimitExceeded()?(e=I18n.t("tryout_challenges.error.multiple_edited_lines"),void this.channel.handleError({data:e})):this.channel.perform("submit",{codes:this._getCodes()}):void 0:Hera.utils.snackbar(I18n.t("tryout_challenges.info.running"))},i.prototype.stop=function(){return this.channel.perform("stop")},i.prototype.saveCode=function(e){if(null==e&&(e=!0),this._checkCode("save"))return this.channel.perform("save",{codes:this._getCodes(),verbose:e})},i.prototype.saveTemporaryCode=function(e){if(null==e&&(e=!0),this._isCodeChanged()&&this._checkCode("save",e))return this.channel.perform("save_temp_code",{codes:this._getCodes()})},i.prototype.finish=function(){var e;return this.stopTimer(),this._isCodeChanged()&&this._checkCode("save",!0)&&(e={codes:this._getCodes()}),this.channel.perform("finish",e||{})},i.prototype._getCodeFor=function(e){var t,n,i,r,o;if(this._isFillType()){for(o=[],n=0,i=(r=$("#input_code_editor_"+e+" input")).length;n<i;n++)t=r[n],o.push($(t).val());return o}return this.documents[e].getValue().trim()},i.prototype._getCodes=function(){var e,t,n,i,r,o;for(t=function(){var e,t,n,r;for(r=[],e=0,t=(n=$(".editor .tap-form li.nav-item a")).length;e<t;e++)i=n[e],r.push($(i).data("id"));return r}(),n={},r=0,o=t.length;r<o;r++)n[e=t[r]]=this._getCodeFor(e);return n},i.prototype.tourSteps=function(){return[{element:"#tour1",placement:"bottom",title:I18n.t("tryout_challenges.tour.common.list.title"),content:I18n.t("tryout_challenges.tour.common.list.content")},{element:"#tour2",placement:"right",title:I18n.t("tryout_challenges.tour.common.description.title"),content:I18n.t("tryout_challenges.tour.common.description.content")},{element:"#tour3",placement:"left",title:I18n.t("tryout_challenges.tour.common.editor.title"),content:I18n.t("tryout_challenges.tour.common.editor."+this.interfaceType+".content")},{element:"#tour4",placement:"top",title:I18n.t("tryout_challenges.tour.common.run.title"),content:I18n.t("tryout_challenges.tour.common.run."+this.interfaceType+".content")},{element:"#tour5",placement:"top",title:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.common.submit.submitted"):I18n.t("tryout_challenges.tour.common.submit.saved"),content:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.common.submit.submitted_content."+this.interfaceType+"."+this.interactMode):I18n.t("tryout_challenges.tour.common.submit.saved_content")},{element:"#tour6",placement:"top",title:I18n.t("tryout_challenges.tour.common.result.title"),content:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.common.result.submitted_content"):I18n.t("tryout_challenges.tour.common.result.saved_content")},{element:"#tour7",placement:"bottom",title:I18n.t("tryout_challenges.tour.common.language.title"),content:I18n.t("tryout_challenges.tour.common.language.content")},{element:"#tour8",placement:"top",title:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.common.log.submitted"):I18n.t("tryout_challenges.tour.common.log.saved"),content:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.common.log.submitted_content"):I18n.t("tryout_challenges.tour.common.log.saved_content")}]},i}(Hera.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty,n=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};Hera.challenge.Quiz=function(t){function i(e){i.__super__.constructor.call(this,e),this.tourName="quiz",this._initExampleHandlers(),this._initMultiExampleHandlers(),this._initTextAnswerHandlers(),this._initButtons()}return e(i,t),i.prototype._initExampleHandlers=function(){return $(".quiz-example-radiobutton").change((e=this,function(t){var n,i,r;return r=(i=$(t.target)).data("quiz-id"),n=parseInt(i.val()),e.submit(r,[n])}));var e},i.prototype._initMultiExampleHandlers=function(){return $(".quiz-example-checkbox").change((e=this,function(t){var n,i,r,o,a,s;for(s=$(t.target).data("quiz-id"),i=[],o=0,a=(n=$(":checkbox[name='quiz_mcq_answer_"+s+"']:checked")).length;o<a;o++)r=n[o],i.push(parseInt(r.value));return e.submit(s,i)}));var e},i.prototype._initTextAnswerHandlers=function(){return $(".js-saq-answer").focusout((e=this,function(t){var n,i,r;return i=(n=$(t.target)).val(),r=n.data("quiz-id"),e.submit(r,i)}));var e},i.prototype._initButtons=function(){var e;return $("#reset-code").click((e=this,function(t){return t.preventDefault(),e.reset()})),$("#show-result").click(function(e){return function(t){return t.preventDefault(),e.result()}}(this))},i.prototype.submit=function(e,t){var n;return this.lesson&&(n=this.lesson.lessonId),$.ajax({url:"/quiz_submissions/submit",type:"POST",data:{test_id:this.tryoutId,lesson_id:n,quiz_id:e,answers:t},timeout:3e3}).done(function(){return $(".challenge-nav").removeClass("disconnected")}).fail(function(t,n){if(0===t.status||"timeout"===n)return $(".challenge-nav").addClass("disconnected"),Hera.challenge.Quiz.updateIconsToNotSubmitted(e)}).always(function(){var t,n;return n=$(".nav-quizzes"),t=$("#quiz-nav-item-"+e),n.animate({scrollTop:n.scrollTop()+t.position().top})})},i.prototype.reset=function(){var e;if(this.lesson&&(e=this.lesson.lessonId),confirm(I18n.t("tryout_challenges.alert.reset")))return $.ajax({url:"/quiz_submissions/reset",method:"DELETE",data:{lesson_id:e,test_id:this.tryoutId}})},i.prototype.result=function(){var e;return this.lesson&&(e=this.lesson.lessonId),$.post("/quiz_submissions/result",{test_id:this.tryoutId,lesson_id:e})},i.updateIconsToSubmitted=function(e){return $("#quiz-nav-item-"+e+" > svg").replaceWith(""+Hera.commons.svgTag("ic-added-circle",20,"manatee","m-r-18")),$("#quiz-"+e+" .quiz-desc-icon svg").replaceWith(""+Hera.commons.svgTag("ic-added-circle",20,"manatee","align-text-top"))},i.updateIconsToNotSubmitted=function(e){return $("#quiz-nav-item-"+e+" svg").replaceWith(""+Hera.commons.svgTag("ic-right",20,"arsenic")),$("#quiz-"+e+" .quiz-desc-icon svg").replaceWith(""+Hera.commons.svgTag("ic-right",20,"arsenic","align-text-top")),$("#checkbox-quizzes").replaceWith('<svg id="checkbox-quizzes" class="outline-box"> <use xlink:href="'+Hera.commons.getSvgPath()+'#ic-check-box-unchecked-outline"/> </svg>')},i.updateCheckboxToDone=function(){return $("#checkbox-quizzes").replaceWith('<svg id="checkbox-quizzes" class="outline-box"> <use xlink:href="'+Hera.commons.getSvgPath()+'#ic-check-box-outline"/> </svg>')},i.updateSubmittedQuizzesCount=function(e){return $(".submitted-quizzes-count").text(e),$(".submission-state").text(""+I18n.t("tryout_challenges.quiz_editor.submitted_msg",{quiz_counts:$(".nav-quizzes li").length,submitted_counts:e}))},i.markCorrectStatus=function(e,t,i){var r,o,a,s,l,c,u,d;for(t?(a=""+Hera.commons.svgTag("ic-right",20,"success"),r='<div class="correct"> '+Hera.commons.svgTag("ic-right",20,"white")+" <span>\uc815\ub2f5</span></div>"):(a=""+Hera.commons.svgTag("ic-wrong",20,"blue-grey-200"),r='<div class="incorrect"> '+Hera.commons.svgTag("ic-wrong",20,"white")+" <span>\uc624\ub2f5</span></div>"),$(".index-quiz-correct-status[data-quiz-id="+e+"] >").replaceWith(a),$(".quiz-correct-status[data-quiz-id="+e+"] >").replaceWith(r),d=[],o=0,s=(c=$(".quiz-example-correct-mark[data-quiz-id="+e+"]")).length;o<s;o++)l=c[o],u=$(l).data("index"),n.call(i,u)>=0?d.push($(l).children().replaceWith('<span class="correct-mark"> \u2714 </span>')):d.push($(l).children().replaceWith('<span class="correct-mark"> \u2718 </span>'));return d},i.showResult=function(e,t,n,i,r,o){var a,s,l,c,u,d,h,p;for(a=0,l=(h=JSON.parse(e)).length;a<l;a++)d=h[a],this.markCorrectStatus(d,!0,i[d]);for(s=0,c=(p=JSON.parse(n)).length;s<c;s++)d=p[s],this.markCorrectStatus(d,!1,i[d]);return u=new Learn.lessons.Base,"true"===t?u.showSuccessModal(r,o):u.showFailedModal()},i}(Hera.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.challenge.Sql=function(t){function n(e){n.__super__.constructor.call(this,e),this.tourName="sql",this._initEditor(),this._initCodeLayout(),this._initButtons(),this._saveCodeHash()}return e(n,t),n.prototype.reset=function(){if(confirm(I18n.t("tryout_challenges.alert.reset")))return this.channel.perform("reset")},n.prototype.run=function(){
return this.channel.isIdle()?this._checkCode("run")?this.channel.perform("run",{codes:this._getCodes()}):void 0:Hera.utils.snackbar(I18n.t("tryout_challenges.info.running"))},n.prototype.submit=function(){return this.channel.isIdle()?this._checkCode("submit")?this.channel.perform("submit",{codes:this._getCodes()}):void 0:Hera.utils.snackbar(I18n.t("tryout_challenges.info.running"))},n.prototype.saveCode=function(e){if(null==e&&(e=!0),this._checkCode("save"))return this.channel.perform("save",{codes:this._getCodes(),verbose:e})},n.prototype.saveTemporaryCode=function(e){if(null==e&&(e=!0),this._isCodeChanged()&&this._checkCode("save",e))return this.channel.perform("save_temp_code",{codes:this._getCodes()})},n.prototype.finish=function(){var e;return this.stopTimer(),this._isCodeChanged()&&this._checkCode("save",!0)&&(e={codes:this._getCodes()}),this.channel.perform("finish",e||{})},n.prototype._getCodes=function(){var e;return(e={})[$(".editor .tap-form li.nav-item a").data("id")]=$("#code").val().trim(),e},n.prototype.tourSteps=function(){return[{element:"#tour1",placement:"bottom",title:I18n.t("tryout_challenges.tour.common.list.title"),content:I18n.t("tryout_challenges.tour.common.list.content")},{element:"#tour2",placement:"right",title:I18n.t("tryout_challenges.tour.common.description.title"),content:I18n.t("tryout_challenges.tour.common.description.content")},{element:"#tour3",placement:"left",title:I18n.t("tryout_challenges.tour.common.editor.title"),content:I18n.t("tryout_challenges.tour.sql.editor.content")},{element:"#tour4",placement:"top",title:I18n.t("tryout_challenges.tour.common.run.title"),content:I18n.t("tryout_challenges.tour.sql.run.content")},{element:"#tour5",placement:"top",title:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.common.submit.submitted"):I18n.t("tryout_challenges.tour.common.submit.saved"),content:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.sql.submit.submitted_content"):I18n.t("tryout_challenges.tour.sql.submit.saved_content")},{element:"#tour6",placement:"top",title:I18n.t("tryout_challenges.tour.common.result.title"),content:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.sql.result.submitted_content"):I18n.t("tryout_challenges.tour.sql.result.saved_content")},{element:"#tour7",placement:"bottom",title:I18n.t("tryout_challenges.tour.common.language.title"),content:I18n.t("tryout_challenges.tour.common.language.content")},{element:"#tour8",placement:"top",title:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.common.log.submitted"):I18n.t("tryout_challenges.tour.common.log.saved"),content:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.common.log.submitted_content"):I18n.t("tryout_challenges.tour.common.log.saved_content")}]},n}(Hera.challenge.Base)}.call(this),function(){var extend=function(e,t){function n(){this.constructor=e}for(var i in t)hasProp.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;Hera.challenge.WebFrontend=function(superClass){function WebFrontend(e){var t,n;WebFrontend.__super__.constructor.call(this,e),this.challengeWebFrontendEvaluationCode=e.challengeWebFrontendEvaluationCode,this.tourName="web-frontend",this.isFirstTimeState=!0,this.score=0,this.challengeWebFrontendSetupCode=$(".result > div.controller").data("setupcode"),(t=Hera.editor.getOptions("javascript")).theme=Hera.editor.getCodeMirrorTheme(Cookies.get("theme")),this.codeEditor=CodeMirror.fromTextArea($(".web-editor .challenge-container>.run #code")[0],t),this._initButtons(),this.initConsole(),this.initErrorHandler(),$(document).on("userCodeRun",(n=this,function(){var e;return e=n.scriptCode(),n.executeScript(e)})),$(".nav>li>a").click(function(){return $(".nav>li>a.active").removeClass("active")})}return extend(WebFrontend,superClass),WebFrontend.prototype.initConsole=function(){var e,t;return e=this,window.console=(t=window.console,{log:function(n){t.log(n),e.displayConsole("console",n)},info:function(e){t.info(e)},warn:function(e){t.warn(e)},error:function(e){t.error(e)}})},WebFrontend.prototype.initErrorHandler=function(){var e;return window.onerror=(e=this,function(t){return e.displayConsole("runtime_error","Error: "+t),!0}),window.addEventListener("error",function(e){return function(t){return e.displayConsole("runtime_error","Error: "+t.message),t.preventDefault()}}(this))},WebFrontend.prototype.reset=function(){if(confirm(I18n.t("tryout_challenges.alert.reset")))return this.isFirstTimeState=!0,this.channel.perform("reset"),this.initSetupCode()},WebFrontend.prototype.run=function(){return this.channel.isIdle()?this._checkCode("run")?(this.disableSubmitButton(),this.initSetupCode(),this.channel.perform("run",{codes:this._getCodes(),evaluated:!!this.challengeWebFrontendEvaluationCode})):void 0:Hera.utils.snackbar(I18n.t("tryout_challenges.info.running"))},WebFrontend.prototype.submit=function(){if(!this.channel.isIdle())return Hera.utils.snackbar(I18n.t("tryout_challenges.info.running"));if(this._checkCode("submit"))try{return this.disableSubmitButton(),this.initSetupCode(),this.result=eval(this.challengeWebFrontendEvaluationCode)}catch(error1){return this.result=!1}finally{this.channel.perform("submit",{codes:this._getCodes(),result:this.result})}},WebFrontend.prototype.save=function(){if(this._checkCode("save"))return this.channel.perform("save",{codes:this._getCodes()})},WebFrontend.prototype._getCodes=function(){var e,t;return e=this.codeEditor.getValue().trim(),(t={})[""+$(".run > .title > h5").data("code-file-id")]=e,t},WebFrontend.prototype.clearConsole=function(){return $("#output").html("<pre class='console-content'><div></div></pre>")},WebFrontend.prototype.displayConsole=function(e,t){var n;switch(null==t&&(t=null),n=$("#output .console-content"),e){case"console":n.append(t+"<br/>");break;case"runtime_error":n.append('<div class="console-title failed">'+I18n.t("channels.challenge_algorithm.runtime_error")+"</div>"),n.append('<div class="console-failed">'+t+"</div>")}return $('#webTab a[href="#output"]').tab("show")},WebFrontend.prototype.isFristTime=function(){return this.isFirstTime()},WebFrontend.prototype.isFirstTime=function(){return this.isFirstTimeState?(this.isFirstTimeState=!1,!this.isFirstTimeState):this.isFirstTimeState},WebFrontend.prototype.initSetupCode=function(){return $("div.result > div.controller").html(this.challengeWebFrontendSetupCode),this.clearConsole()},WebFrontend.prototype.scriptCode=function(){var e;return e=this.codeEditor.getValue().trim(),"function"==typeof __preProcess&&(e=__preProcess(e)),e},WebFrontend.prototype.executeScript=function(e){var t,n,i,r,o;o="try{\n"+e+"\n}catch(err){\nconsole.log(err);\n} "+this.endTriggerCode();try{new Function(e)}catch(a){return n=a,this.displayConsole("runtime_error",n),void $(".btn-submit").removeClass("disabled")}return(t=document.getElementById("customScript"))&&t.parentNode.removeChild(t),r=document.createElement("script"),i=document.createTextNode(o),r.id="customScript",r.appendChild(i),document.body.appendChild(r)},WebFrontend.prototype.disableSubmitButton=function(){return $(".btn-submit").addClass("disabled")},WebFrontend.prototype.endTriggerCode=function(){return"$(\".btn-submit\").removeClass('disabled');"},WebFrontend}(Hera.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.challenge.DataScience=function(t){function n(e){var t;n.__super__.constructor.call(this,e),$("#assignment-validate").click((t=this,function(e){return e.preventDefault(),!!t.checkConnection()&&t._assignmentValidate()})),$("#assignment-submit").click(function(e){return function(t){return t.preventDefault(),!!e.checkConnection()&&e._assignmentSubmit()}}(this)),$("#practice-assignment-reset").click(function(e){return function(t){return t.preventDefault(),!!e.checkConnection()&&(confirm(I18n.t("practice.show.confirm.restart"))?e._assignmentReset():void 0)}}(this)),$("#assignment-reset").click(function(e){return function(t){return t.preventDefault(),!!e.checkConnection()&&(confirm(I18n.t("assignment_tests.confirm.reset"))?e._assignmentReset():void 0)}}(this)),$(document).on("click","#request-review",function(e){return function(){return event.preventDefault(),!!e.checkConnection()&&e._assignmentRequestReview()}}(this))}return e(n,t),n.prototype._assignmentValidate=function(e){return null==e&&(e=!0),this.disableResetAndSubmitBtn(),this.channel.perform("validate",{verbose:e})},n.prototype._assignmentRequestReview=function(){return $(".has-error").text(""),this.disableResetAndSubmitBtn(),this.channel.perform("submit")},n.prototype._assignmentReset=function(e){return null==e&&(e=!0),this.disableResetAndSubmitBtn(),$(".list-process").removeClass("step-3"),$(".list-process").addClass("step-1"),$(".challenge-content .main-section").addClass("hidden"),$(".challenge-content .main-section-loading").removeClass("hidden"),this.channel.perform("reset",{verbose:e}),window.location.reload(!0)},n.prototype._assignmentSubmit=function(e){if(null==e&&(e=!0),confirm(I18n.t("assignment_tests.confirm.submit")))return this.disableResetAndSubmitBtn(),this.channel.perform("submit",{verbose:e})},n.prototype.disableResetAndSubmitBtn=function(){return $("#assignment-reset").prop("disabled",!0),$("#practice-assignment-reset").prop("disabled",!0),$("#assignment-validate").prop("disabled",!0),$("#assignment-submit").prop("disabled",!0),$("#request-review").prop("disabled",!0)},n}(Hera.challenge.Base)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Hera.challenge.MachineLearning=function(n){function i(t){this.save=e(this.save,this),this.file=null,i.__super__.constructor.call(this,t),this._initFileUploadHandler(),this._initUploadButton(),this._initUploadResultHandler(),this._initSubmissionSelectorHandler()}return t(i,n),i.prototype._updateUploadButton=function(){return i.__super__._updateUploadButton.apply(this,arguments),$(".js-btn-appendix-upload").attr("disabled",!this._checkAppendixUploadable())},i.prototype._checkUploadable=function(){return $("#machine-learning-file.input-file-hidden")[0].files.length},i.prototype._checkAppendixUploadable=function(){var e;return e=0,$(".input-file-hidden.js-file-appendix").each(function(){return e+=$(this)[0].files.length}),e},i.prototype._fileFor=function(e){var t;return t=$(e).data("category"),$("#"+t).get(0).files[0]},i.prototype._initFileUploadHandler=function(){return i.__super__._initFileUploadHandler.apply(this,arguments),$(".js-btn-appendix-upload ").click((e=this,function(){var t,n,i,r,o,a,s,l,c,u,d;for(e._closeAppendixUploadResult(),$(".js-btn-appendix-upload").attr("disabled",!0),n=new FormData,o=r=0,s=(u=$(".token-appendix-form")).length;r<s;o=++r){for(t=u[o],a=0,l=(d=$(t).serializeArray()).length;a<l;a++)c=d[a],(i=/(?:\[)(\w*)(?:\])/g.exec(c.name))&&n.append("test_token_appendixes["+o+"]["+i[1]+"]",c.value);n.append("test_token_appendixes["+o+"][file]",e._fileFor(t))}return $.ajax({url:window.location.pathname+"/test_token_appendixes",type:"POST",data:n,contentType:!1,processData:!1}).done(function(){return $(".js-appendix-upload-success").removeClass("hidden")}).fail(function(e){return $(".js-appendix-upload-failed").removeClass("hidden"),0===e.status?Hera.utils.snackbar(I18n.t("editor.network_error")):Hera.utils.snackbar(I18n.t("editor.error",{message:e.responseText}))})}));var e},i.prototype._uploadSubmission=function(){return this._closeUploadResult(),$(".js-btn-upload").attr("disabled",!0),this.save()},i.prototype._initUploadResultHandler=function(){var e;return $(".js-upload-success .close, .js-upload-failed .close").click((e=this,function(){return e._closeUploadResult()})),$(".js-appendix-upload-success .close, .js-appendix-upload-failed .close").click(function(e){return function(){return e._closeAppendixUploadResult()}}(this))},i.prototype._loadMachineLearningSubmissions=function(){return $.get("/machine_learning_submissions?test_id="+this.assignmentId)},i.prototype._initSubmissionSelectorHandler=function(){return $(document).on("change",".js-submission-selector",(e=this,function(t){var n;if(n=$(t.target).data("submissionId"))return e.channel.perform("submit",{selectedSubmissionId:n})}));var e},i.prototype._closeUploadResult=function(){return $(".js-upload-success, .js-upload-failed").addClass("hidden")},i.prototype._closeAppendixUploadResult=function(){return $(".js-appendix-upload-success, .js-appendix-upload-failed").addClass("hidden")},i.prototype.save=function(){var e,t;return this.file=$("#machine-learning-file")[0].files[0],(e=new FileReader).addEventListener("loadend",(t=this,function(){return t.channel.perform("save",{filename:t.file.name})})),e.readAsDataURL(this.file)},i.prototype.uploadResultFile=function(e,t){return $.ajax({url:e,type:"PUT",data:this.file,contentType:this.file.type,processData:!1}).done((n=this,function(){return $(".js-upload-success").removeClass("hidden"),n.channel.perform("evaluate",{submissionId:t})})).fail(function(e){return function(){return $(".js-upload-failed").removeClass("hidden"),e.channel.perform("rollback",{submissionId:t})}}(this));var n},i}(Hera.challenge.Base)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Hera.challenge.Web=function(n){function i(t){var n;this._resetBuildButton=e(this._resetBuildButton,this),i.__super__.constructor.call(this,t),this.testTokenId=t.testTokenId,this._initAssignmentRunBtn(),$("#assignment-submit").click((n=this,function(e){return e.preventDefault(),!!n.checkConnection()&&n._submitAssignment()})),$("#vscode-launch[data-test-token-id='"+this.testTokenId+"']").click(function(e){return e.preventDefault(),window.open($(e.target).data("url"),"_blank")}),$("#vscode-submit").click(function(e){return function(t){return t.preventDefault(),!!e.checkConnection()&&e._submitVscode()}}(this)),$(document).on("click","#request-review",function(e){return function(){return event.preventDefault(),!!e.checkConnection()&&e._requestReviewVscode()}}(this)),$("#vscode-restart").click(function(e){return function(t){return t.preventDefault(),!!e.checkConnection()&&($("#vscode-restart").prop("disabled",!0),e._restartVscode())}}(this)),$("#reset-repository").click(function(e){return function(t){return t.preventDefault(),!!e.checkConnection()&&(e._resetBuildButton(),$("#assignment-submit").attr("disabled",!0),$("#form-repository-url").attr("readonly",!1),e.constructor.showAssignmentButton("build"),e._stopHerokuTask())}}(this)),$("#form-repository-url").keypress(function(e){if(13===e.which&&""===$("#form-self-hosted-url").val())return $("#assignment-build").click()}),$("#form-self-hosted-url").on("change paste keyup",function(e){return function(t){return""===$(t.target).val().trim()?($("#assignment-submit").attr("disabled",!0),$("#assignment-build").attr("disabled",!1)):(e._resetBuildButton(),$("#assignment-submit").attr("disabled",!1),$("#assignment-build").attr("disabled",!0))}}(this))}return t(i,n),i.prototype._initAssignmentRunBtn=function(){return $("#assignment-build").click((e=this,function(t){return t.preventDefault(),!!e.checkConnection()&&($(".has-error").text(""),e.validRepositoryUrl($("#form-repository-url").val())?($("#reset-repository").addClass("hidden"),e._runAssignment()):($(".has-error.assignment-logs").removeClass("hidden").text(I18n.t("assignment_tests.web.error_messages.invalid_repository_format")),!1))}));var e},i.prototype._runAssignment=function(e){return null==e&&(e=!0),this.constructor.runAssignment(this.channel)},i.runAssignment=function(e,t){return null==t&&(t=!0),$("#form-repository-url").attr("readonly",!0),Hera.challenge.Web.showAssignmentButton("running"),e.perform("run",{repository:$("#form-repository-url").val(),verbose:t})},i.prototype._submitAssignment=function(e){if(null==e&&(e=!0),confirm(I18n.t("assignment_tests.confirm.submit")))return this.disableResetAndSubmitBtn,this.validRepositoryUrl($("#form-repository-url").val())?($(".has-error").text(""),this.channel.perform("submit",{repository:$("#form-repository-url").val(),selfHostedUrl:$("#form-self-hosted-url").val(),verbose:e})):($(".has-error.assignment-logs").removeClass("hidden").text(I18n.t("assignment_tests.web.error_messages.invalid_repository_format")),!1)},i.prototype._submitVscode=function(e){if(null==e&&(e=!0),confirm(I18n.t("assignment_tests.confirm.submit")))return this.disableResetAndSubmitBtn,$(".has-error").text(""),this.channel.perform("submit",{verbose:e})},i.prototype._requestReviewVscode=function(){return $(".has-error").text(""),this.channel.perform("submit")},i.prototype._restartVscode=function(){return confirm(I18n.t("assignment_tests.confirm.restart"))?($(".list-process").removeClass("step-3"),$(".list-process").addClass("step-1"),$(".challenge-content .main-section").addClass("hidden"),$(".challenge-content .main-section-loading").removeClass("hidden"),this.channel.perform("restart")):$("#vscode-restart").prop("disabled",!1)},i.prototype._stopHerokuTask=function(e){return null==e&&(e=!0),this.channel.perform("stop_heroku",{testTokenId:this.testTokenId,verbose:e})},i.prototype.validRepositoryUrl=function(e){var t;return!!e&&(!!(t=e.match(/^(?:(?:https:\/\/github\.com\/)|(?:git@github\.com:))?([\w\s\.@\:\-~]+\/[\w\s\.@\:\-~]+)\/?$/i))&&(".git"===t[1].slice(-4)&&(t[1]=t[1].slice(0,-4)),$("#form-repository-url").val(t[1].trim()),!0))},i.prototype._resetBuildButton=function(){return $("#reset-repository").addClass("hidden"),$(".assignment-logs").addClass("hidden"),$("#assignment-run").unbind("click"),this.constructor.showAssignmentButton("build")},i.showAssignmentButton=function(e){return $(".form-input-repos .btn-run").addClass("hidden"),$("#assignment-"+e).removeClass("hidden")},i}(Hera.challenge.Base)}.call(this),function(){Hera.solvable.Base=function(){function e(){this.challengeableFilters={}}return e.prototype.initHandlers=function(){var e,t,n,i,r,o;for(Hera.challenge.Base.initModalHandlers(),this._initChallengesNav(),this._initLanguagesHandlers(),o=[],n=0,i=(r=["algorithm","sql","quiz","web_frontend","essay","web","app","data_science","api","machine_learning"]).length;n<i;n++)t=r[n],(e=new(Hera.challengeFilter[$.camelize(t,{pascalCase:!0})])({solvable:this})).initFilterHandlers(),e.initChallengePagination(),this._initChallengeableItemHandlers(t),o.push(this.challengeableFilters[t]=e);return o},e.prototype._initInputHandlers=function(){return $(document).on("keypress","input",function(e){return 13!==e.keyCode||($(this).blur(),!1)}),$(document).on("keypress",".input-number",function(e){return e.charCode>=48&&e.charCode<=57})},e.prototype._initChallengesNav=function(){var e,t;t=$("ul.nav-challenges li a"),(e=$(".challenge-content")).hide(),t.click(function(n){var i,r;n.preventDefault(),r=$($(this).attr("href")),(i=$(this)).hasClass("disabled")||(t.closest("li a").removeClass("active"),i.addClass("active"),e.hide(),r.show())}),$("ul.nav-challenges li a.active").trigger("click")},e.prototype._initLanguagesHandlers=function(){return $(".languages-wrapper input[type='checkbox']").change((e=this,function(t){var n,i,r,o;return i=(r=$(t.target)).prop("checked"),n=r.data("challengeable-type"),0===$(".languages-wrapper input[type='checkbox'][data-challengeable-type='"+n+"']:checked").length?(Hera.utils.snackbar(I18n.t("tryouts.new.least_one_language")),void r.prop("checked",!i)):(o=r.val(),$(r).is(":checked")&&e._checkSelectedChallenges(n,o),e.challengeableFilters[n].updateChallengeables())}));var e},e.prototype._initChallengeableItemHandlers=function(e){var t,n;return"quiz"===e&&((t=$(".quiz-detail")).on("shown.bs.collapse",function(){var e;return e=$(this).data("quiz-id"),$("#quiz-"+e).html(Hera.commons.svgTag("ic-keyboard-arrow-up",24,"black"))}),t.on("hidden.bs.collapse",function(){var e;return e=$(this).data("quiz-id"),$("#quiz-"+e).html(Hera.commons.svgTag("ic-keyboard-arrow-down",24,"black"))})),$(document).on("click",".icon-add-"+e,(n=this,function(t){return n._addItemHandler(t,e)})),$(document).on("click",".icon-remove-"+e,function(t){return function(n){return t._removeItemHandler(n,e)}}(this))},e.prototype._initChallengeableListHandlers=function(e){var t,n;return t=this._getSelectedTable(e),this._updateSelectedChallengeableOrder(e),t.sortable({helper:"clone",update:(n=this,function(){return n._updateSelectedChallengeableOrder(e)})}),t.disableSelection()},e.prototype._checkSelectedChallenges=function(e,t){if(0!==this._getSelectedChallengeableIds(e).length)return $.get("/tryouts/challengeables/available",{challengeable_type:e,challengeable_ids:this._getSelectedChallengeableIds(e),language:t})},e.prototype._addItemHandler=function(e,t){var n,i,r;if(n=(i=$(e.currentTarget)).data(),r=this._getSelectedTable(t),!(this._selectedChallengeablesCount(t)>=this.maxChallengeables))return n.challengeableOrder=r.find("li").length+1,this._toggleIcon(i,"remove",t),this._addItemToSelectedList(r,n,t),this._updateSelectedInfo(e,t);Hera.utils.snackbar(I18n.t("tryouts.new.max_challengeables",{count:this.maxChallengeables}))},e.prototype._removeItemHandler=function(e){var t,n;return t=$(e.currentTarget).data(),n=$("#challenge-"+t.challengeableType+"-"+t.challengeableId+" .icon-remove-"+t.challengeableType),this._toggleIcon(n,"add",t.challengeableType)},e.prototype._addItemToSelectedList=function(e,t,n){var i;return e.attr("id").split("-")[1],(i=$("li.selected-"+n+".hidden").clone()).removeClass("hidden"),i.attr("id","selected-"+n+"-"+t.challengeableId),i.attr("data-challengeable-type",n),i.attr("data-challengeable-id",t.challengeableId),i.attr("data-challengeable-time-limit",t.challengeableTimeLimit),i.find(".order-text").text(t.challengeableOrder),i.find(".title-text").text(t.challengeableTitle),i.find(".remove-icon").attr("data-challengeable-type",n),i.find(".remove-icon").attr("data-challengeable-id",t.challengeableId),e.append(i)},e.prototype._removeItemFromSelectedList=function(e,t){return $("#selected-"+t+"-"+e).remove(),this._updateSelectedChallengeableOrder(t)},e.prototype._updateSelectedChallengeableOrder=function(e){return this._getSelectedTable(e).find("li").each(function(e,t){return $(t).find(".order-text").text(e+1)})},e.prototype._toggleIcon=function(e,t,n){return e.addClass("hidden"),e.parent().find(".icon-"+t+"-"+n).removeClass("hidden")},e.prototype._updateSelectedHiddenForm=function(e){if($("#selected_challengeable_ids").val(this._getSelectedChallengeableIds()),e)return $("#selected_challengeable_type").val(e)},e}()}.call(this),function(){Hera.channel.Base=function(){function e(){this.status="idle",this.initSubscription()}return e.prototype.initSubscription=function(){return this.subscription=null},e.prototype.subscriptionCallbacks=function(){return{connected:(e=this,function(){return e.handleConnected()}),disconnected:function(e){return function(){return e.handleDisconnected()}}(this),rejected:function(e){return function(){return e.handleRejected()}}(this),received:function(e){return function(t){var n,i;return"error"===t.type?e.handleError(t):(i="handle"+$.camelize(t.action,{pascalCase:!0}),"function"==typeof(n=e[i])?n.call(e,t):void 0)}}(this)};var e},e.prototype.unsubscribe=function(){return this.subscription.unsubscribe()},e.prototype.perform=function(e,t){return this.subscription.perform(e,t)},e.prototype.isDisconnected=function(){return this.subscription.consumer.connection.disconnected},e.prototype.isIdle=function(){return"idle"===this.status},e.prototype.handleConnected=function(){return $(document).trigger("channel:connected",this),$(".connection-status, .ws-disconnected-guide").removeClass("disconnected").addClass("connected")},e.prototype.handleDisconnected=function(){return $(document).trigger("channel:disconnected",this),this.status="idle",$(".connection-status, .ws-disconnected-guide").removeClass("connected").addClass("disconnected")},e.prototype.handleRejected=function(){return Hera.utils.snackbar(I18n.t("channels.status.disconnected"))},e.prototype.handleError=function(e){if(null!=e.msg)return Hera.utils.snackbar(e.msg)},e.prototype.handleInit=function(){},e.prototype.handleRedirect=function(e){return e.msg&&window.alert(e.msg),window.location.href=e.url},e.prototype.handleReload=function(){return window.location.reload(!0)},e.prototype.handleLaunchProgress=function(e){return $(".list-process[data-test-token-id="+e.test_token_id+"]").removeClass("step-"+(parseInt(e.step)-1)),$(".list-process[data-test-token-id="+e.test_token_id+"]").addClass("step-"+e.step)},e.prototype.handleLaunchFailed=function(e){return $(".block-getting-ready[data-test-token-id="+e.test_token_id+"]").addClass("hidden"),$(".load-failed[data-test-token-id="+e.test_token_id+"]").removeClass("hidden"),$(".failed-message[data-test-token-id="+e.test_token_id+"]").html(e.message)},e}()}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.challenge.Base=function(t){function n(e){this.challenge=e.challenge,n.__super__.constructor.call(this,e)}var i;return e(n,t),i=6e4,n.prototype.handleConnected=function(){if(n.__super__.handleConnected.call(this),"testing"===this.status)return Hera.utils.snackbar(I18n.t("channels.challenge.status.reconnected")),this.testFinished()},n.prototype.handleExtraTime=function(e){return this.challenge.resetTimer(e.remainingTime,this.challenge.checkTimeOver),e.web_notification&&"granted"===Notification.permission&&"tryout_challenges"===$("body").data("controller")?Hera.utils.webNotification(I18n.t("channels.challenge.extra_time.title"),e.message):new NotificationBar(e.icon,I18n.t("channels.challenge.extra_time.title"),e.message,{timeout:i,link:e.link||!1})},n.prototype.handleCheckTimeOver=function(e){switch(e.type){case"ok":return this.challenge.resetTimer(e.remainingTime,this.challenge.checkTimeOver);case"time_over":return this.challenge.finish()}},n.prototype.handleSave=function(e){switch(e.type){case"result":return this.clearOutput(),this.printHeading(e.msg),this.setChecked(e.challengeableType,e.challengeableId),this.testFinished()}},n.prototype.handleReset=function(e){return this.challenge.resetEditor(e.initialCodes),this.clearOutput(),this.printHeading(e.msg)},n.prototype.handleFinish=function(){return this.challenge.finish()},n.prototype.handleError=function(e){return this.changeOutputTitleClass(!1),null!=e.msg&&this.printFailedMessage(e.msg),this.testFinished()},n.prototype.testStarted=function(){return this.showSpinner(),this.clearOutput(),this.status="testing"},n.prototype.testFinished=function(){return this.hideSpinner(),this.status="idle",Hera.challenge.Base.enableSubmitCodeBtn()},n.prototype.showSubmitGuidePopup=function(){var e;if(!this.challenge.isInterviewer)return e=Hera.templates.makeModal(I18n.t("channels.challenge_algorithm.evaluation_finish"),I18n.t("channels.challenge_algorithm.submit_guide_body"),'<a href="#" class="btn btn-primary" data-dismiss="modal">'+I18n.t("channels.challenge_algorithm.back_to_challenge")+"</a>"),$("#modal-dialog").html(e),$("#modal-dialog").modal({show:!0})},n.prototype.setChecked=function(e,t){return $("#checkbox-"+e+"-"+t).html('<use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-check-box"/>')},n.prototype.showSpinner=function(){return $("#output-spinner").removeClass("hidden")},n.prototype.hideSpinner=function(){return $("#output-spinner").addClass("hidden")},n.prototype.clearOutput=function(){return $("#output").html("<pre class='console-content'><div></div></pre>")},n.prototype.printOutput=function(e,t){if(null==t&&(t=!0),$("#output .console-content").append(e),t)return $("#output").scrollTop($("#output").prop("scrollHeight"))},n.prototype.printHeading=function(e){return this.printOutput('<div class="console-heading">'+e+"</div>")},n.prototype.printMessage=function(e){return this.printOutput('<div class="console-message">'+e+"</div>")},n.prototype.printTestResult=function(e,t,n){if(e.html(n),null!=t)return t?e.addClass("passed"):e.addClass("failed")},n.prototype.printPassedMessage=function(e){return this.printOutput('<div class="console-passed">'+e+"</div>")},n.prototype.printFailedMessage=function(e){return this.clearOutput(),this.printOutput('<div class="console-failed">'+e+"</div>")},n.prototype.printRuntimeError=function(e){return this.printOutput('<div class="console-title failed">'+I18n.t("channels.challenge_algorithm.runtime_error")+"</div>"),this.printOutput('<div class="console-failed">'+e+"</div><br>")},n.prototype.changeOutputTitleClass=function(e){return $("#output-title").removeClass("success"),$("#output-title").removeClass("failed"),e?$("#output-title").addClass("success"):$("#output-title").addClass("failed")},n}(Hera.channel.Base)}.call(this),function(){Hera.challengeFilter.Base=function(){function e(e){null==e&&(e={}),this.solvable=e.solvable,this.textFilter="",this.challengeType=""}return e.prototype.initFilterHandlers=function(){return this._initCheckBox(),this._initTextFilterHandler(),this._initFilterHandlerByType("locales"),this._initFilterHandlerByType("level"),this._initFilterHandlerByType("tag"),this._initFilterHandlerByType("freshness"),this._initFilterHandlerByType("recent_freshness"),this._initOrderHandler()},e.prototype._initTextFilterHandler=function(){var e;return $("#"+this.challengeableType+"-text-filter").change((e=this,function(t){return e.textFilter=$(t.target).val(),e.updateChallengeables()})),$("#"+this.challengeableType+"-text-filter").focus(function(){return $(this).addClass("bg-white-color")}),$("#"+this.challengeableType+"-text-filter").focusout(function(){return $(this).removeClass("bg-white-color")})},e.prototype._initFilterHandlerByType=function(e){var t;return $(".challenges-filters[data-challenge-type="+this.challengeableType+'] input[name="challengeable['+e+'][]"]').change((t=this,function(){return t.updateChallengeables()})),$(".challenges-filters[data-challenge-type="+this.challengeableType+'] input[name="challengeable_'+e+"\"][type='radio']").click(function(e){return function(){return e.updateChallengeables()}}(this)),$(".challenges-filters[data-challenge-type="+this.challengeableType+"] .filter-"+e+" .btn-all-off").click(function(t){return function(){return $(".challenges-filters[data-challenge-type="+t.challengeableType+"] .filter-"+e+" input").prop("checked",!1),t.updateChallengeables()}}(this)),$(".challenges-filters[data-challenge-type="+this.challengeableType+'] input[name="challengeable_'+e+"\"][type='checkbox']").click(function(e){return function(){return e.updateChallengeables()}}(this))},e.prototype._initOrderHandler=function(){return $(document).on("click",".js-challengeable-order-filter",(e=this,function(t){var n,i;return i=$(t.currentTarget).data("filter-type"),n=$(t.currentTarget).data("filter-order"),e.order={type:i,order:n},e.updateChallengeables()}));var e},e.prototype.initChallengePagination=function(){return $(document).on("click","."+pluralize(this.challengeableType)+"-pagination .page-link",(e=this,function(t){var n;if(t.preventDefault(),null!=(n=$.urlParam($(t.currentTarget).attr("href"),"page")))return e.updateChallengeables(n)}));var e},e.prototype.updateChallengeables=function(e){var t,n;return null==e&&(e=1),this.solvable?(n={page:e,level:this._getCheckedLevel(),text:this.textFilter,tags:this._getCheckedTag(),freshness:this._getCheckedFreshness(),selected_ids:this.solvable._getSelectedChallengeableIds(this.challengeableType),languages:this._getCheckedLanguages(),locales:this._getCheckedLocales(),recent_freshness:this._getCheckedRecentFreshness()},null!=(t=$("#solvable-form").data("course-id"))&&(n.course_id=t),$.get("/tryouts/challengeables/"+this.challengeableType,n)):(n={page:e,challenge_type:this.challengeType,filters:{text:this.textFilter,level:this._getCheckedLevel(),tags:this._getCheckedTag(),freshness:this._getCheckedFreshness(),locales:this._getCheckedLocales(),recent_freshness:this._getCheckedRecentFreshness(),order:this.order}},$.get("/challenge_"+pluralize(this.challengeableType)+".js",n))},e.prototype._initCheckBox=function(){return $(".filter__btn-wrap .dropdown-menu.filter__checkbox").click(function(e){return e.stopPropagation()})
},e.prototype._getCheckedFreshness=function(){return $('.challenges-filters[data-challenge-type="'+this.challengeableType+'"] input:checked[name="challengeable_freshness"]').val()},e.prototype._getCheckedRecentFreshness=function(){return $('.challenges-filters[data-challenge-type="'+this.challengeableType+'"] input:checked[name="challengeable_recent_freshness"]').val()},e.prototype._getCheckedLevel=function(){return this._getCheckedFilterData("level")},e.prototype._getCheckedTag=function(){return this._getCheckedFilterData("tag")},e.prototype._getCheckedLocales=function(){return this._getCheckedFilterData("locales")},e.prototype._getCheckedFilterData=function(e){var t,n,i,r,o;for(o=[],n=0,i=(r=$('.challenges-filters[data-challenge-type="'+this.challengeableType+'"] input:checked[name="challengeable['+e+'][]"]')).length;n<i;n++)t=r[n],o.push($(t).val());return o},e.prototype._getCheckedLanguages=function(){var e,t,n,i,r;for(r=[],t=0,n=(i=$(".challenge-"+this.challengeableType+" input:checked[name='tryout[languages][]']")).length;t<n;t++)e=i[t],r.push($(e).val());return r},e}()}.call(this),function(){Hera.codeTemplates={changeInitialCode:function(e){var t,n;return n=e.language,t=e.interfaceType,this.loadSavedInitialCode(n)||Hera.codeTemplates[t][n].generateInitialCode(e.returnType,e.params)},loadSavedInitialCode:function(e){return $(".initcode-textarea#textarea-"+e).data("code")||""}},Hera.codeTemplates["function"]={},Hera.codeTemplates.stdio={}}.call(this),function(){Hera.appSubmissions={initRun:function(){return $(document).on("click.app.player","#app-rotate",function(){return $("iframe.app-player")[0].contentWindow.postMessage("rotateLeft","*"),$(".toast-spinner").addClass("hidden"),$("iframe.app-player").hasClass("landscape")?($("iframe.app-player.landscape").removeClass("landscape"),$("iframe.app-player").addClass("portrait")):($("iframe.app-player.portrait").removeClass("portrait"),$("iframe.app-player").addClass("landscape"))})},initRunJs:function(){var e,t,n,i,r,o,a,s,l;return e="body-app-player",t="modal-app-player",$("body").addClass(e),$("#modal-dialog").addClass(t),a=window.getComputedStyle(document.getElementsByClassName("modal-app-player-dialog")[0]),s=parseInt(a.width),r=parseInt(a.right),i=parseInt(a.height),n=parseInt(a.bottom),(window.innerWidth<s+r||window.innerHeight<i+n)&&(o=Math.floor(90*Math.min((window.innerWidth-r)/s,(window.innerHeight-n)/i))/100,$(".modal-app-player-dialog").width(Math.floor(s*o)),$(".modal-app-player-dialog").height(Math.floor(i*o)),$(".app-player").width(Math.floor(s*o)),$(".app-player").height(Math.floor(i*o)),$(".app-player").attr("src",$(".app-player").attr("src").replace("scale=100","scale="+100*o))),window.addEventListener("message",this._messageEventHandler,!1),$("#modal-dialog").off("hide.bs.modal"),$("#modal-dialog").on("hide.bs.modal",(l=this,function(){return $("body").removeClass(e),$("#modal-dialog").removeClass(t),window.removeEventListener("message",l._messageEventHandler,!1),$(".btn-run-app").html("\uc2e4\ud589"),$(".btn-run-app").attr("disabled",!1)}))},_messageEventHandler:function(e){var t,n;return"firstFrameReceived"===e.data?($(".btn-run-app .inline-spinner").remove(),$(".btn-run-app").attr("disabled",!1),$(".btn-run-app").html("\ub2e4\uc2dc \uc2e4\ud589")):e.data&&"accountQueuedPosition"===e.data.type?(n=$(".js-submission-data").data("appSubmissionId"),t=$(".js-submission-data").data("assignmentId"),$.post({url:"/api/assignments/"+t+"/app_submissions/"+n+"/queue",data:{position:e.data.position}})):void 0}}}.call(this),function(){Hera.applicants={testType:"",tokenNameFilter:"",initIndex:function(){return $(document).on("keyup",".applicant-name-filter",function(){return $("#applicant-name-filter-clear").toggle(Boolean($(this).val()))}),$(document).on("click","#applicant-name-filter-clear",function(){return $(".applicant-name-filter").val("").focus(),$(this).hide()})},initSchoolShow:function(){return Hera.TryoutTokens.initShow()}}}.call(this),function(){Hera.assignmentChallenges={initShow:function(){var e,t,n;return t=(e=$(".assignment-challenge-content").data()).challengeableType,e.runningTask,e.runnerType,e.recording,n=e.token,this.challengeable=new(Hera.assignmentChallenge[$.camelize(t,{pascalCase:!0})])(e),this._initCollapseBtnHandler(),this._initDownloadButton(),this._initRecordingPopoverCloseButton(),this._initAlertButton(),new Hera.channel.TestToken({token:n,page:"test_page"})},_initDownloadButton:function(){var e,t,n;return n=6e5,setTimeout(this._expireDownloadUrl,n),e=$("#js-responsive-dropdown"),t=$(e.data("target")),e.click(function(){return t.toggleClass("responsive")})},_expireDownloadUrl:function(){return $(".js-btn-attachment").attr("href","#"),$(".js-btn-attachment").click(function(){return alert(I18n.t("assignment.help.expire_link"))})},_initRecordingPopoverCloseButton:function(){return $(".ic-close-popover").click(function(){return $("#popover-recording").addClass("hidden")})},_initAlertButton:function(){return $("#js-upload-success-close-button").click(function(){return $(".js-upload-success").addClass("hidden")}),$("#js-upload-failed-close-button").click(function(){return $(".js-upload-failed").addClass("hidden")}),$("#js-appendix-upload-success-close-button").click(function(){return $(".js-appendix-upload-success").addClass("hidden")}),$("#js-appendix-upload-failed-close-button").click(function(){return $(".js-appendix-upload-failed").addClass("hidden")})},showChannelIO:function(){return ChannelIO("show")},_initCollapseBtnHandler:function(){return $(".btn-collapse").click(function(){return $(this).parents(".sidebar-collapse").hasClass("in")?($(this).parents(".sidebar-collapse.in").removeClass("in"),$(this).parents(".sidebar-collapse").addClass("out")):($(this).parents(".sidebar-collapse.out").removeClass("out"),$(this).parents(".sidebar-collapse").addClass("in"))})}}}.call(this),function(){Hera.assignmentTests={initIntro:function(){var e;return e=$(".tests-intro-body").data("token"),new Hera.channel.TestToken({token:e,page:"intro_page"})},initPreDemo:function(){var e,t,n;return(e=$(".btn-before-start")).length>0&&this.initWizardButtonTimer(e),t=$(".tests-intro-body").data("token"),new Hera.channel.TestToken({token:t,page:"pre_demo_page"}),$(".js-checkbox-security-pledge").change((n=this,function(){return n.activateAgreeStepBtnHandler()}))},activateAgreeStepBtnHandler:function(){return $(".js-agree-step-wrapper").toggleClass("disabled",!this._checkSecurityPledge())},_checkSecurityPledge:function(){var e,t,n,i;for(t=0,n=(i=$(".js-checkbox-security-pledge")).length;t<n;t++)if(e=i[t],!$(e).is(":checked"))return!1;return!0},initWizardButtonTimer:function(e){var t,n,i;return this.originalAssignmentInfo=e.data(),t=this.originalAssignmentInfo.remainingTimeInMs+Date.now(),n=setInterval((i=this,function(){var r,o;return Date.now()<t?(o="",(r=Hera.competitions.remainTimeDetail(t-Date.now()))[0]>0?o=I18n.t("tests.intro.buttons.remain_time_with_unit",{time:r[0],unit:I18n.t("datetime.prompts.day")}):r[1]>0?o=I18n.t("tests.intro.buttons.remain_time_with_unit",{time:r[1],unit:I18n.t("datetime.prompts.hour")}):r[2]>0?(o=I18n.t("tests.intro.buttons.remain_time_with_unit",{time:r[2],unit:I18n.t("datetime.prompts.minute")}),t-Date.now()<=3e5&&(o=I18n.t("tests.intro.buttons.remain_time_with_unit",{time:r[2],unit:I18n.t("datetime.prompts.minute"),sec:r[3],sec_unit:I18n.t("datetime.prompts.second")}))):o=I18n.t("tests.intro.buttons.remain_time_with_unit",{time:r[3],unit:I18n.t("datetime.prompts.second")}),e.find(".remain-time").html(o)):(clearInterval(n),$.get("/assignments/"+i.originalAssignmentInfo.assignmentId+"/activate_start_button?token="+i.originalAssignmentInfo.token))}),1e3)}}}.call(this),function(){Hera.assignmentTokens={testTokenId:null,testId:null,runable:null,channel:null,requestUrl:null,repository:null,submittedChallengeableTypes:null,currentPage:null,initShow:function(){var e;return this._initTokenShow(),"reviews"!==document.body.getAttribute("data-action")&&this.initAssignmentTokens(this.currentPage),Hera.share.initHandlers(),(e=$(".code-editor textarea").data("language"))&&Hera.repositoryStats.initEditor(e),this.initChallengeableModalHandler()},initSharedResult:function(){return this.initResult()},initCodeView:function(){return this.initResult()},initResult:function(){var e;return this._initTokenShow(),(e=$(".code-editor textarea").data("language"))&&Hera.repositoryStats.initEditor(e),this.initChallengeableModalHandler()},initChallengeableModalHandler:function(){return Hera.challenge.Base.initModalHandlers(),$(document).on("click",".js-show-challengeable",function(){var e,t;return t=$(this).data("challengeable-type"),e=$(this).data("challengeable-id"),$(".js-challengeable-modal[data-challengeable-type="+t+"][data-challengeable-id="+e+"]").modal("show")})},_initTokenShow:function(){var e;return e=$(".applicants-sidebar").data(),this.testTokenId=e.testTokenId,this.testId=e.testId,this.requestUrl=e.requestUrl,this.repository=e.repository,this.commitHash=e.commitHash,this.userName=e.userName,this.currentPage=e.currentPage,this.submittedChallengeableTypes=e.submittedChallengeableTypes,this.channelHandler(e),this.initBtnCollapse(),this.initRepositoryViewer()},initCommentsJs:function(){return Hera.comments.initComment()},channelHandler:function(e){var t;return $(document).on("channel:connected",(t=this,function(e,n){if(t.testTokenId&&t.submittedChallengeableTypes.includes("data_science")&&n.perform("source",{testTokenId:n.testTokenId}),t.testTokenId&&t.submittedChallengeableTypes.includes("web"))return n.perform("run_web",{testTokenId:n.testTokenId})})),this.channel=new Hera.channel.AssignmentManager(e)},initBtnCollapse:function(){return $(".sidebar-collapse #btnCollapse").click(function(){return $(this).parents(".sidebar-collapse").hasClass("in")?($(this).parents(".sidebar-collapse.in").removeClass("in"),$(this).parents(".sidebar-collapse").addClass("out")):($(this).parents(".sidebar-collapse.out").removeClass("out"),$(this).parents(".sidebar-collapse").addClass("in"))})},initAssignmentTokens:function(e){return $.get("/assignments/"+this.testId+"/sidebar_assignment_tokens",{page:e,selected_token_id:this.testTokenId})},initRepositoryViewer:function(){var e;if(this.repository)return $.get("/git_repository/"+this.repository,{name:this.userName,commit_hash:this.commitHash,challengeableTypes:this.submittedChallengeableTypes}).fail((e=this,function(){return $(".main-section").hide(),$(".project-viewer").removeClass("hidden"),$("#viewer-load-error-msg").text(I18n.t("test_tokens.show.exception_message.not_found_repository",{repository:e.repository}))}))},runHeroku:function(){return this.channel.perform("run_heroku",{testTokenId:this.testTokenId})},stopHerokuTask:function(){return this.channel.perform("stop_heroku",{testTokenId:this.testTokenId})}}}.call(this),function(){Hera.assignments={assignmentTokenOrderFilter:"rank_asc",assignmentTokenNameFilter:"",assignmentId:null,assignmentStatusFilter:"all",assignmentTextFilter:"",assignmentChallengeLevelFilter:"all",assignmentChallengeOrderFilter:"asc",initIndex:function(){return $("#assignments_status").on("change",function(e){var t;return t="/assignments?tab="+$(e.currentTarget).children("option:selected").val(),window.location.href=t}),$(document).on("keyup","#assignments-title-filter",function(e){var t;if($("#assignments-title-filter-clear").toggle(Boolean($(e.currentTarget).val())),13===e.which)return t="/assignments?tab="+deparam(window.location.href.split("?")[1]).tab+"&title="+$(e.currentTarget).val(),window.location.href=t}),$(document).on("click","#assignments-title-filter-clear",function(){return $("#assignments-title-filter").val("").focus(),$(this).hide()})},initShow:function(){return $('[data-toggle="tooltip"]').tooltip(),this.assignmentId=$("header").data("assignment-id"),Hera.scoreDistGraph.init(),this.initApplicantPagination(),this.handleApplicantFilter(),Hera.tests.initTestTokenBatchHandler(),Hera.challenge.Base.initModalHandlers()},initReviews:function(){return Hera.assignmentTokens.initShow(),$(document).on("click.comment",".js-cancel-comment-editing",function(e){return e.preventDefault(),Hera.comments.restoreComment($(e.currentTarget).data("commentId"))})},handleApplicantFilter:function(){return $(document).on("click",".assignment-token-order-filter, .reviewee-order-filter",function(){var e,t,n;return t=$(this).data("filter-type"),e=$(this).data("filter-order"),Hera.assignments.assignmentTokenOrderFilter=t+"_"+e,$(this).hasClass("assignment-token-order-filter")?"assignment_tokens":$(this).hasClass("reviewee-order-filter")&&(n="reviewees"),Hera.assignments.updateAssignmentTokens(1,n)}),$(document).on("keyup",".applicant-name-filter",function(e){if($("#applicant-name-filter-clear").toggle(Boolean($(this).val())),13===e.which)return Hera.assignments.assignmentTokenNameFilter=$(this).val(),Hera.assignments.updateAssignmentTokens(1)}),$(document).on("click","#applicant-name-filter-clear",function(){return $(".applicant-name-filter").val("").focus(),$(this).hide()})},handleApplicantReadinessModal:function(){return $(".td-readiness .btn-change-status").click(function(){var e,t,n,i,r,o;for(r=$(this).data("status"),i=[],e=0,t=(n=$(".table-applicants-readiness tbody tr:not(.tr-disabled)")).length;e<t;e++)o=n[e],i.push($(o).find("input[value='"+r+"']").prop("checked",!0));return i})},initApplicantPagination:function(){return $(".page-link").click((e=this,function(t){var n;if(t.preventDefault(),null!=(n=$.urlParam($(t.currentTarget).attr("href"),"page")))return e.updateAssignmentTokens(n)}));var e},updateAssignmentTokens:function(e,t){return null==t&&(t="assignment_tokens"),$.get("/assignments/"+this.assignmentId+"/"+t,{order:this.assignmentTokenOrderFilter,name:this.assignmentTokenNameFilter,page:e})}}}.call(this),function(){Hera.auth={initAuthorize:function(){return this.doCors("new_login")},doCors:function(e){var t,n,i,r,o,a,s,l;for(n=(i=$("#access-grants")).data("access-grants"),a=i.data("redirect-to"),0===n.length&&(window.location.href=a),l=0,s=[],r=0,o=n.length;r<o;r++)t=n[r],l+=1,s.push($.ajax({type:"POST",url:location.protocol+"//"+t.sso_client.domain+"/"+e+".json",data:{token:t.access_token},xhrFields:{withCredentials:!0},complete:function(){if(0===(l-=1)&&null!==a)return window.location.href=a}}));return s}}}.call(this),function(){Hera.blockchains={_filters:{tag:"\uc804\uccb4",text:""},initIndex:function(){return this._initFilterHandlers()},_initFilterHandlers:function(){var e;return $("#blockchain_tag_filter a").on("click",(e=this,function(t){return t.preventDefault(),e._filters.tag=$(t.currentTarget).data("tag"),e._updateBookmarksList()})),$("#blockchain_text_filter").change(function(e){return function(t){return e._filters.text=$(t.target).val(),$("#blockchain_tag_filter").find("a").removeClass("active"),$('.nav-tabs a[href="#\uc804\uccb4"]').addClass("active"),e._filters.tag="\uc804\uccb4",e._updateBookmarksList()}}(this)),this._filters.tag=$("#blockchain_tag_filter active").text(),this._filters.text=$("#blockchain_text_filter").val()},_updateBookmarksList:function(){var e;return e={tag:this._filters.tag,text:this._filters.text},$.get("/pages/blockchain",e,function(){return Hera.commons.scrollToElement($(".navbar-header"))})}}}.call(this),function(){Hera.business={initActivate:function(){return Business.registrations.initCompanyView()},initTicket:function(){return $(".expired-pricing-plan").hide(),$(".shown-expired-log > button").click(function(){return $(".expired-pricing-plan").toggle().is(":visible")?$(".shown-expired-log > button").html(I18n.t("business.profile.ticket.breakdown_less")):$(".shown-expired-log > button").html(I18n.t("business.profile.ticket.breakdown_more"))})},initCompany:function(){return Hera.companies.initLogoUploader()},initCompanyInfo:function(){var e;return e=this._initTueEditor(),this._initImageUploadHandler(),this._initImageRemoveHandler(),this._initLoadDefaultTemplateButtonHandler(e),this._initDevelopersForm(),this._initAddBenefitButton(),this._setCompanyBeneiftCustomInput(),this._initAlternativeMilitaryCheckBox(),Business.jobPositions._initTagHandler()},_initAlternativeMilitaryCheckBox:function(){return $("#check_box_skilled_industry").on("change",function(){return $(this).is(":checked")?($("#company_skilled_industry_quota").val(0),$("#company_skilled_industry_quota").removeAttr("readonly")):($("#company_skilled_industry_quota").val(null),$("#company_skilled_industry_quota").attr("readonly",!0))}),$("#check_box_technical_research").on("change",function(){return $(this).is(":checked")?($("#company_technical_research_quota").val(0),$("#company_technical_research_quota").removeAttr("readonly")):($("#company_technical_research_quota").val(null),$("#company_technical_research_quota").attr("readonly",!0))})},_initTueEditor:function(){var e;return this.tuiEditor=Hera.commons.initTuiEditor("#company-description"),$("input[type=submit]").click((e=this,function(){return e.tuiEditor.setValueToOriginForm()})),this.tuiEditor},_initImageUploadHandler:function(){var e;return e=this,$(".image-uploader").change(function(t){var n,i;if(i=t.target,Hera.commons.validateFilesSize(this))return this.files&&this.files[0]?((n=new FileReader).onload=function(){var t;return(t=new Image).src=n.result,t.onload=function(){return e._setImageBox($(i).parent().children("label"),t.src)}},n.readAsDataURL(this.files[0])):void 0})},_initLoadDefaultTemplateButtonHandler:function(e){return $("#load-default-template").click(function(){var t;return t="# test\n\n ## \ud68c\uc0ac \uc18c\uac1c \n\n ## \ubcf5\uc9c0 \n\n ## \uadfc\ubb34\ud658\uacbd",e.setValue(t)})},_initImageRemoveHandler:function(){return $(".delete-image").click((e=this,function(t){var n,i;return t.preventDefault(),n=(i=$(t.currentTarget).parent().parent()).children('input[type="file"]').data("image-id"),e._discardSelectedFile(i.children('input[type="file"]')),e._setImageBox(i.children("label")),e._appendRemoveIds(n)}));var e},_discardSelectedFile:function(e){if(e)return e.val(null)},_setImageBox:function(e,t){var n;if(null==t&&(t=null),e)return n=null===t?"":"url('"+t+"') no-repeat scroll 50% 50% / cover padding-box border-box",e.css("background",n),e.toggleClass("uploaded")},_appendRemoveIds:function(e){var t;return t='<input value="'+e+'" multiple="multiple" type="hidden" name="remove_image_ids[]">',$("#remove-image-id").append(t)},_initAddBenefitButton:function(){var e;return e='<li class="col-item"> <label class="custom-item"> <input type="checkbox" class="checkbox-benfit" name="company[benefit_tag_list][]"> <svg class="ic-14"><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-star-14"/></svg> </label> <input type="text" value="" placeholder="\uc9c1\uc811 \uc785\ub825" class="custom-benefit"> </li>',$(".btn-add-company-benefit").click(function(){return $(".list-checkbox-benefits #col_add_item").before(e)})},_setCompanyBeneiftCustomInput:function(){return $("form.edit_company").submit(function(){var e,t,n,i,r,o;for(o=[],n=0,r=(e=$("input.checkbox-benfit:checked")).length;n<r;n++)t=e[n],""!==(i=$(t.closest(".col-item")).find("input.custom-benefit").val()).trim()?o.push($(t).val(i)):o.push(void 0);return o})},_initDevelopersForm:function(){var e;return e='<div class="form-group"> <div class="input-group"> <div class="input-group-prepend"> <select class="form-control form-developer-emoticon" name="company[developers][][icon]"> <option value="\ud83d\udc68\ud83c\udffb">\ud83d\udc68\ud83c\udffb</option> <option value="\ud83d\udc69\ud83c\udffb">\ud83d\udc69\ud83c\udffb</option> <option value="\ud83e\uddd4\ud83c\udffb">\ud83e\uddd4\ud83c\udffb</option> <option value="\ud83d\udc69\ud83c\udffb\u200d\ud83e\uddb1">\ud83d\udc69\ud83c\udffb\u200d\ud83e\uddb1</option> <option value="\ud83d\ude3a">\ud83d\ude3a</option> <option value="\ud83d\udc36">\ud83d\udc36</option> <option value="\ud83e\udd8a">\ud83e\udd8a</option> <option value="\ud83d\udc31">\ud83d\udc31</option> <option value="\ud83d\udc2f">\ud83d\udc2f</option> <option value="\ud83d\udc28">\ud83d\udc28</option> <option value="\ud83d\udc3b">\ud83d\udc3b</option> <option value="\ud83d\udc7d">\ud83d\udc7d</option> <option value="\ud83e\udd16">\ud83e\udd16</option> <option value="\ud83d\ude08">\ud83d\ude08</option> </select> </div> <input class="form-control form-developer-title" type="text" placeholder="\uc774\ub984 or \ub2c9\ub124\uc784 or \uc9c1\uae09" name="company[developers][][name]"> <div class="input-group-append"> <button type="button" class="btn btn-outline-light btn-delete remove-developer"> <svg class="ic-24"><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-delete"/></svg> </button> </div> </div> <textarea class="form-control" rows="4" placeholder="\uacfc\uac70\uc758 \uc774\ub825 \ubc0f \ud504\ub85c\uc81d\ud2b8 \uacbd\ud5d8" name="company[developers][][description]">\u2022 \n\u2022 \n\u2022 \n\u2022 </textarea> <input class="form-control form-developer-link" type="url" placeholder="Github, LinkedIn, Blog ect.." name="company[developers][][url]"> </div></div>',$(document).on("click",".developer-form-append",function(){return 1===$("#wrapper-developer-form .empty").length&&$("#wrapper-developer-form .empty").addClass("hidden"),$("#wrapper-developer-form").append(e)}),$(document).on("click",".remove-developer",function(){if($(this).closest(".form-group").remove(),0===$("#wrapper-developer-form .form-group").length)return $("#wrapper-developer-form .empty").removeClass("hidden")})},initIntroduceCodingTest:function(){return Hera.commons.initContactBtn()},initActivateCodingTest:function(){return Hera.commons.initContactBtn()}}}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.challenge.Api=function(t){function n(e){n.__super__.constructor.call(this,e),this._initFileUploadHandler(),this._initUploadButton()}return e(n,t),n.prototype._checkUploadable=function(){return $(".input-file-hidden")[0].files.length},n}(Hera.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.challenge.App=function(t){function n(e){n.__super__.constructor.call(this,e),this._initFileUploadHandler(),this._initUploadButton(),this._initRunAppFile()}return e(n,t),n.prototype._initUploadButton=function(){return n.__super__._initUploadButton.apply(this,arguments),$("#app_submission_repository").on("change",(e=this,function(){return e._updateUploadButton()}));var e},n.prototype._checkUploadable=function(){return $(".input-file-hidden")[0].files.length&&$("#app_submission_repository").val().length},n.prototype._initRunAppFile=function(){return $(".js-btn-run").click(function(){var e;if(e=window.open(window.location.pathname+"/app_submissions/run","_blank"))return e.focus()})},n.prototype._initFileUploadHandler=function(){return $(".js-btn-upload").click((e=this,function(){return $(".js-btn-upload").attr("disabled",!0),$(".js-btn-upload").text(I18n.t("challenge.file.uploading")),e._readFile(),e._createSubmission()}));var e},n.prototype._readFile=function(){return this.file=$(".input-file-hidden")[0].files[0],(new FileReader).readAsDataURL(this.file)},n.prototype._createSubmission=function(){return $.ajax({url:window.location.pathname+"/app_submissions",type:"POST",data:{app_submission:{repository:$("#app_submission_repository").val(),filename:this.file.name}}}).done((e=this,function(t){return e._uploadSubmissionFile(t.url)})).fail(function(){return Hera.utils.snackbar(I18n.t("challenge_app.upload_fail"))}).always(function(){return $(".js-btn-upload").text(I18n.t("assignment_tests.app.instructions.upload")),$(".js-btn-upload").attr("disabled",!1)});var e},n.prototype._uploadSubmissionFile=function(e){return $.ajax({url:e,type:"PUT",data:this.file,contentType:this.file.type,processData:!1}).done(function(){return Hera.utils.snackbar(I18n.t("challenge_app.upload_done")),$(".js-btn-run, .btn-submit").attr("disabled",!1)}).fail(function(){return Hera.utils.snackbar(I18n.t("challenge_app.upload_fail"))})},n}(Hera.challenge.Base)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Hera.assignmentChallenge.Api=function(n){function i(t){this.checkTimeOver=e(this.checkTimeOver,this),i.__super__.constructor.call(this,t),this.assignmentId=t.assignmentId,this.challengeableId=t.challengeableId,this.channel=new Hera.channel.challenge.Api({challenge:this}),this._initTimer(this.checkTimeOver)}return t(i,n),i.prototype.checkTimeOver=function(){return this.channel.perform("check_time_over")},i}(Hera.challenge.Api)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.assignmentChallenge.App=function(t){function n(e){n.__super__.constructor.call(this,e),this.assignmentId=e.assignmentId}return e(n,t),n}(Hera.challenge.App)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Hera.assignmentChallenge.DataScience=function(n){function i(t){this.checkTimeOver=e(this.checkTimeOver,this),i.__super__.constructor.call(this,t),this.assignmentId=t.assignmentId,this.channel=new Hera.channel.challenge.DataScience({challenge:this})}return t(i,n),i.prototype.checkTimeOver=function(){return this.channel.perform("check_time_over")},i}(Hera.challenge.DataScience)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Hera.assignmentChallenge.MachineLearning=function(n){function i(t){this.checkTimeOver=e(this.checkTimeOver,this),i.__super__.constructor.call(this,t),this.assignmentId=t.assignmentId,this._loadMachineLearningSubmissions(),this.channel=new Hera.channel.challenge.MachineLearning({challenge:this})}return t(i,n),i.prototype.checkTimeOver=function(){return this.channel.perform("check_time_over")},i}(Hera.challenge.MachineLearning)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Hera.assignmentChallenge.Web=function(n){function i(t){this.checkTimeOver=e(this.checkTimeOver,this),i.__super__.constructor.call(this,t),this.assignmentId=t.assignmentId,this.runningTask=t.runningTask,this.runnerType=t.runnerType,$(".challenge-content").removeClass("hidden"),this.channel=new(Hera.channel.challenge[$.camelize(this.runnerType,{pascalCase:!0})])({challenge:this})}return t(i,n),i.prototype.checkTimeOver=function(){return this.channel.perform("check_time_over")},i}(Hera.challenge.Web)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Hera.challenge.Essay=function(n){function i(t){this._saveContentToLocalStorage=e(this._saveContentToLocalStorage,this),i.__super__.constructor.call(this,t),this._saveCodeHash(),this._initCodeLayout(),this._initUploadButton($("#file").data("maximum-file-size"))}return t(i,n),i.prototype._initChallengeNavigationHandler=function(){var e;return $(".input-essay").on("keydown",_.debounce(this._saveContentToLocalStorage,500)),$(".input-essay").focusout((e=this,function(){return e._saveContentToLocalStorage(),e._saveContent()})),$(window).on("storage",function(e){return function(){var t;if((t=localStorage.getItem(e.storeKey))!==$(".input-essay").val().trim())return $(".input-essay").val(t)}}(this))},i.prototype.unloadHandler=function(){return this._saveContentToLocalStorage(),this._saveContent()},i.prototype._saveContent=function(){if(this._isCodeChanged()&&this._checkCode("save",!1))return this._saveCodeHash(),$.post("/essay_submissions",{test_id:this.tryoutId,essay_id:this.challengeableId,content:localStorage.getItem(this.storeKey)})},i.prototype._saveContentToLocalStorage=function(){return localStorage.setItem(this.storeKey,$(".input-essay").val().trim())},i.prototype._concatCodes=function(){return localStorage.getItem(this.storeKey)||""},i.prototype.tourSteps=function(){return[{element:"#tour1",placement:"bottom",title:I18n.t("tryout_challenges.tour.essay.list.title"),content:I18n.t("tryout_challenges.tour.essay.list.content")},{element:"#tour2",placement:"right",title:I18n.t("tryout_challenges.tour.essay.description.title"),content:I18n.t("tryout_challenges.tour.essay.description.content")}]},i.prototype._uploadFile=function(e,t){return this._changeFilename(I18n.t("challenge.file.uploading"),!0),this._uploadEssayAttachment(t)},i.prototype._removeFile=function(){return this._changeFilename(I18n.t("challenge.file.removing"),!0),this._removeEssayAttachment()},i.prototype._changeFilename=function(e,t){return e&&($(".attachment-file-wrap .attachment-file-name")[0].innerHTML=e),t?($(".file-upload-status").addClass("empty-attachment"),$("#file").val("")):$(".file-upload-status").removeClass("empty-attachment")},i.prototype._uploadEssayAttachment=function(e){var t,n;return(t=new FormData).append("file",e),t.append("test_id",this.tryoutId),t.append("essay_id",this.challengeableId),$.ajax({type:"PUT",url:"/essay_submissions/upload_attachment",data:t,contentType:!1,processData:!1}).done((n=this,function(){return Hera.utils.snackbar(I18n.t("challenge.file.success_upload")),n._changeFilename(e.name,!1)})).fail(function(e){return function(){return Hera.utils.snackbar(I18n.t("challenge.file.fail_upload")),e._changeFilename(I18n.t("challenge.file.blank"),!0)}}(this))},i.prototype._removeEssayAttachment=function(){return $.ajax({type:"DELETE",url:"/essay_submissions/remove_attachment",data:{test_id:this.tryoutId,essay_id:this.challengeableId}}).done((e=this,function(){return Hera.utils.snackbar(I18n.t("challenge.file.success_remove")),e._changeFilename(I18n.t("challenge.file.blank"),!0)})).fail(function(e){return function(){return Hera.utils.snackbar(I18n.t("challenge.file.fail_remove")),e._changeFilename(void 0,!1)}}(this));var e},i}(Hera.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.lesson.Algorithm=function(t){function n(e,t){this.userId=e.userId,n.__super__.constructor.call(this,e),this.lesson=t,this.userId>0?this.channel=new Hera.channel.challenge.Algorithm({challenge:this}):$(".connection-status").hide(),this.tourName="algorithm-lesson",this.startTour()}return e(n,t),n.prototype._firebasePath=function(){var e;return e=SparkMD5.hash(this.userId.toString()),"/courses/"+this.lesson.courseId+"/"+this.lesson.lessonId+"/"+this.language+"/"+e},n.prototype.tourSteps=function(){return[{element:"#tour2",placement:"right",title:I18n.t("tryout_challenges.tour.common.description.title"),content:I18n.t("tryout_challenges.tour.common.description.content")},{element:"#tour3",placement:"left",title:I18n.t("tryout_challenges.tour.common.editor.title"),content:I18n.t("tryout_challenges.tour.common.editor."+this.interfaceType+".content")},{element:"#tour4",placement:"top",title:I18n.t("tryout_challenges.tour.common.run.title"),content:I18n.t("tryout_challenges.tour.common.run."+this.interfaceType+".content")},{element:"#tour5",placement:"top",title:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.common.submit.submitted"):I18n.t("tryout_challenges.tour.common.submit.saved"),content:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.common.submit.submitted_content."+this.interfaceType+"."+this.interactMode):I18n.t("tryout_challenges.tour.common.submit.saved_content")},{element:"#tour6",placement:"top",title:I18n.t("tryout_challenges.tour.common.result.title"),
content:I18n.t("tryout_challenges.tour.common.result.submitted_content")},{element:"#view-solution-group",placement:"top",title:"\ub2e4\ub978 \uc0ac\ub78c\uc758 \ud480\uc774",content:"\ubb38\uc81c\ub97c \ud480\uc5c8\uc744 \ub54c \ub2e4\ub978 \uc0ac\ub78c\uc758 \ud480\uc774\ub97c \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub85c\uadf8\uc778\ud574\uc57c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."},{element:"#tour7",placement:"bottom",title:"\uc5b8\uc5b4 \uc120\ud0dd",content:"\ub2e4\ub978 \ud504\ub85c\uadf8\ub798\ubc0d \uc5b8\uc5b4\ub97c \uc120\ud0dd\ud558\ub294 \uae30\ub2a5\uc785\ub098\ub2e4."}]},n}(Hera.challenge.Algorithm)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.lesson.Quiz=function(t){function n(e,t){var i;i=e.userId,n.__super__.constructor.call(this,e),this.lesson=t,i>0&&(this.channel=new Hera.channel.challenge.Quiz({challenge:this}))}return e(n,t),n}(Hera.challenge.Quiz)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.lesson.Sql=function(t){function n(e,t){this.userId=e.userId,n.__super__.constructor.call(this,e),this.lesson=t,this.userId>0&&(this.channel=new Hera.channel.challenge.Sql({challenge:this})),this.tourName="sql-lesson",this.startTour()}return e(n,t),n.prototype.tourSteps=function(){var e;return e=[0,6],n.__super__.tourSteps.call(this).filter(function(t,n){return!e.includes(n)})},n}(Hera.challenge.Sql)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.lesson.WebFrontend=function(t){function n(e,t){var i;i=e.userId,n.__super__.constructor.call(this,e),this.lesson=t,i>0&&(this.channel=new Hera.channel.challenge.WebFrontend({challenge:this}))}return e(n,t),n}(Hera.challenge.WebFrontend)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Hera.skillCheck.Algorithm=function(n){function i(t){var n,r;this.checkTimeOver=e(this.checkTimeOver,this),this.skillCheckId=t.skillCheckId,i.__super__.constructor.call(this,t),this.channel=new Hera.channel.challenge.Algorithm({challenge:this}),n=this.tourName+"_tour_shown",null===store.session(n)&&(this.startTour(!0),store.session(n,!0)),this._initTimer(this.checkTimeOver),$("#help").click((r=this,function(){return r.startTour(!0)}))}return t(i,n),i.prototype.checkTimeOver=function(){return this.channel.perform("check_time_over")},i.prototype.tourSteps=function(){return[{element:"#tour1",placement:"bottom",title:I18n.t("tryout_challenges.tour.common.list.title"),content:I18n.t("tryout_challenges.tour.common.list.content")},{element:"#tour2",placement:"right",title:I18n.t("tryout_challenges.tour.common.description.title"),content:I18n.t("tryout_challenges.tour.common.description.content")},{element:"#tour3",placement:"left",title:I18n.t("tryout_challenges.tour.common.editor.title"),content:I18n.t("tryout_challenges.tour.common.editor."+this.interfaceType+".content")},{element:"#tour4",placement:"top",title:I18n.t("tryout_challenges.tour.common.run.title"),content:I18n.t("tryout_challenges.tour.common.run."+this.interfaceType+".content")},{element:"#tour5",placement:"top",title:I18n.t("tryout_challenges.tour.common.submit.submitted"),content:I18n.t("tryout_challenges.tour.common.submit.submitted_content."+this.interfaceType+"."+this.interactMode)},{element:"#tour6",placement:"top",title:I18n.t("tryout_challenges.tour.common.result.title"),content:I18n.t("tryout_challenges.tour.common.result.submitted_content")},{element:"#tour8",placement:"top",title:I18n.t("tryout_challenges.tour.common.log.submitted"),content:I18n.t("tryout_challenges.tour.common.log.submitted_content")}]},i}(Hera.challenge.Algorithm)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Hera.tryoutChallenge.Algorithm=function(n){function i(t){var n,r;this.checkTimeOver=e(this.checkTimeOver,this),this.tryoutId=t.tryoutId,this.tryoutChallengeId=t.tryoutChallengeId,this.tryoutTokenId=t.tryoutTokenId,r=t.tryoutCategory,this.tourMode=t.tourMode,this.scoringUnit=t.scoringUnit,i.__super__.constructor.call(this,t),this.isInterviewer?this.channel=new Hera.channel.live.Algorithm({challenge:this}):($(".lesson-content").length>0&&(this.lesson=new Learn.lessons.Base,this.lesson.initLesson()),this.channel=new Hera.channel.challenge.Algorithm({challenge:this}),n=this.tourName+"_tour_shown","demo"===r&&null===store.session(n)&&(this.startTour(!0),store.session(n,!0))),this._initTimer(this.checkTimeOver)}return t(i,n),i.prototype._firebasePath=function(){var e;return e=SparkMD5.hash(this.tryoutTokenId.toString()),"/tryouts/"+this.tryoutId+"/"+this.tryoutChallengeId+"/"+this.language+"/"+e},i.prototype.checkTimeOver=function(){return this.channel.perform("check_time_over")},i.prototype.tourSteps=function(){return"ybm"===this.tourMode?this.ybmTourSteps():i.__super__.tourSteps.call(this)},i.prototype.ybmTourSteps=function(){return[{element:"#tour1",placement:"bottom",title:I18n.t("tryout_challenges.tour.common.list.title"),content:I18n.t("tryout_challenges.tour.common.list.content")},{element:"#tour2",placement:"right",title:I18n.t("tryout_challenges.tour.common.description.title"),content:I18n.t("tryout_challenges.tour.common.description.content")},{element:"#tour3",placement:"left",title:I18n.t("tryout_challenges.tour.common.editor.title"),content:I18n.t("tryout_challenges.tour.ybm.editor.content")},{element:"#tour4",placement:"top",title:I18n.t("tryout_challenges.tour.common.run.title"),content:I18n.t("tryout_challenges.tour.ybm.run.content")},{element:"#tour5",placement:"top",title:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.common.submit.submitted"):I18n.t("tryout_challenges.tour.common.submit.saved"),content:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.common.submit.submitted_content."+this.interfaceType+"."+this.interactMode):I18n.t("tryout_challenges.tour.common.submit.saved_content")},{element:"#tour6",placement:"top",title:I18n.t("tryout_challenges.tour.common.result.title"),content:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.common.result.submitted_content"):I18n.t("tryout_challenges.tour.common.result.saved_content")},{element:"#tour8",placement:"top",title:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.common.log.submitted"):I18n.t("tryout_challenges.tour.common.log.saved"),content:"saving_only"!==this.interactMode?I18n.t("tryout_challenges.tour.common.log.submitted_content"):I18n.t("tryout_challenges.tour.common.log.saved_content")}]},i}(Hera.challenge.Algorithm)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Hera.tryoutChallenge.Essay=function(n){function i(t){this.checkTimeOver=e(this.checkTimeOver,this),i.__super__.constructor.call(this,t),this.tryoutId=t.tryoutId,this.tryoutChallengeId=t.tryoutChallengeId,this.tryoutTokenId=t.tryoutTokenId,this.channel=new Hera.channel.challenge.Essay({challenge:this}),this._initTimer(this.checkTimeOver)}return t(i,n),i.prototype.checkTimeOver=function(){return this.channel.perform("check_time_over")},i}(Hera.challenge.Essay)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Hera.tryoutChallenge.Quiz=function(n){function i(t){this.checkTimeOver=e(this.checkTimeOver,this),i.__super__.constructor.call(this,t),this.tryoutId=t.tryoutId,this.tryoutChallengeId=t.tryoutChallengeId,this.tryoutTokenId=t.tryoutTokenId,$(".lesson-content").length>0&&(this.lesson=new Learn.lessons.Base,this.lesson.initLesson()),this.channel=new Hera.channel.challenge.Quiz({challenge:this}),this._initTimer(this.checkTimeOver)}return t(i,n),i.prototype.checkTimeOver=function(){return this.channel.perform("check_time_over")},i}(Hera.challenge.Quiz)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Hera.tryoutChallenge.Sql=function(n){function i(t){this.checkTimeOver=e(this.checkTimeOver,this),i.__super__.constructor.call(this,t),this.tryoutId=t.tryoutId,this.tryoutChallengeId=t.tryoutChallengeId,this.tryoutTokenId=t.tryoutTokenId,this.channel=new Hera.channel.challenge.Sql({challenge:this}),this._initTimer(this.checkTimeOver),this.startTour()}return t(i,n),i.prototype.checkTimeOver=function(){return this.channel.perform("check_time_over")},i}(Hera.challenge.Sql)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.tryoutChallenge.WebFrontend=function(t){function n(e){n.__super__.constructor.call(this,e),this.tryoutId=e.tryoutId,this.tryoutChallengeId=e.tryoutChallengeId,this.tryoutTokenId=e.tryoutTokenId,this.channel=new Hera.channel.challenge.WebFrontend({challenge:this})}return e(n,t),n}(Hera.challenge.WebFrontend)}.call(this),function(){Hera.challengeAlgorithms={initIndex:function(){var e;return e=$.urlParam(window.location.href,"challenge_type")||"standard",this.challengeFilter=new Hera.challengeFilter.Algorithm({challengeType:e}),this.challengeFilter.initFilterHandlers(),this.showChallengeModal("?"),Hera.challenge.Base.initModalHandlers()},showChallengeModal:function(e){var t,n;if(n=window.location.href,t="/challenge_algorithms",void 0!==n.split(e)[1])return $(".table-algorithms").find("[data-algorithm-id='"+n.split("=")[1]+"']").trigger("click"),$(".challenge-algorithms-index").on("shown.bs.modal",function(){return $(".modal-challengeable .close").click(function(){return window.history.pushState("challengeIndex","challengeIndex",t)})})},setCodeLayout:function(){return Split([".mock-guide-section",".mock-run-section"],{sizes:[40,60],minSize:0,gutterSize:25,direction:"horizontal",cursor:"ew-resize"}),Split([".mock-code-section",".mock-output-section"],{sizes:[60,40],minSize:60,gutterSize:15,direction:"vertical",cursor:"ns-resize"}),$(".gutter-horizontal").mouseover(function(){return $(this).css("background-image","url(/assets/img-grippie-vertical-hover-ade06d8b8dcbd1905e8e9a9f08ccfc28f2c92a04b77ed9a6fdcbb9f4559ee8c7.png)")}).mouseout(function(){return $(this).css("background-image","url(/assets/img-grippie-vertical-86e641691e88be56a100b80e3d437ae6effea08c189fdbdb2396825486763a15.png)")}),$(".gutter-vertical").mouseover(function(){return $(this).css("background-image","url(/assets/img-grippie-horizon-hover-46c3e043ece68accd5ec1169f417c45e94efb4ad02409ec5ebc6adf6c0fe80ce.png)")}).mouseout(function(){return $(this).css("background-image","url(/assets/img-grippie-horizon-9ee873f74b6c8cb40d35bccfb7b34fd12c6c78dccf964c22674c3ae8ed3995be.png)")})}}}.call(this),function(){Hera.challengeApis={initLoadFn:function(){return Hera.challengeable.handleLocaleBtn(),Hera.challengeable.initDescription()},initIndex:function(){return this.challengeFilter=new Hera.challengeFilter.Api,this.challengeFilter.initFilterHandlers(),Hera.challenge.Base.initModalHandlers()},initNew:function(){return this.initLoadFn()},initCreate:function(){return this.initLoadFn()},initEdit:function(){return this.initLoadFn()},initUpdate:function(){return this.initLoadFn()}}}.call(this),function(){Hera.challengeApps={initLoadFn:function(){return Hera.challengeable.handleLocaleBtn(),Hera.challengeable.handleNavTabBtn(),Hera.challengeable.handleEvaluationSheetAddBtn(),Hera.challengeable.handleEvaluationSheetPartMoveBtn(),Hera.challengeable.initDescription(),["android_initialize_file","ios_initialize_file"].forEach(function(e){return Hera.challengeable.initFileUploadForm(e),$(".checkbox-initialize-file[data-filename='"+e+"']").change(function(){return $(this).is(":checked")?$("#"+e).removeAttr("disabled"):$("#"+e).attr("disabled","disabled")})})},initIndex:function(){return this.challengeFilter=new Hera.challengeFilter.App,this.challengeFilter.initFilterHandlers(),Hera.challenge.Base.initModalHandlers()},initNew:function(){return this.initLoadFn()},initCreate:function(){return this.initLoadFn()},initEdit:function(){return this.initLoadFn()},initUpdate:function(){return this.initLoadFn()}}}.call(this),function(){Hera.challengeDataSciences={initLoadFn:function(){return Hera.challengeable.handleLocaleBtn(),Hera.challengeable.initDescription(),Hera.challengeable.initFileUploadForm("challenge_file"),Hera.challengeable.initFileUploadForm("evaluation_file"),$(".upload-file-form-label").addClass("required")},initIndex:function(){return this.challengeFilter=new Hera.challengeFilter.DataScience,this.challengeFilter.initFilterHandlers(),Hera.challenge.Base.initModalHandlers()},initNew:function(){return this.initLoadFn(),this._initAnswerAttachmentOption()},initCreate:function(){return $("#file-upload-form").addClass("has-error"),this.initLoadFn(),this._initAnswerAttachmentOption()},initEdit:function(){return this.initLoadFn()},initUpdate:function(){return $("#file-upload-form").addClass("has-error"),this.initLoadFn()},_initAnswerAttachmentOption:function(){return $("#challenge_data_science_problem_attachment_only").change(function(e){return $(".js-evaluation-item").toggleClass("hidden",$(e.currentTarget).is(":checked"))})}}}.call(this),function(){Hera.challengeEssays={initLoadFn:function(){return Hera.challengeable.handleLocaleBtn(),Hera.challengeable.initDescription()},initIndex:function(){return this.challengeFilter=new Hera.challengeFilter.Essay,this.challengeFilter.initFilterHandlers(),Hera.challenge.Base.initModalHandlers()},initNew:function(){return this.initLoadFn()},initCreate:function(){return this.initLoadFn()},initEdit:function(){return this.initLoadFn()},initUpdate:function(){return this.initLoadFn()}}}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.challengeFilter.Algorithm=function(t){function n(e){n.__super__.constructor.apply(this,arguments),this.challengeType=e.challengeType,this.challengeableType="algorithm"}return e(n,t),n}(Hera.challengeFilter.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.challengeFilter.Api=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.challengeableType="api"}return e(n,t),n}(Hera.challengeFilter.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.challengeFilter.App=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.challengeableType="app"}return e(n,t),n}(Hera.challengeFilter.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.challengeFilter.DataScience=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.challengeableType="data_science"}return e(n,t),n}(Hera.challengeFilter.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.challengeFilter.Essay=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.challengeableType="essay"}return e(n,t),n}(Hera.challengeFilter.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.challengeFilter.MachineLearning=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.challengeableType="machine_learning"}return e(n,t),n}(Hera.challengeFilter.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.challengeFilter.Quiz=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.challengeableType="quiz"}return e(n,t),n}(Hera.challengeFilter.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.challengeFilter.Sql=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.challengeableType="sql"}return e(n,t),n}(Hera.challengeFilter.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.challengeFilter.Web=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.challengeableType="web"}return e(n,t),n}(Hera.challengeFilter.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.challengeFilter.WebFrontend=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.challengeableType="web_frontend"}return e(n,t),n}(Hera.challengeFilter.Base)}.call(this),function(){Hera.challengeMachineLearnings={initLoadFn:function(){return Hera.challengeable.handleLocaleBtn(),Hera.challengeable.initDescription(),Hera.challengeable.initFileUploadForm("training"),Hera.challengeable.initFileUploadForm("evaluation"),Hera.challengeable.initFileUploadForm("evaluation_input"),Hera.challengeable.initFileUploadForm("sample"),Hera.challengeable.initFileUploadForm("challenge-evaluation-file"),$(".upload-file-form-label").addClass("required")},initIndex:function(){return this.challengeFilter=new Hera.challengeFilter.MachineLearning,this.challengeFilter.initFilterHandlers(),Hera.challenge.Base.initModalHandlers()},initNew:function(){return this.initLoadFn()},initCreate:function(){return $("#file-upload-form").addClass("has-error"),this.initLoadFn()},initEdit:function(){return this.initLoadFn()},initUpdate:function(){return $("#file-upload-form").addClass("has-error"),this.initLoadFn()}}}.call(this),function(){Hera.challengeQuizzes={initLoadFn:function(){return Hera.challengeable.handleLocaleBtn(),Hera.challengeable.initDescription(),this.handleAddExampleBtn(),this.handleExampleRemoveCircle(),this.handleVertificationForm()},initIndex:function(){return this.initCollapseHandlers(),this.challengeFilter=new Hera.challengeFilter.Quiz,this.challengeFilter.initFilterHandlers()},initNew:function(){return this.initLoadFn()},initCreate:function(){return this.initLoadFn()},initEdit:function(){if(this.initLoadFn(),1===$(".examples").length)return $(".examples").find("svg").hide()},initUpdate:function(){return this.initCreate()},initCollapseHandlers:function(){var e;return $(document).on("show.bs.collapse",".quiz-detail",function(){return $(this).parent().parent().show(),$.get("/challenge_quizzes/"+$(this).data("quiz-id")+"/log_view")}),$(document).on("hidden.bs.collapse",".quiz-detail",function(){return $(this).parent().parent().hide()}),$(document).on("shown.bs.collapse",".quiz-detail",(e=this,function(t){var n;return n=$(t.target).data("quiz-id"),$("#quiz-"+n+" .t-collapse").html(e.collapseSvgTag("up"))})),$(document).on("hide.bs.collapse",".quiz-detail",function(e){return function(t){var n;return n=$(t.target).data("quiz-id"),$("#quiz-"+n+" .t-collapse").html(e.collapseSvgTag("down"))}}(this)),$(".t-edit .js-edit-quiz").on("click",function(e){return e.stopPropagation()})},collapseSvgTag:function(e){return Hera.commons.svgTag("ic-keyboard-arrow-"+e,24,"black")},handleAddExampleBtn:function(){return $(".form-quiz-examples .btn#add-examples").click((e=this,function(){return $(".examples").length>=20?Hera.utils.snackbar("\ubcf4\uae30\ub294 \ucd5c\ub300 20\uac1c \uae4c\uc9c0 \ub9cc\ub4e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."):(e.cloneExample(),e.handleExampleRemoveCircle(),$(".examples").find("svg").show())}));var e},cloneExample:function(){var e,t;return e=$(".examples").last().clone().appendTo("#sortWrap"),t=parseInt(e.find(".example-order").text()),e.find(".example-order").text(t+1),e.find(".example-content").val(""),e.find(".answer-box").val(t).prop("checked",!1)},handleExampleRemoveCircle:function(){return $(".form-quiz-examples").on("click",".remove-circle",function(){var e,t,n,i,r;for($(this).parent().parent().remove(),t=n=0,i=(r=$(".examples")).length;n<i;t=++n)e=r[t],$(e).find(".example-order").text(t+1),$(e).find(".answer-box").val(t);if(1===$(".examples").length)return $(".examples").find("svg").hide()})},handleVertificationForm:function(){var e,t,n,i,r,o,a;return e=$("#js-saq-answer"),r=$("#js-vertification"),o=$(".js-vertification-feedback"),n=$(".js-answer-syntax-feedback"),t=$(".js-answer-section .invalid-feedback"),i=$("#js-case-insensitive"),a=function(){if(r.val().length>0&&e.val().length>0){t.addClass("hidden"),e.removeClass("is-invalid is-valid"),r.removeClass("is-invalid is-valid");try{return(i.is(":checked")?new RegExp(e.val(),"i"):new RegExp(e.val())).test(r.val())?(r.addClass("is-valid"),o.text("")):(r.addClass("is-invalid"),o.text(I18n.t("activerecord.errors.models.challenge_quiz.attributes.verification_answer.wrong_answer"))),e.addClass("is-valid"),n.text("")}catch(a){return a,e.addClass("is-invalid"),n.text(I18n.t("activerecord.errors.models.challenge_quiz.attributes.saq_answer.invalid")),r.addClass("is-invalid"),o.text(I18n.t("activerecord.errors.models.challenge_quiz.attributes.verification_answer.wrong_answer"))}}},e.on("keyup",function(){return a()}),r.on("keyup",function(){return a()})}}}.call(this),function(){Hera.challengeSqls={initIndex:function(){return this.challengeFilter=new Hera.challengeFilter.Sql,this.challengeFilter.initFilterHandlers(),Hera.challenge.Base.initModalHandlers()}}}.call(this),function(){Hera.challengeWebFrontends={initIndex:function(){return this.challengeFilter=new Hera.challengeFilter.WebFrontend,this.challengeFilter.initFilterHandlers(),Hera.challenge.Base.initModalHandlers()}}}.call(this),function(){Hera.challengeWebs={initLoadFn:function(){return Hera.challengeable.handleLocaleBtn(),Hera.challengeable.handleNavTabBtn(),Hera.challengeable.handleEvaluationSheetAddBtn(),Hera.challengeable.handleEvaluationSheetPartMoveBtn(),Hera.challengeable.initDescription(),["django_initialize_file","nodejs_initialize_file","rails_initialize_file","springboot_initialize_file"].forEach(function(e){return Hera.challengeable.initFileUploadForm(e),$(".checkbox-initialize-file[data-filename='"+e+"']").change(function(){return $(this).is(":checked")?$("#"+e).removeAttr("disabled"):$("#"+e).attr("disabled","disabled")})})},initIndex:function(){return this.challengeFilter=new Hera.challengeFilter.Web,this.challengeFilter.initFilterHandlers(),Hera.challenge.Base.initModalHandlers()},initNew:function(){return this.initLoadFn()},initCreate:function(){return this.initLoadFn()},initEdit:function(){return this.initLoadFn()},initUpdate:function(){return this.initLoadFn()}}}.call(this),function(){Hera.challengeable={codeMirror:function(e){return $("#"+e+" .CodeMirror")[0].CodeMirror},getCodeMirrorCode:function(e){return this.codeMirror(e).getValue()},setCodeMirrorCode:function(e,t){return this.codeMirror(e).setValue(t)},handleLocaleBtn:function(){var e,t;return e=(t=$(".select-locale")).find(".locale.active").data("locale")||I18n.defaultLocale,$(".form-content").hide(),$(".form-content[data-locale="+e+"]").show(),$(".examples textarea."+e).show(),t.find(".locale").click(function(){return $(".locale").removeClass("active"),$(".locale."+$(this).data("locale")).addClass("active"),$(".form-content").hide(),$(".form-content[data-locale="+$(this).data("locale")+"]").show(),$(".examples .example-content").hide(),$(".examples textarea."+$(this).data("locale")).show()})},handleNavTabBtn:function(){return $(".nav-tabs").on("click",".nav-link",function(){var e;return $(".js-tab-content").addClass("hidden"),e=$(event.target).data("tab"),$(".js-"+e).removeClass("hidden")})},handleEvaluationSheetAddBtn:function(){return $(".js-evaluation-sheet").on("cocoon:before-insert",function(e,t){var n,i,r;return r=0,t.hasClass("js-evaluation-part")&&(void 0!==(i=$(e.target).closest(".js-evaluation-sheet").find(".js-evaluation-part").last())[0]&&(r=parseInt(i.find(".js-display-order").val())+1),t.find(".btn-collapse").attr("href","#collapseExample_"+r),t.find(".js-collapse-target").attr("id","collapseExample_"+r)),t.hasClass("evaluation-item")&&void 0!==(n=$(e.target).closest(".collapse").find(".evaluation-item").last())[0]&&(r=parseInt(n.find(".js-display-order").val())+1),t.find(".js-display-order").val(r)})},handleEvaluationSheetPartMoveBtn:function(){return $(".js-evaluation-sheet").on("click",function(e){var t,n,i,r,o,a,s;if(e.preventDefault(),o=$(".js-evaluation-sheet .js-evaluation-part:visible"),t=$(e.target).closest(".js-evaluation-part"),n=$.inArray(t[0],o),$(e.target).closest(".js-move-part-up").length&&n>0&&(s=(a=$(o[n-1])).find(".js-part-order").val(),a.find(".js-part-order").val(t.find(".js-part-order").val()),t.find(".js-part-order").val(s),a.before(t)),$(e.target).closest(".js-move-part-down").length&&n<o.length-1)return r=(i=$(o[n+1])).find(".js-part-order").val(),i.find(".js-part-order").val(t.find(".js-part-order").val()),t.find(".js-part-order").val(r),i.after(t)})},initDescription:function(){var e,t,n,i,r,o;for(this.editors=[],e=0,t=(r=$(".locale")).length;e<t;e++)i=r[e],n=$(i).data("locale"),this.editors.push(Hera.commons.initTuiEditor("#"+n+"-description"));return $(".js-submit").click((o=this,function(e){var t,n,i;for($(e.target).attr("disabled",!0),t=0,n=(i=o.editors).length;t<n;t++)i[t].setValueToOriginForm();return $("#challengeable-form").submit()})),$(".js-preview").click(function(e){return function(t){var n,i,r;for($(t.target).attr("disabled",!0),n=0,i=(r=e.editors).length;n<i;n++)r[n].setValueToOriginForm();return e.preview()}}(this))},preview:function(){var e,t;return e=$(".select-locale .locale.active").data("locale")||I18n.defaultLocale,t=$($(".js-preview")[0]).data("type"),$.ajax({url:"/"+t+"/preview",type:"POST",data:$("#challengeable-form .js-preview-form input, #challengeable-form .js-preview-form textarea").serialize()+"&"+$.param({active_locale:e})}).done(function(e){return window.open().document.write(e),$(".js-preview").attr("disabled",!1)})},initFileUploadForm:function(e){return $("#"+e).on("change",function(t){var n;if(null!=(n=$(t.target)[0].files[0]))return $(".btn.btn-clear."+e).removeClass("hidden"),$(".attachment-file-name."+e)[0].innerHTML=n.name}),$(".btn.btn-clear."+e).click(function(){return $("#"+e).val(""),$(".btn.btn-clear."+e).addClass("hidden"),$(".attachment-file-name."+e)[0].innerHTML=I18n.t("challenge.file.blank")})}}}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.AssignmentManager=function(t){function n(e){this.testTokenId=e.testTokenId,n.__super__.constructor.call(this,e),this._initButtonHandler()}return e(n,t),n.prototype.initSubscription=function(){return this.subscription=App.cable.subscriptions.create({channel:"AssignmentManagerChannel",test_token_id:this.testTokenId},this.subscriptionCallbacks())},n.prototype._initButtonHandler=function(){return $("#vscode-restart").click((e=this,function(t){return t.preventDefault(),$("#vscode-restart").prop("disabled",!0),e._restartVscode()}));var e},n.prototype.handleLaunch=function(e){switch(e.type){case"progress":return this.handleLaunchProgress(e);case"completed":if($(".challenge-content .main-section-loading").addClass("hidden"),$(".challenge-content .main-section").removeClass("hidden"),$(".challenge-content .main-section[data-test-token-id="+e.test_token_id+"]").html("<iframe src='"+e.url+"'></iframe>"),e.web)return $("#vscode-launch[data-test-token-id='"+e.test_token_id+"']").attr("href",""+e.web),$("#vscode-restart").prop("disabled",!1);break;case"restart_completed":if(this.testTokenId===e.test_token_id)return Hera.utils.snackbar("\uc7ac\uc2dc\uc791\uc744 \uc644\ub8cc \ud588\uc2b5\ub2c8\ub2e4.");break;case"failed":return this.handleLaunchFailed(e)}},n.prototype.handleRun=function(e){switch(e.type){case"completed":return this.handleRunTaskComplete(e);case"subscribe_logs":return this.updateBuildLog(e),Hera.channel.challenge.Heroku.handleSubscribeLogs(e,this.handleBuildSuccess,this.handleBuildFailed);case"failed":return this.handleBuildFailed(e);case"building_image":return Hera.utils.snackbar("\uc751\uc2dc\uc790\uac00 \uc81c\ucd9c\ud55c \uc774\ubbf8\uc9c0\ub97c \uc0dd\uc131\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");case"self_hosted_url":return this.handleRunTaskComplete(e),this.handleBuildSuccess(e),$("#"+this.buildLogId(e.repository)).text(e.message)}},n.prototype.handleRunTaskComplete=function(e){return this.showBuildLogs(e.repository),$("#repository-run[data-repository='"+e.repository+"']").click(function(){return window.open(e.run_url)})},n.prototype.handleBuildSuccess=function(e){return $("#repository-build[data-repository='"+e.repository+"']").addClass("hidden"),$("#repository-run[data-repository='"+e.repository+"']").removeClass("hidden")},n.prototype.handleBuildFailed=function(e){return e.message&&(this.showBuildLogs(e.repository),$("#"+this.buildLogId(e.repository)).text($("#"+this.buildLogId(e.repository)).text()+"\n"+e.message)),$("#repository-build[data-repository='"+e.repository+"']").addClass("hidden"),$("#repository-build-fail[data-repository='"+e.repository+"']").removeClass("hidden")},n.prototype.buildLogId=function(e){return"assignment-running-logs[data-repository='"+e+"']"},n.prototype.showBuildLogs=function(e){return $(".consoles-output-empty[data-repository='"+e+"']").addClass("hidden"),$("#"+this.buildLogId(e)).removeClass("hidden")},n.prototype.updateBuildLog=function(e){return Hera.channel.challenge.Heroku.updateBuildLogTerminal(this.buildLogId(e.repository),e.logs)},n.prototype._restartVscode=function(){return confirm(I18n.t("assignment_tests.confirm.restart"))?($(".challenge-content .main-section").addClass("hidden"),$(".challenge-content .main-section-loading").removeClass("hidden"),this.subscription.perform("restart_vscode",{testTokenId:this.testTokenId})):$("#vscode-restart").prop("disabled",!1)},n}(Hera.channel.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.challenge.Algorithm=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initSubscription=function(){var e;return e={channel:"Challenge::AlgorithmChannel",challengeable_type:this.challenge.challengeableType,challengeable_id:this.challenge.challengeableId,language:this.challenge.language},this.challenge.tryoutId&&(e.test_id=this.challenge.tryoutId),
this.challenge.lesson&&(e.lesson_id=this.challenge.lesson.lessonId),this.challenge.skillCheckId&&(e.skill_check_id=this.challenge.skillCheckId),this.subscription=App.cable.subscriptions.create(e,this.subscriptionCallbacks())},n.prototype.handleRun=function(e){var t,n;if(-1===e.exitCode)return e.stderr.length>0&&this.printRuntimeError(e.stderr),void this.testFinished();switch(e.type){case"start":return this.testStarted(),this.printTestcases(e.testcases,e.hideResult);case"testcase":return t=$(".console-testcase[data-index="+e.index+"] .result"),this.printTestResult(t,e.passed,e.msg),e.stdout&&e.stdout.length>0&&(n=e.stdout),e.stderr&&e.stderr.length>0&&(n=e.stderr),n?$(".console-testcase[data-index="+e.index+"] .stdout").html(n).parent().show():$(".console-testcase[data-index="+e.index+"] .stdout").html("");case"result":return e.hideResult||this.printRunResult(e.passed,e.totalCount,e.passedCount),this.testFinished();case"finish":return this.testFinished();case"notice":return this.printNotice(e.msg)}},n.prototype.handleSubmit=function(e){var t,n;if(-1===e.exitCode)return e.stderr.length>0&&this.printRuntimeError(e.stderr),void this.testFinished();switch(e.type){case"start":return this.testStarted(),this.printHeading(e.msg);case"test_group":return this.printMessage(e.msg),this.printTestGroup(e.category,e.testcaseIds);case"testcase":return t=$(".console-test-group tr[data-testcase-id="+e.testcaseId+"] .result"),this.printTestResult(t,e.passed,e.msg);case"result_without_score":return this.printHeading(I18n.t("channels.challenge_algorithm.evaluation_finish")),e.passed?this.setChecked("algorithm",e.challengeableId):"test_group"===e.scoringUnit&&this.printMessage(I18n.t("channels.challenge_algorithm.description_without_score")),this.showSubmitGuidePopup();case"result":return this.printSubmitResult(e.scores,e.userScore,e.perfectScore),e.passed&&this.setChecked("algorithm",e.challengeableId),this.changeUserScore(e.challengeableId,e.userScore),this.changeOutputTitleClass(e.passed),this.showSubmitGuidePopup();case"result_lesson_challenge":return this.printSubmitResult(e.scores,e.userScore,e.perfectScore),e.passed&&this.setChecked("algorithm",e.challengeableId),this.changeUserScore(e.challengeableId,e.userScore),this.changeOutputTitleClass(e.passed),n={isNewRating:e.isNewRating,oldUserRating:e.oldUserRating,newUserRating:e.newUserRating},e.passed?this.challenge.lesson.showSuccessModal(e.finishModalBtnText,e.finishModalLink,n):this.challenge.lesson.showFailedModal();case"finish":return this.testFinished();case"notice":return this.printNotice(e.msg)}},n.prototype.handleStop=function(){if("testing"===this.status)return this.printTestResult($(".console-testcase .result .spinner").parent(),!1,I18n.t("channels.challenge_algorithm.stop")),this.printTestResult($(".console-test-group .result .spinner").parent(),!1,I18n.t("channels.challenge_algorithm.stop")),this.handleError({action:"stop",data:I18n.t("channels.challenge_algorithm.description_stop")})},n.prototype.handleError=function(e){var t;switch(e.action){case"run":t=$(".console-testcase[data-index="+e.index+"] .result"),this.printTestResult(t,!1,I18n.t("channels.challenge_algorithm.error")+"<br/>"+e.msg);break;case"submit":$(".console-test-group[data-category="+e.category+"]").remove()}return n.__super__.handleError.call(this,e)},n.prototype.testStarted=function(){return n.__super__.testStarted.call(this),this.showStopButton()},n.prototype.testFinished=function(){return n.__super__.testFinished.call(this),this.hideStopButton()},n.prototype.showStopButton=function(){return $("#stop-button").show()},n.prototype.hideStopButton=function(){return $("#stop-button").hide()},n.prototype.changeUserScore=function(e,t){var n,i,r;if(r=$("#customer-score-algorithm-"+e),i=Hera.commons.extractFloatFromString(r.text()),n=Hera.commons.extractFloatFromString(t),null===i||n>i)return r.html(t)},n.prototype.testcaseInputHtml=function(e){return'<tr>\n  <td class="td-label" align="right">'+I18n.t("channels.challenge_algorithm.input")+' <span>\u3009</span></td>\n  <td class="input">'+this._safeReplaceTags(e)+"</td>\n</tr>"},n.prototype.testcaseOutputHtml=function(e){return'<tr>\n  <td class="td-label" align="right">'+I18n.t("channels.challenge_algorithm.expected")+' <span>\u3009</span></td>\n  <td class="output">'+this._safeReplaceTags(e)+"</td>\n</tr>"},n.prototype.testcaseHtml=function(e,t){return null==t&&(t=0),'<table class="console-testcase" data-index="'+t+'">\n  <tr><td colspan="2">'+I18n.t("channels.challenge_algorithm.test")+" "+(t+1)+"</td></tr>\n  "+(null!=e.input?this.testcaseInputHtml(e.input):void 0)+"\n  "+(null!=e.output?this.testcaseOutputHtml(e.output):void 0)+'\n  <tr>\n    <td class="td-label" align="right" valign="top">'+I18n.t("channels.challenge_algorithm.evaluation_result")+' <span>\u3009</span></td>\n    <td class="result"><span class="spinner"><span class="bounce1"></span><span class="bounce2"></span><span class="bounce3"></span></span></td>\n  </tr>\n  <tr style="display:none">\n    <td class="td-label" align="right" valign="top">'+I18n.t("channels.challenge_algorithm.output")+' <span>\u3009</span></td>\n    <td class="stdout"></td>\n  </tr>\n</table>'},n.prototype.testcaseHtmlWithoutResult=function(e,t){return null==t&&(t=0),'<table class="console-testcase" data-index="'+t+'">\n  <tr><td colspan="2">'+I18n.t("channels.challenge_algorithm.test")+" "+(t+1)+"</td></tr>\n  "+(null!=e.input?this.testcaseInputHtml(e.input):void 0)+"\n  "+(null!=e.output?this.testcaseOutputHtml(e.output):void 0)+'\n  <tr>\n    <td class="td-label" align="right" valign="top">'+I18n.t("channels.challenge_algorithm.output")+' <span>\u3009</span></td>\n    <td class="stdout"><span class="spinner"><span class="bounce1"></span><span class="bounce2"></span><span class="bounce3"></span></span></td>\n  </tr>\n</table>'},n.prototype.testOutputHtml=function(){return'<table class="console-testcase" data-index="0">\n  <tr><td colspan="2">'+I18n.t("channels.challenge_algorithm.evaluation_result")+'</td></tr>\n  <tr>\n    <td class="td-label" align="right" valign="top">'+I18n.t("channels.challenge_algorithm.output")+' <span>\u3009</span></td>\n    <td class="stdout result"><span class="spinner"><span class="bounce1"></span><span class="bounce2"></span><span class="bounce3"></span></span></td>\n  </tr>\n</table>'},n.prototype.printTestcases=function(e,t){var n,i,r,o,a;if(null!=e)for(n="",r=i=0,o=e.length;i<o;r=++i)a=e[r],n+=t?this.testcaseHtmlWithoutResult(a,r):this.testcaseHtml(a,r);else n=this.testOutputHtml;return this.printOutput(n,!1)},n.prototype.printRunResult=function(e,t,n){var i;return this.printHeading(I18n.t("channels.challenge_algorithm.test_result")+" (~\u02d8\u25be\u02d8)~"),i=I18n.t("channels.challenge_algorithm.success_testcases",{total_count:t,passed_count:n}),e?(this.printOutput('<div class="console-passed">'+i+"</div>"),this.printOutput('<div class="console-message">'+I18n.t("channels.challenge_algorithm.description_passed_sample")+"</div>")):this.printOutput('<div class="console-failed">'+i+"</div>")},n.prototype.printTestGroup=function(e,t){var n,i,r,o;for(n='<table class="console-test-group" data-category="'+e+'">',r=i=0,o=t.length;i<o;r=++i)n+="<tr data-testcase-id='"+t[r]+'\'><td valign="top" class="td-label">'+I18n.t("channels.challenge_algorithm.test")+" "+(r+1)+' <span>\u3009</span></td><td class="result"><span class="spinner"><span class="bounce1"></span><span class="bounce2"></span><span class="bounce3"></span></span></td></tr>';return n+="</table>",this.printOutput(n,!1)},n.prototype.printSubmitResult=function(e,t,n){var i,r,o;for(this.printHeading(I18n.t("channels.challenge_algorithm.scoring_result")),"test_group"===this.challenge.scoringUnit&&this.printScoringUnitHelp(),i=0,r=e.length;i<r;i++)o=e[i],this.printMessage(o.name+": "+o.score);return this.printMessage(I18n.t("channels.challenge_algorithm.total")+": "+t+" / "+n)},n.prototype.printNotice=function(e){return this.printFailedMessage(e)},n.prototype.printScoringUnitHelp=function(){return this.printOutput('<div class="console-help-message">'+I18n.t("channels.challenge_algorithm.test_group_scoring_unit")+"</div>")},n.prototype._replaceTag=function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[e]||e},n.prototype._safeReplaceTags=function(e){return e.replace(/[&<>]/g,this._replaceTag)},n}(Hera.channel.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.challenge.Api=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initSubscription=function(){return this.subscription=App.cable.subscriptions.create({channel:"Challenge::ApiChannel",test_id:this.challenge.assignmentId,challengeable_id:this.challenge.challengeableId},this.subscriptionCallbacks())},n}(Hera.channel.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.challenge.DataScience=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initSubscription=function(){return this.subscription=App.cable.subscriptions.create({channel:"Challenge::DataScienceChannel",test_id:this.challenge.assignmentId,challengeable_id:this.challenge.challengeableId},this.subscriptionCallbacks())},n.prototype.handleLaunch=function(e){var t;switch(e.type){case"progress":return this.handleLaunchProgress(e);case"completed":return(t=$("span.timer")).length>0&&null!=e.remainingTime&&(t.removeClass("hidden"),this.challenge.resetTimer(e.remainingTime,this.challenge.checkTimeOver)),this.enableResetAndSubmitButton(),0===$(".challenge-content .main-section").find("iframe").length&&$(".challenge-content .main-section").html("<iframe src='"+e.url+"'></iframe>"),$(".challenge-content .main-section-loading").addClass("hidden"),$(".challenge-content .main-section").removeClass("hidden");case"failed":return this.handleLaunchFailed(e)}},n.prototype.handleReset=function(e){switch(e.type){case"completed":return this.enableResetAndSubmitButton(),window.location.reload(!0);case"failed":return this.handleLaunchFailed(e)}},n.prototype.handleDataValidate=function(e){switch(e.type){case"start":return $.get("/assignments/"+this.challenge.assignmentId+"/show_validation_status");case"result":case"failed":return $(".js-validate-result[data-challengeable-id="+e.challengeable_id+"] > .ic-20").addClass("hidden"),$(".js-validate-result[data-challengeable-id="+e.challengeable_id+"] > .ic-"+e.validate).removeClass("hidden"),$(".js-validate-result[data-challengeable-id="+e.challengeable_id+"]").find(".js-verification-result").text(e.msg),this.enableResetAndSubmitButton()}},n.prototype.handleSubmit=function(e){switch(e.type){case"done":return this.handleFinish()}},n.prototype.handleError=function(e){return Hera.commons.progressModal.hide(),n.__super__.handleError.call(this,e)},n.prototype.enableResetAndSubmitButton=function(){return $("#assignment-submit").prop("disabled",!1),$("#assignment-validate").prop("disabled",!1),$("#assignment-reset").prop("disabled",!1),$("#practice-assignment-reset").prop("disabled",!1),$("#ds-request-review").removeClass("disabled")},n}(Hera.channel.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.challenge.Essay=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initSubscription=function(){return this.subscription=App.cable.subscriptions.create({channel:"Challenge::EssayChannel",test_id:this.challenge.tryoutId,challengeable_type:this.challenge.challengeableType,challengeable_id:this.challenge.challengeableId},this.subscriptionCallbacks())},n}(Hera.channel.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.challenge.MachineLearning=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initSubscription=function(){return this.subscription=App.cable.subscriptions.create({channel:"Challenge::MachineLearningChannel",test_id:this.challenge.assignmentId,challengeable_id:this.challenge.challengeableId},this.subscriptionCallbacks())},n.prototype.handleUpload=function(e){switch($(".js-btn-upload").attr("disabled",!1),e.type){case"completed":return this.challenge.uploadResultFile(e.presigned_url,e.submission_id),this.challenge._removeFile($(".btn.btn-clear").data("for"));case"failed":return null!=e.message&&$(".js-upload-failed > p").text(e.message),$(".js-upload-failed").removeClass("hidden")}},n.prototype.handleEvaluate=function(){return $.get("/machine_learning_submissions?test_id="+this.challenge.assignmentId)},n.prototype.handleSubmit=function(e){switch(e.type){case"completed":return $(".js-machine-learning-submission").removeClass("submissions-selected-state"),$(".js-submission-selector[data-submission-id="+e.submission_id+"]").closest(".js-machine-learning-submission").addClass("submissions-selected-state"),Hera.utils.snackbar(I18n.t("challenge_machine_learning.message.submit_success"))}},n}(Hera.channel.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.challenge.Quiz=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initSubscription=function(){var e;return e={channel:"Challenge::QuizChannel"},this.challenge.tryoutId&&(e.test_id=this.challenge.tryoutId),this.challenge.lesson&&(e.lesson_id=this.challenge.lesson.lessonId),this.subscription=App.cable.subscriptions.create(e,this.subscriptionCallbacks())},n.prototype.handleError=function(e){if(null!=e.msg)return Hera.utils.snackbar(e.msg)},n}(Hera.channel.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.challenge.Heroku=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initSubscription=function(){return this.subscription=App.cable.subscriptions.create({channel:"Challenge::WebChannel",test_id:this.challenge.assignmentId,challengeable_id:this.challenge.challengeableId},this.subscriptionCallbacks())},n.prototype.handleConnected=function(){if(n.__super__.handleConnected.call(this),this.challenge.runningTask)return Hera.challenge.Web.runAssignment(this)},n.prototype.handleRun=function(e){switch($("#assignment-running-logs").text("loading logs.."),$(".assignment-logs").removeClass("hidden"),e.type){case"completed":return this.handleRunTaskComplete(e);case"subscribe_logs":return this.updateBuildLog(e),Hera.channel.challenge.Heroku.handleSubscribeLogs(e,this.handleBuildSuccess,this.handleBuildFailed);case"failed":return this.handleBuildFailed(e)}},n.prototype.handleSubmit=function(e){switch(e.type){case"result":return this.handleFinish();case"failed_git":return $(".has-error.assignment-logs").removeClass("hidden").text(e.message);case"failed_save":return $(".has-error.self-hosted-url").removeClass("hidden").text(e.message)}},n.prototype.handleError=function(e){return Hera.commons.progressModal.hide(),n.__super__.handleError.call(this,e)},n.prototype.enableResetAndSubmitButton=function(){return $("#assignment-submit").prop("disabled",!1),$("#assignment-reset").prop("disabled",!1)},n.prototype.handleRunTaskComplete=function(e){return $("#assignment-run").click(function(){return window.open(e.run_url)}),$("#commit-hash").val(e.commit_hash),$("#assignment-submit").attr("disabled",!1)},n.prototype.handleBuildSuccess=function(){return $("#reset-repository").removeClass("hidden"),Hera.challenge.Web.showAssignmentButton("run"),$("#assignment-run").html(I18n.t("assignment_tests.web.repository_form_buttons.run_html",{commit_hash:$("#commit-hash").val()}))},n.prototype.handleBuildFailed=function(e){if($("#reset-repository").removeClass("hidden"),Hera.challenge.Web.showAssignmentButton("build-fail"),$("#assignment-build-fail").html(I18n.t("assignment_tests.web.repository_form_buttons.build_faild_html",{commit_hash:$("#commit-hash").val()})),$(".has-error.assignment-logs").removeClass("hidden").text(e.message),""===$("#commit-hash").val())return $("#assignment-running-logs").text("build failed! please check your repository.")},n.prototype.updateBuildLog=function(e){return this.constructor.updateBuildLogTerminal("assignment-running-logs",e.logs)},n.handleSubscribeLogs=function(e,t,n){switch(""+e.status){case"0":return t(e);case"1":break;default:return e.message=I18n.t("assignment_tests.web.error_messages.build_failed"),n(e)}},n.updateBuildLogTerminal=function(e,t){var n,i;if((i=$("#"+e))[0])return n=i[0].scrollHeight-i[0].scrollTop===i[0].clientHeight,i.text(t),n?i.scrollTop(i[0].scrollHeight):void 0},n}(Hera.channel.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.challenge.Vscode=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initSubscription=function(){return this.subscription=App.cable.subscriptions.create({channel:"Challenge::VscodeChannel",test_id:this.challenge.assignmentId,challengeable_id:this.challenge.challengeableId},this.subscriptionCallbacks())},n.prototype.handleConnected=function(){return n.__super__.handleConnected.call(this)},n.prototype.handleSubmit=function(e){switch(e.type){case"result":return this.handleFinish()}},n.prototype.handleError=function(e){return Hera.commons.progressModal.hide(),n.__super__.handleError.call(this,e)},n.prototype.handleLaunch=function(e){var t,n;switch(e.type){case"progress":return this.handleLaunchProgress(e);case"completed":return(t=$("span.timer")).length>0&&null!=e.remainingTime&&(t.removeClass("hidden"),$(".timer").length>0&&this.challenge.resetTimer(e.remainingTime,this.challenge.checkTimeOver)),this.enableSubmitButton(),n="<iframe allowfullscreen='true' sandbox='allow-same-origin allow-scripts allow-pointer-lock allow-presentation allow-top-navigation' src='"+e.url+"'></iframe>",$(".challenge-content .main-section").html(n),$("#vscode-restart").prop("disabled",!1),$("#vscode-request-review").removeClass("disabled"),$("#vscode-launch[data-test-token-id='"+e.test_token_id+"']").data("url",""+e.web),$("#vscode-launch[data-test-token-id='"+e.test_token_id+"']").prop("disabled",!1),$(".challenge-content .main-section-loading").addClass("hidden"),$(".challenge-content .main-section").removeClass("hidden");case"failed":return this.handleLaunchFailed(e)}},n.prototype.handleCheckTimeOver=function(e){switch(e.type){case"ok":return n.__super__.handleCheckTimeOver.call(this,e);case"time_over":return this.challenge.submit()}},n.prototype.enableSubmitButton=function(){return $("#vscode-submit").prop("disabled",!1)},n}(Hera.channel.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty,n=[].slice;Hera.channel.challenge.Sql=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.initSubscription=function(){var e;return e={channel:"Challenge::SqlChannel",challengeable_type:this.challenge.challengeableType,challengeable_id:this.challenge.challengeableId,language:this.challenge.language},this.challenge.tryoutId&&(e.test_id=this.challenge.tryoutId),this.challenge.lesson&&(e.lesson_id=this.challenge.lesson.lessonId),this.subscription=App.cable.subscriptions.create(e,this.subscriptionCallbacks())},i.prototype.handleRun=function(e){if(-1===e.exitCode)return e.stderr.length>0&&this.printRuntimeError(e.stderr),void this.testFinished();switch(e.type){case"start":return this.testStarted();case"result":return this.printRunResult(e.stdout,e.result),this.testFinished()}},i.prototype.handleSubmit=function(e){if(-1===e.exitCode)return e.stderr.length>0&&this.printRuntimeError(e.stderr),void this.testFinished();switch(e.type){case"start":return this.testStarted(),this.printHeading(e.msg);case"result_without_score":return this.printSubmitResult(e.passed),e.passed&&this.setChecked("sql",e.challengeableId),this.showSubmitGuidePopup(),this.testFinished();case"result":return this.printSubmitResult(e.passed),e.passed&&this.setChecked("sql",e.challengeableId),this.changeUserScore(e.challengeableId,e.score),this.showSubmitGuidePopup();case"result_lesson_challenge":return e.passed?this.challenge.lesson.showSuccessModal(e.finishModalBtnText,e.finishModalLink):this.challenge.lesson.showFailedModal();case"finish":return this.testFinished()}},i.prototype.handleError=function(e){var t;switch(i.__super__.handleError.call(this,e),e.action){case"run":return t=$(".console-testcase .result"),this.printTestResult(t,!1,I18n.t("channels.challenge_algorithm.runtime_error"))}},i.prototype.changeUserScore=function(e,t){var n,i,r;if(r=$("#customer-score-sql-"+e),i=Hera.commons.extractFloatFromString(r.text()),n=Hera.commons.extractFloatFromString(t),null===i||n>i)return r.html(t)},i.prototype.printRunResult=function(e,t){var i,r,o,a,s,l,c,u,d,h,p;if(null!=e)return this.printMessage(e);if(null!=t){if(r=(h=Papa.parse(t,{skipEmptyLines:!0}).data)[0],i=2<=h.length?n.call(h,1):[],!Array.isArray(r))return;for(o='<table class="console-sql-result"><thead><tr>',a=0,c=r.length;a<c;a++)o+="<th>"+r[a]+"</th>";for(o+="</tr><thead><tbody>",s=0,u=i.length;s<u;s++){for(o+="<tr>",l=0,d=(p=i[s]).length;l<d;l++)o+="<td>"+p[l]+"</td>";o+="</tr>"}return o+="</tbody></table>",this.printMessage(o)}},i.prototype.printSubmitResult=function(e){return this.printHeading(I18n.t("channels.challenge_algorithm.scoring_result")),e?this.printPassedMessage(I18n.t("channels.challenge_algorithm.solution_passed")):this.printFailedMessage(I18n.t("channels.challenge_algorithm.solution_failed"))},i}(Hera.channel.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.challenge.Web=function(t){function n(e){this.challenge=e.challenge,n.__super__.constructor.call(this,e)}return e(n,t),n}(Hera.channel.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.challenge.WebFrontend=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initSubscription=function(){var e;return e={channel:"Challenge::WebFrontendChannel",challengeable_type:this.challenge.challengeableType,challengeable_id:this.challenge.challengeableId},this.challenge.tryoutId&&(e.test_id=this.challenge.tryoutId),this.challenge.lesson&&(e.lesson_id=this.challenge.lesson.lessonId),this.subscription=App.cable.subscriptions.create(e,this.subscriptionCallbacks())},n.prototype.handleRun=function(e){switch(e.type){case"finish":return this.challenge.lesson.showNextButton()}},n.prototype.handleSubmit=function(e){switch(e.type){case"start":return this.testStarted(),this.printHeading(e.msg);case"result_without_score":return this.printHeading("\ucc44\uc810 \uc644\ub8cc");case"result_with_lesson":return this.testFinished(),e.passed?this.challenge.lesson.showSuccessModal(e.finish_modal_btn_text,e.finish_modal_link):this.challenge.lesson.showFailedModal();case"result":return this.testFinished(),this.printSubmitResult(e.passed),e.passed&&this.setChecked("web",e.challengeableId),this.changeUserScore(e.challengeableId,e.score)}},n.prototype.changeUserScore=function(e,t){var n,i,r;if(r=$("#customer-score-web_frontend-"+e),i=Hera.commons.extractFloatFromString(r.text()),n=Hera.commons.extractFloatFromString(t),null===i||n>i)return r.html(t)},n.prototype.printSubmitResult=function(e){return this.printHeading(I18n.t("channels.challenge_algorithm.scoring_result")),e?this.printPassedMessage(I18n.t("channels.challenge_algorithm.solution_passed")):this.printFailedMessage(I18n.t("channels.challenge_algorithm.solution_failed"))},n}(Hera.channel.challenge.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.JobPosition=function(t){function n(){n.__super__.constructor.call(this)}return e(n,t),n.prototype.initSubscription=function(){return this.subscription=App.cable.subscriptions.create({channel:"JobPositionChannel"},this.subscriptionCallbacks())},n.prototype.handleDownload=function(e){switch(e.type){case"complete":return Hera.utils.snackbar("\uc774\ub825\uc11c PDF \ubcc0\ud658\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),$("#js-pdf-download-confirm").removeClass("hidden"),$("#js-pdf-downloading").addClass("hidden")}},n}(Hera.channel.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.Leaderboard=function(t){function n(e){this.tryoutId=e.tryoutId,n.__super__.constructor.call(this,e)}return e(n,t),n.prototype.initSubscription=function(){return this.subscription=App.cable.subscriptions.create({channel:"LeaderboardChannel",tryout_id:this.tryoutId},this.subscriptionCallbacks())},n.prototype.handleConnect=function(){return"idle"===this.status&&Competitions.leaderboard.updateLeaderboard(),this.status="connected"},n.prototype.handleEvaluation=function(e){return Competitions.leaderboard.handleEvaluation(e)},n.prototype.handleRefresh=function(e){return Competitions.leaderboard.handleRefresh(e)},n.prototype.handleNewRanker=function(e){return Competitions.leaderboard.showNewRanker(e)},n.prototype.handleFreeze=function(e){return Competitions.leaderboard.handleFreezing(e)},n.prototype.handleSnapshot=function(e){return Competitions.leaderboard.handleSnapshot(e)},n}(Hera.channel.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.live.Algorithm=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initSubscription=function(){var e;return e={channel:"Live::AlgorithmChannel",tryout_token_id:this.challenge.tryoutTokenId,challengeable_type:this.challenge.challengeableType,challengeable_id:this.challenge.challengeableId,language:this.challenge.language},this.subscription=App.cable.subscriptions.create(e,this.subscriptionCallbacks())},n.prototype.handleInit=function(e){if((null==this.uuid||this.uuid===e.uuid)&&this.challenge.tryoutId===e.tryout_id&&this.challenge.tryoutChallengeId===e.tryout_challenge_id&&this.challenge.language===e.language)return this.uuid=e.uuid;$.get("/tryouts/"+e.tryout_id+"/challenges/"+e.tryout_challenge_id+"?language="+e.language+"&interviewee_token="+e.token)},n}(Hera.channel.challenge.Algorithm)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.Proctor=function(t){function n(e){this.testId=e.testId,n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initSubscription=function(){return this.subscription=App.cable.subscriptions.create({channel:"ProctorChannel",test_id:this.testId},this.subscriptionCallbacks())},n.prototype.handleRecord=function(e){switch(e.type){case"change":case"check_status":return e.connected_sources&&e.connected_sources.length>0&&this._proctoringStarted(e),e.record?($(".js-testees[data-token='"+e.token+"']").data("recording",!0),$(".js-testees[data-token='"+e.token+"']").attr("data-recording","true"),$(".item-subscriber[data-token='"+e.token+"']").data("recording",!0),$(".item-subscriber[data-token='"+e.token+"']").attr("data-recording","true"),$("#subscriber-wide-view[data-token='"+e.token+"']").attr("data-recording","true"),Hera.proctors.updateLocalStorage(e.token,{webrtcHost:e.webrtc_host,recording:!0,camMode:e.cam_mode})):($(".js-testees[data-token='"+e.token+"']").data("recording",!1),$(".js-testees[data-token='"+e.token+"']").attr("data-recording","false"),$(".item-subscriber[data-token='"+e.token+"']").data("recording",!1),$(".item-subscriber[data-token='"+e.token+"']").attr("data-recording","false"),$("#subscriber-wide-view[data-token='"+e.token+"']").attr("data-recording","false"),Hera.proctors.updateLocalStorage(e.token,{webrtcHost:"",recording:!1}))}},n.prototype.handleTest=function(e){switch(e.type){case"start":return $(".js-testees[data-token='"+e.token+"']").data("status","in_progress"),$(".js-testees[data-token='"+e.token+"']").attr("data-status","in_progress"),$(".item-subscriber[data-token='"+e.token+"']").data("status","in_progress"),$(".item-subscriber[data-token='"+e.token+"']").attr("data-status","in_progress"),$(".item-subscriber[data-token='"+e.token+"']").find(".test-state__test-page").removeClass("hidden"),$(".item-subscriber[data-token='"+e.token+"']").find(".test-state__connection").removeClass("hidden"),$("#subscriber-wide-view[data-token='"+e.token+"']").attr("data-status","in_progress"),$("#subscriber-wide-view[data-token='"+e.token+"']").find(".test-state__test-page").removeClass("hidden"),$("#subscriber-wide-view[data-token='"+e.token+"']").find(".test-state__connection").removeClass("hidden"),Hera.proctors.updateLocalStorage(e.token,{status:"in_progress"});case"finish":return $(".js-testees[data-token='"+e.token+"']").data("status","finished"),$(".js-testees[data-token='"+e.token+"']").attr("data-status","finished"),$(".item-subscriber[data-token='"+e.token+"']").data("status","finished"),$(".item-subscriber[data-token='"+e.token+"']").attr("data-status","finished"),$(".item-subscriber[data-token='"+e.token+"']").find(".test-state__test-page").addClass("hidden"),$(".item-subscriber[data-token='"+e.token+"']").find(".test-state__connection").addClass("hidden"),e.token===$("#subscriber-wide-view").data("token")&&$("#subscriber-wide-view[data-token='"+e.token+"']").attr("data-status","finished"),$("#subscriber-wide-view[data-token='"+e.token+"']").find(".test-state__test-page").addClass("hidden"),$("#subscriber-wide-view[data-token='"+e.token+"']").find(".test-state__connection").addClass("hidden"),Hera.proctors.updateLocalStorage(e.token,{status:"finished"});case"connected":return $(".js-testees[data-token='"+e.token+"']").data("connection","connected"),$(".js-testees[data-token='"+e.token+"']").attr("data-connection","connected"),$(".item-subscriber[data-token='"+e.token+"']").data("connection","connected"),$(".item-subscriber[data-token='"+e.token+"']").attr("data-connection","connected"),$("#subscriber-wide-view[data-token='"+e.token+"']").attr("data-connection","connected"),Hera.proctors.updateLocalStorage(e.token,{connection:"connected"});case"disconnected":return $(".js-testees[data-token='"+e.token+"']").data("connection","disconnected"),$(".js-testees[data-token='"+e.token+"']").attr("data-connection","disconnected"),$(".item-subscriber[data-token='"+e.token+"']").data("connection","disconnected"),$(".item-subscriber[data-token='"+e.token+"']").attr("data-connection","disconnected"),$("#subscriber-wide-view[data-token='"+e.token+"']").attr("data-connection","disconnected"),Hera.proctors.updateLocalStorage(e.token,{connection:"disconnected"})}},n.prototype.handleIdCard=function(e){switch(e.type){case"status":return Hera.proctors.changeIdCardStatus(e.token_id,e.status);case"uploaded":return Hera.proctors.idCardUploaded(e.token_id)}},n.prototype._proctoringStarted=function(e){var t,n,i,r,o,a,s;if(a=e.token,
s=e.webrtc_host,r=e.cam_mode,n=$(".js-testees[data-token='"+a+"']"),t=$(".js-subscriber[data-token='"+e.token+"'"),i=$("#subscriber-wide-view[data-token='"+a+"']"),o=t.data("webrtcHost"),n.data("webrtcHost",s),n.data("camMode",r),t.data("webrtcHost",s),t.data("camMode",r),i.data("webrtcHost",s),i.attr("data-webrtc-host",s),i.data("camMode",r),Hera.proctors.updateLocalStorage(a,{webrtcHost:s,camMode:r}),s&&s!==o)return t.length>0&&Hera.proctors._initSubscriber(t.data()),i.length>0?Hera.proctors.resetWideSubscriber(i.data()):void 0},n}(Hera.channel.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.RecruitProvider=function(t){function n(){n.__super__.constructor.call(this)}return e(n,t),n.prototype.initSubscription=function(){return this.subscription=App.cable.subscriptions.create({channel:"RecruitProviderChannel"},this.subscriptionCallbacks())},n.prototype.handleError=function(e){return $(".toast-spinner").removeClass("open"),n.__super__.handleError.call(this,e)},n.prototype.handleCheck=function(e){switch(e.type){case"success":return Hera.utils.snackbar(e.message),setTimeout(function(){return window.location.reload()},2e3);case"failed":return Hera.utils.snackbar(e.message),$(".toast-spinner").removeClass("open"),$.get("/recruit_providers/new",{provider:"wanted"})}},n}(Hera.channel.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.TestToken=function(t){function n(e){this.id=Date.now(),this.connected=!1,this.token=e.token,this.page=e.page,this.usingWebNotification=e.usingWebNotification,n.__super__.constructor.call(this)}var i;return e(n,t),i=6e4,n.prototype.initSubscription=function(){return this.subscription=App.cable.subscriptions.create({channel:"TestTokenChannel",token:this.token,page:this.page,id:this.id},this.subscriptionCallbacks())},n.prototype.handleConnected=function(){return n.__super__.handleConnected.call(this),this.connected=!0,Hera.records.updateState({isWsConnected:!0})},n.prototype.handleDisconnected=function(){return n.__super__.handleDisconnected.call(this),this.connected=!1,Hera.records.updateState({isWsConnected:!1})},n.prototype.handleRecord=function(e){var t,n;if("id_card"!==document.body.getAttribute("data-action"))switch(e.type){case"initialize":if(this._changeConnectionStatus(e),e.connected_sources.includes("mobile"))return $("body").trigger("mobile:connected");break;case"change":if(this._changeConnectionStatus(e),"mobile"===e.source)return e.connected_sources.includes(e.source)?$("body").trigger("mobile:connected"):$("body").trigger("mobile:disconnected");break;case"check_status":return t=["screen","cam","mobile"].filter(function(t){return!e.connected_sources.includes(t)}),e.record?t.forEach((n=this,function(e){return n._changeRecordingStatus(e,"connected"),Hera.records.changeConnectionStatus(e,"connected")})):(this._updatePopover(e),$("#popover-recording").removeClass("hidden"),$(".popover-title").text(e.title),$(".popover-content").html(e.msg),t.forEach(function(e){return function(t){return e._changeRecordingStatus(t,"disconnected"),Hera.records.changeConnectionStatus(t,"disconnected"),$(".screen-container."+t+" .alert-check").hide(),$("#init-"+t+"-publisher").prop("disabled",!1)}}(this)))}},n.prototype.handleIdCard=function(e){switch(e.type){case"uploaded":return Hera.tests.idCardUploaded();case"use_mobile_record":return Hera.tests.useMobileRecord(e.use_mobile_record)}},n.prototype.handleTest=function(e){var t;switch(e.type){case"start":return $(".js-record-step-wrapper").removeClass("invited").addClass("started"),$(".wizard-steps-connect").data("status","started"),Hera.records.updateState();case"finish":if("record"===document.body.getAttribute("data-action")||"mobile_cam"===document.body.getAttribute("data-action"))return t=document.body.getAttribute("data-locale"),window.location.href="/tests/finish_record?locale="+t;if(e.by_proctor)return Hera.utils.snackbar(I18n.t("tryout_challenges.alert.finish_by_proctor")),setTimeout(function(){return window.location.reload()},2e3)}},n.prototype.handleOpenNewWindow=function(e){if(this.id!==e.id)return $(".js-opened-new-window").removeClass("hidden"),$(".js-main-section").remove()},n.prototype.handleNotification=function(e){var t;if(e.except!==this.token)return"granted"===Notification.permission&&this.usingWebNotification?Hera.utils.webNotification(e.title,e.message,(t=this,function(){return $.get("/tests/"+e.test_id+"/notices?token="+t.token)})):new NotificationBar(e.icon,e.title,e.message,{timeout:"show"===e.type&&i,link:e.link||!1})},n.prototype._changeRecordingStatus=function(e,t){var n,i;return i={isDeviceConnected:n="connected"===t},"screen"!==e||n||(i.isFullScreen=void 0),Hera.records.updateState(i),Hera.tryoutChallenges.toggleBlockingScreen(n),$(".recording-status").toggleClass("on",n),$(".recording-status").toggleClass("off",!n),$(".recording-status .recording-txt").text(I18n.t("tryout_challenges.recording."+t))},n.prototype._updatePopover=function(e){var t,n;return n=e.title,t=e.msg,$("#popover-recording").removeClass("hidden"),$("#js-record-popover-header").text(n),$("#js-record-popover-body").html(t)},n.prototype._changeConnectionStatus=function(e){return e.connected_sources.forEach(function(e){return Hera.records.changeConnectionStatus(e,"connected")}),e.connected_sources.includes(e.source)||Hera.records.disconnectBySource(e.source),this._updatePopover(e),e.record?this._changeRecordingStatus(e.source,"connected"):this._changeRecordingStatus(e.source,"disconnected")},n}(Hera.channel.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.Tryout=function(t){function n(){n.__super__.constructor.call(this)}return e(n,t),n.prototype.initSubscription=function(){return this.subscription=App.cable.subscriptions.create({channel:"TryoutChannel"},this.subscriptionCallbacks())},n.prototype.handleDownload=function(e){switch(e.type){case"complete":Hera.utils.snackbar("\uc2dc\ud5d8 \uacb0\uacfc PDF \ubcc0\ud658\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");break;case"failed":Hera.utils.snackbar("\uc9c0\uc6d0\uc790\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")}return $(".btn-pdf-download").removeClass("hidden"),$("#js-pdf-downloading").addClass("hidden")},n.prototype.handlePlagiarismJob=function(e){return e.has_solution_groups?(Hera.utils.snackbar(I18n.t("tryouts.show.snackbar.plagiarism_job_finished")),$(".js-show-solution-groups").removeClass("d-none")):Hera.utils.snackbar(I18n.t("tryouts.show.snackbar.plagiarism_not_found"))},n}(Hera.channel.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.channel.TryoutManager=function(t){function n(e){this.tryoutTokenId=e.tryoutTokenId,n.__super__.constructor.call(this,e)}return e(n,t),n.prototype.initSubscription=function(){return this.subscription=App.cable.subscriptions.create({channel:"TryoutManagerChannel",tryout_token_id:this.tryoutTokenId},this.subscriptionCallbacks())},n.prototype.handleSubmit=function(e){var t;switch(e.type){case"start":return this.currentCount=0,$("#modal-dialog .submission-progress-wrapper").removeClass("hidden"),$("#modal-dialog .error-wrapper").addClass("hidden");case"testcase":return this.currentCount+=1,t=100*this.currentCount/e.testcasesCount,$("#modal-dialog .progress-bar").width(t+"%");case"finish":return this.finishSubmission()}},n.prototype.handleError=function(e){return $("#modal-dialog .submission-progress-wrapper").addClass("hidden"),$("#modal-dialog .error-wrapper").removeClass("hidden"),$("#modal-dialog .error-wrapper .error-text").html(e.msg)},n.prototype.finishSubmission=function(){return $("#modal-dialog").modal("hide"),window.location.reload(!0)},n}(Hera.channel.Base)}.call(this),function(){Hera.codeTemplates["function"].R={typeTemplate:{int:["int","0"],string:["string",'""'],bool:["bool","TRUE"],long:["long","0"],double:["double","0.0"],"int[]":["int[]","vector()"],"string[]":["string[]","vector()"],"bool[]":["bool[]","vector()"],"long[]":["long[]","vector()"],"double[]":["double[]","vector()"],"int[][]":["int[][]","matrix(, nrow = 1, ncol = 1)"],"string[][]":["string[][]","matrix(, nrow = 1, ncol = 1)"],"bool[][]":["bool[][]","matrix(, nrow = 1, ncol = 1)"],"long[][]":["long[][]","matrix(, nrow = 1, ncol = 1)"],"double[][]":["double[][]","matrix(, nrow = 1, ncol = 1)"]},buildParam:function(e){return e[Object.keys(e)[0]]},generateInitialCode:function(e,t){var n,i,r;return e=(r=this.typeTemplate[e])[0],i=r[1],"solution <- function("+(t=function(){var e,i,r;for(r=[],e=0,i=t.length;e<i;e++)n=t[e],r.push(this.buildParam(n));return r}.call(this)).join(", ")+") {\n    answer <- "+i+"\n    answer\n}"}}}.call(this),function(){Hera.codeTemplates["function"].c={typeTemplate:{int:["int","","0","int"],string:["const char*","","(char*)malloc(1)","char*"],bool:["bool","","true","bool"],long:["long long","","0","long long"],double:["double","","0","double"],"int[]":["int","[]","(int*)malloc(1)","int*"],"string[]":["const char*","[]","(char**)malloc(1)","char**"],"bool[]":["bool","[]","(bool*)malloc(1)","bool*"],"long[]":["long long","[]","(long long*)malloc(1)","long long*"],"double[]":["double","[]","(double*)malloc(1)","double*"],"int[][]":["int**","","(int**)malloc(1)","int**"],"string[][]":["const char***","","(char***)malloc(1)","char***"],"bool[][]":["bool**","","(bool**)malloc(1)","bool**"],"long[][]":["long long**","","(long long**)malloc(1)","long long**"],"double[][]":["double**","","(double**)malloc(1)","double**"]},returnPointer:function(e){return"string"===e||e.includes("*")},buildSolutionComment:function(e){var t,n,i,r,o,a,s,l;for(n=!1,t=[""],i=0,r=e.length;i<r;i++)o=e[i],s=Object.keys(o)[0],(l=this.typeTemplate[s])[0],l[1],a=o[s],s.includes("[][]")?t.push("// "+a+"_rows\ub294 2\ucc28\uc6d0 \ubc30\uc5f4 "+a+"\uc758 \ud589 \uae38\uc774, "+a+"_cols\ub294 2\ucc28\uc6d0 \ubc30\uc5f4 "+a+"\uc758 \uc5f4 \uae38\uc774\uc785\ub2c8\ub2e4."):s.includes("[]")&&t.push("// "+a+"_len\uc740 \ubc30\uc5f4 "+a+"\uc758 \uae38\uc774\uc785\ub2c8\ub2e4."),s.includes("string")&&(n=!0);return n&&t.push("// \ud30c\ub77c\ubbf8\ud130\ub85c \uc8fc\uc5b4\uc9c0\ub294 \ubb38\uc790\uc5f4\uc740 const\ub85c \uc8fc\uc5b4\uc9d1\ub2c8\ub2e4. \ubcc0\uacbd\ud558\ub824\uba74 \ubb38\uc790\uc5f4\uc744 \ubcf5\uc0ac\ud574\uc11c \uc0ac\uc6a9\ud558\uc138\uc694."),t.join("\n")},buildParam:function(e){var t,n,i,r,o,a;return r=Object.keys(e)[0],n=(o=this.typeTemplate[r])[0],i=o[1],a=[n+" "+(t=e[r])+i],r.includes("[][]")?(a.push("size_t "+t+"_rows"),a.push("size_t "+t+"_cols")):r.includes("[]")&&a.push("size_t "+t+"_len"),a.join(", ")},initialStatement:function(e,t){return t?e+" answer = "+t:e+" answer"},generateInitialCode:function(e,t){var n,i,r,o,a;return n=(a=this.typeTemplate[e]).length-2,o=a[n++],e=a[n++],i=["#include <stdio.h>","#include <stdbool.h>","#include <stdlib.h>",""+this.buildSolutionComment(t),e+" solution("+(t=function(){var e,n,i;for(i=[],e=0,n=t.length;e<n;e++)r=t[e],i.push(this.buildParam(r));return i}.call(this)).join(", ")+") {","    "+this.initialStatement(e,o)+";","    return answer;","}"],this.returnPointer(e)&&i.splice(5,0,"    // return \uac12\uc740 malloc \ub4f1 \ub3d9\uc801 \ud560\ub2f9\uc744 \uc0ac\uc6a9\ud574\uc8fc\uc138\uc694. \ud560\ub2f9 \uae38\uc774\ub294 \uc0c1\ud669\uc5d0 \ub9de\uac8c \ubcc0\uacbd\ud574\uc8fc\uc138\uc694."),i.join("\n")}}}.call(this),function(){Hera.codeTemplates["function"].cpp={typeTemplate:{int:["int","0","int"],string:["string",'""',"string"],bool:["bool","true","bool"],long:["long","0","long long"],double:["double","0","double"],"int[]":["int[]","","vector<int>"],"string[]":["string[]","","vector<string>"],"bool[]":["bool[]","","vector<bool>"],"long[]":["long[]","","vector<long long>"],"double[]":["double[]","","vector<double>"],"int[][]":["int[][]","","vector<vector<int>>"],"string[][]":["string[][]","","vector<vector<string>>"],"bool[][]":["bool[][]","","vector<vector<bool>>"],"long[][]":["long[][]","","vector<vector<long long>>"],"double[][]":["double[][]","","vector<vector<double>>"]},buildParam:function(e){var t;return t=Object.keys(e)[0],this.typeTemplate[t][2]+" "+e[t]},initialStatement:function(e,t){return t?e+" answer = "+t:e+" answer"},generateInitialCode:function(e,t){var n,i,r,o;return n=(o=this.typeTemplate[e]).length-2,r=o[n++],"#include <string>\n#include <vector>\n\nusing namespace std;\n\n"+(e=o[n++])+" solution("+(t=function(){var e,n,r;for(r=[],e=0,n=t.length;e<n;e++)i=t[e],r.push(this.buildParam(i));return r}.call(this)).join(", ")+") {\n    "+this.initialStatement(e,r)+";\n    return answer;\n}"}}}.call(this),function(){Hera.codeTemplates["function"].csharp={typeTemplate:{int:["int","0","int"],string:["string",'""',"string"],bool:["bool","true","bool"],long:["long","0","long"],double:["double","0","double"],"int[]":["int[]","new int[] {}","int[]"],"string[]":["string[]","new string[] {}","string[]"],"bool[]":["bool[]","new bool[] {}","bool[]"],"long[]":["long[]","new long[] {}","long[]"],"double[]":["double[]","new double[] {}","double[]"],"int[][]":["int[,]","new int[,] {{}}","int[,]"],"string[][]":["string[,]","new string[,] {{}}","string[,]"],"bool[][]":["bool[,]","new bool[,] {{}}","bool[,]"],"long[][]":["long[,]","new long[,] {{}}","long[,]"],"double[][]":["double[,]","new double[,] {{}}","double[,]"]},buildParam:function(e){var t;return t=Object.keys(e)[0],this.typeTemplate[t][2]+" "+e[t]},generateInitialCode:function(e,t){var n,i,r,o;return n=(o=this.typeTemplate[e]).length-2,r=o[n++],"using System;\n\npublic class Solution {\n    public "+(e=o[n++])+" solution("+(t=function(){var e,n,r;for(r=[],e=0,n=t.length;e<n;e++)i=t[e],r.push(this.buildParam(i));return r}.call(this)).join(", ")+") {\n        "+e+" answer = "+r+";\n        return answer;\n    }\n}"}}}.call(this),function(){Hera.codeTemplates["function"].go={typeTemplate:{int:["int","0"],string:["string",'""'],bool:["bool","true"],long:["int64","0"],double:["float64","0"],"int[]":["[]int","[]int{}"],"string[]":["[]string","[]string{}"],"bool[]":["[]bool","[]bool{}"],"long[]":["[]int64","[]int64{}"],"double[]":["[]float64","[]float64{}"],"int[][]":["[][]int","[][]int{{}}"],"string[][]":["[][]string","[][]string{{}}"],"bool[][]":["[][]bool","[][]bool{{}}"],"long[][]":["[][]int64","[][]int64{{}}"],"double[][]":["[][]float64","[][]float64{{}}"]},buildParam:function(e){var t,n;return n=Object.keys(e)[0],t=this.typeTemplate[n][0],e[n]+" "+t},generateInitialCode:function(e,t){var n,i,r;return e=(r=this.typeTemplate[e])[0],i=r[1],"func solution("+(t=function(){var e,i,r;for(r=[],e=0,i=t.length;e<i;e++)n=t[e],r.push(this.buildParam(n));return r}.call(this)).join(", ")+") "+e+" {\n    return "+i+"\n}"}}}.call(this),function(){Hera.codeTemplates["function"].java={typeTemplate:{int:["int","0","int"],string:["string",'""',"String"],bool:["bool","true","boolean"],long:["long","0","long"],double:["double","0","double"],"int[]":["int[]","{}","int[]"],"string[]":["String[]","{}","String[]"],"bool[]":["bool[]","{}","boolean[]"],"long[]":["long[]","{}","long[]"],"double[]":["double[]","{}","double[]"],"int[][]":["int[][]","{}","int[][]"],"string[][]":["String[][]","{}","String[][]"],"bool[][]":["bool[][]","{}","boolean[][]"],"long[][]":["long[][]","{}","long[][]"],"double[][]":["double[][]","{}","double[][]"]},buildParam:function(e){var t;return t=Object.keys(e)[0],this.typeTemplate[t][2]+" "+e[t]},generateInitialCode:function(e,t){var n,i,r,o;return n=(o=this.typeTemplate[e]).length-2,r=o[n++],"class Solution {\n    public "+(e=o[n++])+" solution("+(t=function(){var e,n,r;for(r=[],e=0,n=t.length;e<n;e++)i=t[e],r.push(this.buildParam(i));return r}.call(this)).join(", ")+") {\n        "+e+" answer = "+r+";\n        return answer;\n    }\n}"}}}.call(this),function(){Hera.codeTemplates["function"].javascript={typeTemplate:{int:["int","0"],string:["string","''"],bool:["bool","true"],long:["long","0"],double:["double","0"],"int[]":["int[]","[]"],"string[]":["string[]","[]"],"bool[]":["bool[]","[]"],"long[]":["long[]","[]"],"double[]":["double[]","[]"],"int[][]":["int[][]","[[]]"],"string[][]":["string[][]","[[]]"],"bool[][]":["bool[][]","[[]]"],"long[][]":["long[][]","[[]]"],"double[][]":["double[][]","[[]]"]},buildParam:function(e){return e[Object.keys(e)[0]]},generateInitialCode:function(e,t){var n,i,r;return e=(r=this.typeTemplate[e])[0],i=r[1],"function solution("+(t=function(){var e,i,r;for(r=[],e=0,i=t.length;e<i;e++)n=t[e],r.push(this.buildParam(n));return r}.call(this)).join(", ")+") {\n    var answer = "+i+";\n    return answer;\n}"}}}.call(this),function(){Hera.codeTemplates["function"].kotlin={typeTemplate:{int:["Int","0"],string:["String",'""'],bool:["Boolean","true"],long:["Long","0"],double:["Double","0"],"int[]":["IntArray","intArrayOf()"],"string[]":["Array<String>","arrayOf<String>()"],"bool[]":["BooleanArray","booleanArrayOf()"],"long[]":["LongArray","longArrayOf()"],"double[]":["DoubleArray","doubleArrayOf()"],"int[][]":["Array<IntArray>","arrayOf<IntArray>()"],"string[][]":["Array<Array<String>>","arrayOf<Array<String>>()"],"bool[][]":["Array<BooleanArray>","arrayOf<BooleanArray>()"],"long[][]":["Array<LongArray>","arrayOf<LongArray>()"],"double[][]":["Array<DoubleArray>","arrayOf<DoubleArray>()"]},buildParam:function(e){var t,n;return n=Object.keys(e)[0],t=this.typeTemplate[n][0],e[n]+": "+t},generateInitialCode:function(e,t){var n,i,r;return e=(r=this.typeTemplate[e])[0],i=r[1],"class Solution {\n    fun solution("+(t=function(){var e,i,r;for(r=[],e=0,i=t.length;e<i;e++)n=t[e],r.push(this.buildParam(n));return r}.call(this)).join(", ")+"): "+e+" {\n        var answer: "+e+" = "+i+"\n        return answer\n    }\n}"}}}.call(this),function(){Hera.codeTemplates["function"].python={typeTemplate:{int:["int","0"],string:["string","''"],bool:["Bool","True"],long:["long","0"],double:["double","0"],"int[]":["int[]","[]"],"string[]":["string[]","[]"],"bool[]":["Bool[]","[]"],"long[]":["long[]","[]"],"double[]":["double[]","[]"],"int[][]":["int[][]","[[]]"],"string[][]":["string[][]","[[]]"],"bool[][]":["Bool[][]","[[]]"],"long[][]":["long[][]","[[]]"],"double[][]":["double[][]","[[]]"]},buildParam:function(e){return e[Object.keys(e)[0]]},generateInitialCode:function(e,t){var n,i,r;return e=(r=this.typeTemplate[e])[0],i=r[1],"def solution("+(t=function(){var e,i,r;for(r=[],e=0,i=t.length;e<i;e++)n=t[e],r.push(this.buildParam(n));return r}.call(this)).join(", ")+"):\n    answer = "+i+"\n    return answer"}}}.call(this),function(){Hera.codeTemplates["function"].python3={typeTemplate:{int:["int","0"],string:["string","''"],bool:["Bool","True"],long:["long","0"],double:["double","0"],"int[]":["int[]","[]"],"string[]":["string[]","[]"],"bool[]":["Bool[]","[]"],"long[]":["long[]","[]"],"double[]":["double[]","[]"],"int[][]":["int[][]","[[]]"],"string[][]":["string[][]","[[]]"],"bool[][]":["Bool[][]","[[]]"],"long[][]":["long[][]","[[]]"],"double[][]":["double[][]","[[]]"]},buildParam:function(e){return e[Object.keys(e)[0]]},generateInitialCode:function(e,t){var n,i,r;return e=(r=this.typeTemplate[e])[0],i=r[1],"def solution("+(t=function(){var e,i,r;for(r=[],e=0,i=t.length;e<i;e++)n=t[e],r.push(this.buildParam(n));return r}.call(this)).join(", ")+"):\n    answer = "+i+"\n    return answer"}}}.call(this),function(){Hera.codeTemplates["function"].ruby={typeTemplate:{int:["int","0"],string:["string","''"],bool:["bool","true"],long:["long","0"],double:["double","0"],"int[]":["int[]","[]"],"string[]":["string[]","[]"],"bool[]":["bool[]","[]"],"long[]":["long[]","[]"],"double[]":["double[]","[]"],"int[][]":["int[][]","[[]]"],"string[][]":["string[][]","[[]]"],"bool[][]":["bool[][]","[[]]"],"long[][]":["long[][]","[[]]"],"double[][]":["double[][]","[[]]"]},buildParam:function(e){return e[Object.keys(e)[0]]},generateInitialCode:function(e,t){var n,i,r;return e=(r=this.typeTemplate[e])[0],i=r[1],"def solution("+(t=function(){var e,i,r;for(r=[],e=0,i=t.length;e<i;e++)n=t[e],r.push(this.buildParam(n));return r}.call(this)).join(", ")+")\n    answer = "+i+"\n    return answer\nend"}}}.call(this),function(){Hera.codeTemplates["function"].scala={typeTemplate:{int:["Int","0"],string:["String",'""'],bool:["Boolean","true"],long:["Long","0"],double:["Double","0"],"int[]":["Vector[Int]","Vector[Int]()"],"string[]":["Vector[String]","Vector[String]()"],"bool[]":["Vector[Boolean]","Vector[Boolean]()"],"long[]":["Vector[Long]","Vector[Long]()"],"double[]":["Vector[Double]","Vector[Double]()"],"int[][]":["Vector[Vector[Int]]","Vector[Vector[Int]]()"],"string[][]":["Vector[Vector[String]]","Vector[Vector[String]]()"],"bool[][]":["Vector[Vector[Boolean]]","Vector[Vector[Boolean]]()"],"long[][]":["Vector[Vector[Long]]","Vector[Vector[Long]]()"],"double[][]":["Vector[Vector[Double]]","Vector[Vector[Double]]()"]},buildParam:function(e){var t,n;return n=Object.keys(e)[0],t=this.typeTemplate[n][0],e[n]+": "+t},generateInitialCode:function(e,t){var n,i,r;return e=(r=this.typeTemplate[e])[0],i=r[1],"object Solution {\n    def solution("+(t=function(){var e,i,r;for(r=[],e=0,i=t.length;e<i;e++)n=t[e],r.push(this.buildParam(n));return r}.call(this)).join(", ")+"): "+e+" = {\n        return "+i+"\n    }\n}"}}}.call(this),function(){Hera.codeTemplates["function"].swift={typeTemplate:{int:["Int","0"],string:["String",'""'],bool:["Bool","true"],long:["Int64","0"],double:["Double","0"],"int[]":["[Int]","[]"],"string[]":["[String]","[]"],"bool[]":["[Bool]","[]"],"long[]":["[Int64]","[]"],"double[]":["[Double]","[]"],"int[][]":["[[Int]]","[]"],"string[][]":["[[String]]","[]"],"bool[][]":["[[Bool]]","[]"],"long[][]":["[[Int64]]","[]"],"double[][]":["[[Double]]","[]"]},buildParam:function(e){var t,n;return n=Object.keys(e)[0],t=this.typeTemplate[n][0],"_ "+e[n]+":"+t},generateInitialCode:function(e,t){var n,i,r;return e=(r=this.typeTemplate[e])[0],i=r[1],"import Foundation\n\nfunc solution("+(t=function(){var e,i,r;for(r=[],e=0,i=t.length;e<i;e++)n=t[e],r.push(this.buildParam(n));return r}.call(this)).join(", ")+") -> "+e+" {\n    return "+i+"\n}"}}}.call(this),function(){Hera.codeTemplates.stdio.R={generateInitialCode:function(){return'data <- read.table(file("stdin"), header=F);\nprint(data[1, 1] + data[1, 2])'}}}.call(this),function(){Hera.codeTemplates.stdio.c={generateInitialCode:function(){return'#include <stdio.h>\n\nint main(void) {\n    int a;\n    int b;\n    scanf("%d %d", &a, &b);\n    printf("%d", a + b);\n    return 0;\n}'}}}.call(this),function(){Hera.codeTemplates.stdio.cpp={generateInitialCode:function(){return"#include <iostream>\n\nusing namespace std;\n\nint main(void) {\n    int a;\n    int b;\n    cin >> a >> b;\n    cout << a + b << endl;\n    return 0;\n}"}}}.call(this),function(){Hera.codeTemplates.stdio.csharp={generateInitialCode:function(){return"using System;\n\npublic class Example\n{\n    public static void Main()\n    {\n        String[] s;\n\n        Console.Clear();\n        s = Console.ReadLine().Split(' ');\n\n        int a = Int32.Parse(s[0]);\n        int b = Int32.Parse(s[1]);\n\n        Console.WriteLine(\"{0}\", a + b);\n    }\n}"}}}.call(this),function(){Hera.codeTemplates.stdio.go={generateInitialCode:function(){return'package main\n\nimport "fmt"\n\nfunc main() {\n    var a, b int\n    fmt.Scan(&a, &b)\n    fmt.Println(a + b)\n}'}}}.call(this),function(){Hera.codeTemplates.stdio.java={generateInitialCode:function(){return"import java.util.Scanner;\n\npublic class Solution {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int a = sc.nextInt();\n        int b = sc.nextInt();\n\n        System.out.println(a + b);\n    }\n}"}}}.call(this),function(){Hera.codeTemplates.stdio.javascript={generateInitialCode:function(){return"const readline = require('readline');\nconst rl = readline.createInterface({\n    input: process.stdin,\n    output: process.stdout\n});\n\nlet input = [];\n\nrl.on('line', function (line) {\n    input = line.split(' ');\n}).on('close', function () {\n    console.log(Number(input[0]) + Number(input[1]));\n});"}}}.call(this),function(){Hera.codeTemplates.stdio.kotlin={generateInitialCode:function(){return"fun main(args: Array<String>) {\n    val (a, b) = readLine()!!.split(' ').map(String::toInt)\n    println(a + b)\n}"}}}.call(this),function(){Hera.codeTemplates.stdio.python={generateInitialCode:function(){return"a, b = map(int, raw_input().strip().split(' '))\nprint a + b"}}}.call(this),function(){Hera.codeTemplates.stdio.python3={generateInitialCode:function(){return"a, b = map(int, input().strip().split(' '))\nprint(a + b)"}}}.call(this),function(){Hera.codeTemplates.stdio.ruby={generateInitialCode:function(){return"a, b = gets.chomp.split(' ').map(&:to_i)\nputs a + b"}}}.call(this),function(){Hera.codeTemplates.stdio.scala={generateInitialCode:function(){return'import scala.io.StdIn.readLine\n\nobject Solution {\n    def main(args: Array[String]) {\n        val n = readLine().split(" ")\n        val (a, b) = (n(0).toInt, n(1).toInt)\n        println(a + b)\n    }\n}'}}}.call(this),function(){Hera.codeTemplates.stdio.swift={generateInitialCode:function(){return'import Foundation\n\nlet n = readLine()!.components(separatedBy: [" "]).map { Int($0)! }\nlet (a, b) = (n[0], n[1])\n\nprint(a + b)'}}}.call(this),function(){Hera.comments={initComment:function(){var e;return $(document).off(".comment"),$(document).on("click.comment",".js-cancel-comment-editing",(e=this,function(t){return t.preventDefault(),e.restoreComment($(t.currentTarget).data("commentId"))})),$(document).on("click.comment",".js-submit-comment",function(e){return e.preventDefault(),$("#edit_comment_"+$(e.currentTarget).data("commentId")).submit()})},addComment:function(e,t,n){var i,r;return r=null!=(i=$(".js-comments[data-commentable-type='"+e+"'][data-commentable-id='"+t+"']")).data("reversed"),i.find("form")[0].reset(),"user_lesson"===e?($("#confirm-review").attr("disabled",!1),this.addReview(r,n)):r?i.find("li:first").after(n):i.find("li:last").before(n)},addReview:function(e,t){return e?$(".review-list").prepend(t):$(".review-list").append(t)},editComment:function(e,t){var n;return(n=$(".js-comment[data-comment-id='"+e+"']")).find("a").tooltip("hide"),n.data("backupHtml",n.html()),n.html(t)},restoreComment:function(e){var t,n;return t=(n=$(".js-comment[data-comment-id='"+e+"']")).data("backupHtml"),n.html(t)}}}.call(this),function(){$.fn.extend({resizableTextArea:function(){return $(this).on("keyup",function(){return $(this).css("height","auto"),$(this).height(this.scrollHeight)}),$(this).keyup()}}),Hera.commons={initFlashes:function(){return $(".btn-close-flash").click(function(){var e;return e=$(this).data("url"),$.ajax({method:"POST",url:e})})},alert:function(e){return Hera.utils.snackbar(e)},pad:function(e,t,n){return n=n||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(n)+e},getLimitTime:function(e){var t,n,i,r;return t=e/1e3,t-=3600*(n=Math.floor(t/3600)),t-=60*(i=Math.floor(t/60)%60),r=Math.floor(t%60),Hera.commons.pad(n,2)+":"+Hera.commons.pad(i,2)+":"+Hera.commons.pad(r,2)},isIE:function(){return!!document.documentMode},isEdge:function(){return!Hera.commons.isIE&&!!window.StyleMedia},rand:function(){return Math.random().toString(36).substr(2)},token:function(){return this.rand()+this.rand()},validateEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},validateUrl:function(e){return/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&\/\/=]*)/.test(e)},isEmptyForm:function(e){return""===e.val()},extractFloatFromString:function(e){var t,n;return n=/[+-]?\d+(\.\d+)?/g,(t=e.match(n))?parseFloat(t):null},enableTooltips:function(){return $("body").tooltip({selector:"[data-toggle=tooltip]"}),$("[data-toggle=tooltip]").tooltip()},enablePopovers:function(){return $("body").popover({selector:"[data-toggle=popover]",trigger:"hover"}),$("[data-toggle=popover]").popover()},hidePopovers:function(){return $("[data-toggle=popover]").popover("hide")},svgTag:function(e,t,n,i){return null==i&&(i=""),'<svg class="ic-'+t+" ic-"+n+" "+i+'"> <use xlink:href="'+this.getSvgPath()+"#"+e+'"/> </svg>'},scrollToTop:function(){return window.scrollTo(0,0)},getSvgPath:function(){return"/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg"},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},resizeTextarea:function(){return $("textarea").resizableTextArea()},scrollToElement:function(e,t){var n,i;return null==t&&(t={}),n=t.container||"html, body",i=t.with_top_margin?237:0,$(n).animate({scrollTop:e.offset().top-i},600),e.focus()},progressModal:{options:{dialogSize:"m",progressType:null,onHide:null},_initModal:function(){var e,t;if(e='<div id="progress-modal" class="progress-modal modal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true" style="overflow-y:visible;">\n  <div class="modal-dialog modal-'+this.options.dialogSize+'">\n    <div class="modal-content">\n      <div class="modal-header"><h3 class="modal-title"></h3></div>\n      <div class="modal-body">\n        <div class="progress progress-striped active" style="margin-bottom:0;">\n          <div class="progress-bar" style="width: 100%"></div>\n        </div>\n      </div>\n      <div class="modal-footer"></div>\n    </div>\n  </div>\n</div>',$("#progress-modal").remove(),$("body").append(e),null!=this.options.progressType&&$("#progress-modal .progress-bar").addClass("progress-bar-"+this.options.progressType),"function"==typeof this.options.onHide)return $("#progress-modal").on("hidden.bs.modal",(t=this,function(e){return t.options.onHide(e)}))},setOptions:function(e){return this.options=$.extend(this.options,e),this._initModal()},show:function(e){return 0===$("#progress-modal").length&&this._initModal(),$("#progress-modal .modal-title").text(e),$("#progress-modal").modal("show")},hide:function(){return $("#progress-modal").modal("hide")}},validateFilesSize:function(e,t,n){var i,r,o,a;return null==t&&(t=10),null==n&&(n=$(".file-form-error")),i=1e3*t*1e3,r=1,o=!1,a=!1,$.each(e.files,function(){if(this.size&&i&&this.size>parseInt(i)&&(o=!0),this.size<r)return a=!0}),o?(n.removeClass("hidden"),n.find(".message").html("\ud30c\uc77c \ud06c\uae30\uac00 \ub108\ubb34 \ud07d\ub2c8\ub2e4. "+t+"MB \uc774\ud558\uc758 \ud30c\uc77c\uc744 \uc62c\ub824\uc8fc\uc138\uc694."),$(e).val(""),!1):a?($(".file-form-error").removeClass("hidden"),$(".file-form-error .message").html("\ud30c\uc77c\uc774 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ud655\uc778 \ud6c4 \ub2e4\uc2dc \uc5c5\ub85c\ub4dc \ud574\uc8fc\uc138\uc694."),$(e).val(""),!1):(n.addClass("hidden"),n.find(".message").html(""),!0)},showFormError:function(e){return null==e&&(e=""),e?($(".form-error").removeClass("hidden"),$(".form-error .message").html(e)):($(".form-error").addClass("hidden"),$(".form-error .message").html(""))},showLoading:function(){return $("#loading-body").show()},hideLoading:function(){return $("#loading-body").hide()},initBanners:function(){return $(".root-banner").click(function(){var e;if("function"==typeof ga)return e=$(this).attr("href"),ga("send","event","Banner","click",e)})},initDateTimePickerForm:function(e,t){return null==e&&(e=".datetimepicker"),null==t&&(t={}),null==t.locale&&(t.locale=I18n.locale),null==t.format&&(t.format="YYYY/MM/DD HH:mm"),$(e).each(function(e,n){var i;return null!=(i=$(n).val())&&(t.date=moment(i,t.format)),$(n).datetimepicker(t),$(n).val(i)})},initTuiEditor:function(e){var t,n,i;return t=$(e),(n=new tui.Editor({$originForm:t,el:document.querySelector(e+"-edit-section"),initialEditType:"wysiwyg",previewStyle:"tab",height:"700px",initialValue:t.val(),codeBlockLanguages:["c","cpp","csharp","go","java","javascript","kotlin","python","python3","R","ruby","scala","solidity","swift"],language:I18n.locale,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","table","link","divider","image","link","divider","code","codeblock","divider"],hooks:{addImageBlobHook:(i=this,function(e,t){
return i.imageUpload(e,t)})}})).setValueToOriginForm=function(){var e;return e=n.getValue(),n.options.$originForm.val(e)},n},imageUpload:function(e,t){var n;{if((new FormData).append("file",e),!(e.size>1e7))return Hera.commons.progressModal.show(I18n.t("editor.image_upload")),$.ajax({url:"/api/presigned_urls",type:"POST",data:{file_name:e.name}}).done((n=this,function(i){return n.uploadToPresignedUrl(e,i.url,i.public_url,t)})).fail(function(e){return Hera.utils.snackbar(I18n.t("editor.error",{message:e.responseJSON.error})),Hera.commons.progressModal.hide()});Hera.utils.snackbar(I18n.t("editor.max_size"))}},uploadToPresignedUrl:function(e,t,n,i){return $.ajax({url:t,type:"PUT",data:e,contentType:e.type,processData:!1}).done(function(){return i(n,e.name)}).fail(function(e){return 0===e.status?Hera.utils.snackbar(I18n.t("editor.network_error")):Hera.utils.snackbar(I18n.t("editor.error",{message:e.responseText}))}).always(function(){return Hera.commons.progressModal.hide()})},focusFormError:function(){if($(".is-invalid").length>0)return Hera.commons.scrollToElement($(".is-invalid").first(),{with_top_margin:!0})},keepDisableSubmitOnSuccess:function(){return $(document).on("submit","form[data-remote=true]",function(){var e,t;if(t=$(this),0!==(e=t.find("[data-disable-with]")).length)return t.on("ajax:success",function(){return setTimeout(function(){return $.rails.disableFormElement(e)},0)})})},initContactBtn:function(){return $(".btn-business-contact").click(function(){return window.ChannelIO?ChannelIO("show"):window.open("https://programmers.zendesk.com/hc/ko/requests/new")})},initCheckboxOptionWithTextInput:function(){return $(".custom-form-option-with-text-input").change(function(e){var t;return t=$(e.target).data("custom-form-index"),e.target.checked?$("#custom_form_subjective_"+t).removeAttr("disabled"):$("#custom_form_subjective_"+t).attr("disabled","disabled")})},initRadioOptionWithTextInput:function(){return $("input:radio").click(function(e){var t;return t=$(e.target).data("target-form"),$(e.target).data("form-disabled")?$("#"+t).removeAttr("disabled"):$("#"+t).attr("disabled","disabled")})}}}.call(this),function(){Hera.companies={initShow:function(){return new Swiper(".swiper-container",{slidesPerView:"auto",spaceBetween:1,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!1},pagination:{el:".swiper-pagination",type:"bullets",clickable:"true"}}),this.drawEmployeeChart()},initEdit:function(){return this.initLogoUploader(),Hera.business.initCompanyInfo(),$("#fee-agree-modal").click(function(e){return e.preventDefault(),document.querySelector("#company-edit-form").checkValidity()?showFeeAgreementModal(Hera.companies.submitCompanyForm):HTMLFormElement.prototype.reportValidity?document.querySelector("#company-edit-form").reportValidity():Hera.utils.snackbar("\ud544\uc218 \uc785\ub825 \ud56d\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.")})},initInquiry:function(){return this.initLogoUploader(),Hera.business.initCompanyInfo()},initLogoUploader:function(){return $("#company_logo").change(function(e){var t,n,i;if(n=$(e.currentTarget).get(0),Hera.commons.validateFilesSize(n))return t=n.files[0],n.files.length?($(".profile-image-wrapper").addClass("hidden"),$("#spin").removeClass("hidden"),(i=new FileReader).onload=function(e){var t;return(t=new Image).src=i.result,t.onload=function(){return $("#profile_image img").attr("src",e.target.result),$(".profile-image-wrapper").removeClass("hidden"),$("#spin").addClass("hidden")}},i.readAsDataURL(t)):void 0})},submitCompanyForm:function(){return $("#modal-fee-dialog").modal("hide"),$("#company-edit-form").submit()},drawEmployeeChart:function(){var e,t,n,i,r,o,a,s,l,c,u,d,h;if(u=["01","02","03","04","05","06","07","08","09","10","11","12"],s=[],r=[],void 0!==(i=$("#company_infos").attr("data-company-infos"))){for(a=0,l=(t=JSON.parse(i)).length;a<l;a++)e=t[a],h=(o=new Date(e.registered_at)).getFullYear(),c=u[o.getMonth()],s.push(h+"."+c),r.push(e.employees_count);return d={type:"line",data:{labels:s.reverse(),datasets:[{data:r.reverse(),fill:!1,backgroundColor:"#5CA8FF",borderColor:"#5CA8FF",borderWidth:2,pointBackgroundColor:"#0078FF",pointBorderColor:"#0078FF",pointBorderWidth:2,lineTension:0}]},options:{maintainAspectRatio:!1,layout:{padding:{top:20}},legend:{display:!1},tooltips:{custom:function(e){e&&(e.displayColors=!1)},backgroundColor:"#fff",titleFontSize:14,titleFontColor:"#263747",titleFontStyle:"bolder",titleMarginBottom:10,bodyFontSize:12,bodyFontColor:"#263747",bodyFontStyle:"bolder",xPadding:8,yPadding:12,borderWidth:1,borderColor:"#d7e2eb",titleFontFamily:'Hack, Menlo, Monaco, Consolas, "Courier New", monospace, "\ub9d1\uc740 \uace0\ub515", malgun gothic, "\ub3cb\uc6c0", Dotum, Sans-Serif',bodyFontFamily:'Hack, Menlo, Monaco, Consolas, "Courier New", monospace, "\ub9d1\uc740 \uace0\ub515", malgun gothic, "\ub3cb\uc6c0", Dotum, Sans-Serif',callbacks:{label:function(e){return"\uc804\uccb4 \uc778\uc6d0: "+Number(e.yLabel)+"\uba85"}}},scales:{xAxes:[{gridLines:{display:!1},ticks:{fontFamily:'Hack, Menlo, Monaco, Consolas, "Courier New", monospace, "\ub9d1\uc740 \uace0\ub515", malgun gothic, "\ub3cb\uc6c0", Dotum, Sans-Serif',fontColor:"#98A8B9",fontSize:10,maxTicksLimit:2,maxRotation:0}}],yAxes:[{gridLines:{display:!1},ticks:{padding:-4,fontFamily:'Hack, Menlo, Monaco, Consolas, "Courier New", monospace, "\ub9d1\uc740 \uace0\ub515", malgun gothic, "\ub3cb\uc6c0", Dotum, Sans-Serif',fontColor:"#98A8B9",fontSize:11,reverse:!1,beginAtZero:!0,callback:function(e){if(Number.isInteger(e))return e},maxTicksLimit:3}}]}}},Chart.plugins.register({afterDatasetsDraw:function(e){var t;return t=e.ctx,e.data.datasets.forEach(function(n,i){var r;if(!(r=e.getDatasetMeta(i)).hidden)return r.data.forEach(function(e,i){var o,a,s,l,c,u;return t.fillStyle="black",s=10,l="normal",a='Hack, Menlo, Monaco, Consolas, "Courier New", monospace, "\ub9d1\uc740 \uace0\ub515", malgun gothic, "\ub3cb\uc6c0", Dotum, Sans-Serif',t.font=Chart.helpers.fontString(s,l,a),o=i%2==r.data.length%2&&r.data.length>15?"":n.data[i].toString(),t.textAlign="center",t.textBaseline="middle",c=5,u=e.tooltipPosition(),t.fillText(o,u.x,u.y-s/2-c)})})}}),n=document.getElementById("company_employees_history_chart").getContext("2d"),new Chart(n,d)}}}}.call(this),function(){Hera.competitions={competitionId:null,testId:null,initIndex:function(){},initShow:function(){var e,t;if(this.competitionId=$("#competition-show-id").data("competitionId"),this.testId=$(".leaderboard-table").data("testId"),this.initCompetitionReceiptRemainTimer($(".competition-receipt-remain-timer")),this.initTestRemainTimer($(".js-leaderboard-remain-timer")),this.initLeaderboardNavHandler(),$('a[data-toggle="tab"]').on("click",function(){var e;return $(".competition-nav .tabs >li ").removeClass("active"),$(".competition-nav .tabs >li >a").removeClass("active"),$(this).addClass("active"),$(this).parent().addClass("active"),e=$(this).data("tab"),$.get("/competitions/"+Hera.competitions.competitionId+"/"+e+".js",{})}),Hera.commons.initFlashes(),e=$(".competition-header-wrap"),t=e.position().top,$(window).scroll(_.throttle(function(){if(!e.hasClass("header-fixed-top")&&$(window).scrollTop()>=t&&e.addClass("header-fixed-top"),e.hasClass("header-fixed-top")&&$(window).scrollTop()<t)return e.removeClass("header-fixed-top")},50)),"qna"===$('a[data-toggle="tab"].active').data("tab"))return Learn.questions.bindKeyUp(),Learn.questions.loadQuestions()},initResume:function(){return Hera.resumes.initSkillButtons(),Hera.resumes.skillCheckTooltipHandler()},initPrintResume:function(){return window.print()},initLeaderboardNavHandler:function(){return $(document).on("click",".js-nav-leaderboard",function(e){var t,n;return e.preventDefault(),n=$("#js-machine-learning-leaderboard").data("testId"),t=$(this).data("category"),$.get("/competitions/"+Hera.competitions.competitionId+"/leaderboards",{test_id:n,category:t})})},initCompetitionReceiptRemainTimer:function(e){var t,n,i,r;if(n=$(e).data("competition-receipt-remaining-time"),$(e).data("competition-id"),void 0!==n)return t=n+Date.now(),i=setInterval((r=this,function(){var n;return Date.now()<t?(n=r.remainTimeDetail(t-Date.now()),$(e).find(".remain-day time").html(n[0]),$(e).find(".remain-hour time").html(n[1]),$(e).find(".remain-min time").html(n[2])):clearInterval(i)}),6e4)},initTestRemainTimer:function(e){var t,n,i;if(n=$(e).data("test-remaining-start-time"),t=$(e).data("test-remaining-end-time"),void 0!==n&&void 0!==t)return n>0?setTimeout((i=this,function(){return $(e).find(".not-started").addClass("hidden"),$(e).find(".remain-time").removeClass("hidden"),i.updateRemainTimer(e,t)}),n):t>0?this.updateRemainTimer(e,t):this.updateRemainTimer(e,0)},initJobFairStatus:function(){return $(document).on("click",".clickable-tr",function(e){return e.preventDefault(),$.get($(this).data("url")+".js")})},updateRemainTimer:function(e,t){var n,i,r;return n=t+Date.now(),i=setInterval((r=this,function(){var t;return Date.now()<n?(t=r.remainTimeDetail(n-Date.now()),$(e).find(".day time").html(t[0]),$(e).find(".hour time").html(t[1]),$(e).find(".min time").html(t[2]),$(e).find(".sec time").html(t[3])):($(e).find(".remain-time").addClass("hidden"),$(e).find(".expired").removeClass("hidden"),clearInterval(i))}),450)},remainTimeDetail:function(e){var t,n,i,r;return r=e/1e3,r-=60*(t=parseInt(r/60/60/24))*60*24,r-=60*(n=parseInt(r/60/60))*60,i=parseInt(r/60),r=parseInt(r-60*i),[t,n,Hera.commons.pad(i,2),Hera.commons.pad(r,2)]},remainTime:function(e,t){return 0,"progress"===t?e-Date.now():0}}}.call(this),function(){Hera.customFormGroups={initShow:function(){return Hera.commons.initCheckboxOptionWithTextInput(),Hera.commons.initRadioOptionWithTextInput()}}}.call(this),function(){Hera.design={resizeHeight:function(e){return e.style.height="0px",e.style.height=18+e.scrollHeight+"px"},initComponents:function(){return new Tour({steps:[{element:"#first-element-introduction",title:"Title of my step",content:"Content of my step"},{element:"#second-element-introduction",title:"Title of my step",content:"Content of my step"}]})}}}.call(this),function(){Hera.editor={getOptions:function(e){var t,n,i,r;return t=!0,i={lineNumbers:!0,lineWrapping:!0,tabSize:r=4,styleActiveLine:!0,indentUnit:r,theme:"tomorrow-night-bright",matchBrackets:!0,autoCloseBrackets:!0,mode:this.getModeByLanguage(e),keyMap:n=Cookies.get("keymap")||"sublime",extraKeys:{}},"sublime"===n&&t&&(i.extraKeys.Tab=function(e){if(!e.somethingSelected())return e.options.indentWithTabs?e.execCommand("insertTab"):e.execCommand("insertSoftTab");e.indentSelection("add")},i.extraKeys["Shift-Tab"]=function(e){return e.indentSelection("subtract")}),i},getModeByLanguage:function(e){switch(!1){case"c"!==e:return"text/x-csrc";case"clojure"!==e:return"text/x-clojure";case"cpp"!==e:case"c++"!==e:return"text/x-c++src";case"csharp"!==e:return"text/x-csharp";case"java"!==e:return"text/x-java";case"javascript"!==e:return"text/javascript";case"go"!==e:return"text/x-go";case"kotlin"!==e:return"text/x-kotlin";case!("python"===e||"python3"===e):return"text/x-python";case"R"!==e:return"text/x-rsrc";case"ruby"!==e:return"text/x-ruby";case"scala"!==e:return"text/x-scala";case"solidity"!==e:return"solidity";case"swift"!==e:return"text/x-swift";case"mysql"!==e:return"text/x-mysql";case"oracle"!==e:return"text/x-plsql";default:return e}},getCodeMirrorTheme:function(e){switch(!1){case"light"!==e:return"eclipse";default:return"tomorrow-night-bright"}}}}.call(this),function(){Hera.evaluationSheetResults={itemsCount:null,isModified:null,initNewJs:function(){return this.isModified=!1,this.handleEvaluationItems(),this.handleCloseModalBtn(),this.handleExtraScore()},initEditJs:function(){return this.isModified=!1,this.handleEvaluationItems(),this.handleCloseModalBtn(),this.handleExtraScore()},initSaveTempJs:function(){return this.isModified=!1},handleCloseModalBtn:function(){return $(".js-close-modal").click((e=this,function(t){if(t.preventDefault(),!e.isModified||confirm(I18n.t("evaluation_sheet.cancel_alert")))return $("#modal-evaluation-sheet").modal("hide")}));var e},handleEvaluationItems:function(){var e,t;for(this.itemsCount=$(".js-evaluation-item").length,e=0,t=[];e<this.itemsCount;)$("input[name='evaluation_sheet_result[evaluation_sheet_item_results_attributes]["+e+"][grade]']").change(function(e){return function(){return e.updateItemScore(),e.updateTotalScore(),e.isModified=!0}}(this)),t.push(e++);return t},handleExtraScore:function(){var e;return e=this,$(".js-extra-score").change(function(){var t;return t=parseFloat($(this).data("maxExtraScore")),parseFloat($(this).val()||0)>t&&$(this).val(t),e.updateTotalScore()})},updateItemScore:function(){var e,t,n;for(e=0,n=0;e<this.itemsCount;)t="input[name='evaluation_sheet_result[evaluation_sheet_item_results_attributes]["+e+"][grade]']",n+=($(t+":checked").data("value")||0)*$(t).closest("tr").data("score")*.25,e++;return $(".js-evaluation-item-score").text(n),$("#evaluation-item-score").val(n)},updateTotalScore:function(){return $(".js-total-score").text(I18n.t("evaluation_sheet_result.score",{score:parseFloat($(".js-evaluation-item-score").text())+parseFloat($(".js-extra-score").val()||0)}))}}}.call(this),function(){Hera.scoreDistGraph={defaultBarStyle:"color: black",defaultOptions:{width:"100%",height:"100%",chartArea:{},bar:{groupWidth:"6"},vAxis:{viewWindow:{min:0},format:"0",gridlines:{color:"transparent",count:5},textStyle:{fontSize:12},baselineColor:"#DEE6EA"},hAxis:{textStyle:{fontSize:11}},tooltip:{style:{left:0},textStyle:{fontSize:12}}},init:function(){return google.charts.load("current",{packages:["corechart","bar","timeline"]}),google.charts.setOnLoadCallback(this.initScoreDistributionTabHandler.bind(this))},drawActiveScoreDistribution:function(){if($("#enable-standard-score").is(":checked")){if($("#tab-score-distribution").addClass("hidden"),$("#tab-standard-score-distribution").removeClass("hidden"),$("#chart-standard-score-distribution").length>0)return Hera.scoreDistGraph.draw("#chart-standard-score-distribution")}else if($("#tab-standard-score-distribution").addClass("hidden"),$("#tab-score-distribution").removeClass("hidden"),$("#chart-score-distribution").length>0)return Hera.scoreDistGraph.draw("#chart-score-distribution")},initScoreDistributionTabHandler:function(){return this.drawActiveScoreDistribution(),$("#enable-standard-score").change((e=this,function(){return e.drawActiveScoreDistribution()}));var e},draw:function(e){var t,n,i,r,o;return t=$(e),i=(i=t.data("score-distributions")).map((o=this,function(e,t){var n,r,a;return r=e[0],a=e[1],n=o.genScoreRange(i,t),o.setScoreBar(r,a,n)})),r=this.initData(i),n=this.initOptions(t.width()-29,t.height()-33),this.drawChart(t[0],r,n)},initData:function(e){var t;return(t=new google.visualization.DataTable).addColumn("string","\uc810\uc218\uad6c\uac04"),t.addColumn("number","\uc9c0\uc6d0\uc790\uc218"),t.addColumn({type:"string",role:"style"}),t.addColumn({type:"string",role:"tooltip",p:{html:!0}}),t.addRows(e),t},initOptions:function(e,t){var n;return(n=this.defaultOptions).chartArea={top:5,right:0,width:e,height:t},n},drawChart:function(e,t,n){return new google.visualization.ColumnChart(e).draw(t,n)},setScoreBar:function(e,t,n){var i;return i=this.defaultBarStyle,[Math.round(e).toString(),t,i,t+"\uba85("+n+")"]},genScoreRange:function(e,t){return(0===t?0:e[t-1][0])+"\uc810 ~ "+e[t][0]+"\uc810"}}}.call(this),function(){Hera.hiredApplicants={initEditHiringInfo:function(){return this._initHiringInfo()},initUpdateHiringInfo:function(){return this._initHiringInfo()},_initHiringInfo:function(){return this._commonFormHandler(),this._initFileUploader(),$("#js-submit").click(function(e){return e.preventDefault(),showFeeAgreementModal(Hera.hiredApplicants._submitHiringForm)})},_initFileUploader:function(){return this._fileUploaderHandler($("#salary-contract-file"),$("#hired_applicant_salary_contract_file"),$("#hired_applicant_delete_salary_contract_file")),this._fileUploaderHandler($("#registration_file"),$("#hired_applicant_company_attributes_registration_file")),this._fileUploaderHandler($("#work-confirmation-file"),$("#hired_applicant_work_confirmation_file"),$("#hired_applicant_delete_work_confirmation_file"))},_fileUploaderHandler:function(e,t,n){if(null==n&&(n=null),t.change(function(t){var i,r;if(i=t.target.files[0].name,null!=$(t.target).val()){if(r=$(t.target).get(0),!Hera.commons.validateFilesSize(r,30,e.find(".file-form-error")))return;if(e.find("h6.attachment-info .attachment-filename").html(i),n)return e.find(".js-remove-attachemt-button").removeClass("hidden"),n.val(!1)}}),n)return e.find(".js-remove-attachemt-button").click(function(){if(confirm("\uc815\ub9d0 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return t.val(null),n.val(!0),e.find("h6.attachment-info .attachment-filename").html("\ucca8\ubd80\ub41c \ud30c\uc77c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),e.find(".js-remove-attachemt-button").addClass("hidden")})},_submitHiringForm:function(){return $("#modal-fee-dialog").modal("hide"),$("#hiring-info-form")[0].submit()},initNew:function(){return this._initApplicationInfo()},initCreate:function(){return this._initApplicationInfo()},initEditApplicationInfo:function(){return this._initApplicationInfo()},initUpdateApplicationInfo:function(){return this._initApplicationInfo()},_initApplicationInfo:function(){return this._commonFormHandler(),$("#signing_bonus_applicant_agreement_security").change(function(){return $(".js-application-submit").prop("disabled",!$(this).is(":checked"))}),$(".js-application-submit").click(function(e){var t;return t=$("#application-info-form").data("jobApplicationId"),e.preventDefault(),$.ajax({url:"/job_applications/"+t+"/hired_applicants/preview",type:"POST",data:$("#application-info-form").serialize()})}),this._initResno()},_commonFormHandler:function(){var e;return this._initDatePicker(),this._updateSalaryText(),$("form .salary").keyup((e=this,function(){return e._updateSalaryText()})),Hera.commons.focusFormError()},_initResno:function(){var e,t;return e=$("#hired_applicant_front_resno"),t=$("#hired_applicant_rear_resno"),e.keyup(function(){var e,n;if(n=$(this).val(),e=$(this).attr("maxlength"),n.length>=e)return t.focus(),$(this).val(n.slice(0,e))}),t.keyup(function(){var e,t;if(t=$(this).val(),e=$(this).attr("maxlength"),t.length>=e)return $(this).val(t.slice(0,e))})},_initDatePicker:function(){var e;return e=$("form .employ-on").val(),$(".datepicker").datetimepicker({locale:I18n.locale,format:"YYYY-MM-DD",useCurrent:!1,date:moment(e,"YYYY-MM-DD")})},_updateSalaryText:function(){var e;return e=parseInt($("form .salary").val()),$(".js-salary-to-korean").text(numToKorean.numToKorean(e,"mixed")+"\uc6d0")},preview:function(){return this._previewSalaryUpdate(),$(".js-preview-submit").click(function(){return $("#moda-preview").modal("hide"),$("#application-info-form")[0].submit()})},show:function(){return this._previewSalaryUpdate()},_previewSalaryUpdate:function(){var e;return e=parseInt($(".salary-summary").data("salary")),$(".js-salary-to-korean").text(numToKorean.numToKorean(e,"mixed")+"\uc6d0")}}}.call(this),function(){Hera.jobApplications={initNew:function(){return this.initForm()},initCreate:function(){return this.initForm()},initShow:function(){return Hera.resumes.initSkillButtons(),Hera.resumes.skillCheckTooltipHandler()},initForm:function(){return this.resumesForm=new Hera.resume.JobApplication,this.resumesForm.initForm()},initUserInReviewList:function(){return $("#job-profile-filter-active-toggle").change(function(e){var t,n;if((t=$(e.target)).prop("checked")||confirm("\uae30\uc5c5 \ub9e4\uce6d\uc744 \uc911\ub2e8\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return n=t.data("url"),t.attr("disabled",!0),$.ajax({url:n,method:"post",dataType:"json"}).fail(function(){return Hera.utils.snackbar("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc0c8\ub85c\uace0\uce68\ud558\uace0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),t.prop("checked",!t.prop("checked"))}).done(function(e){if(e.active?(Hera.utils.snackbar("\ud504\ub85c\ud544 \ud65c\uc131\ud654"),$("#matching-status-title").text("\ud504\ub85c\ud544: \ub9e4\uce6d \uc911"),$("#matching-status-subtitle").text("\ucc44\uc6a9\ud3ec\uc9c0\uc158 \uc81c\uc548\uc744 \ubc1b\uc73c\uba74 \uc774\uba54\uc77c\ub85c \uc81c\uc548 \uba54\uc77c\uc774 \uc804\uc1a1\ub429\ub2c8\ub2e4.")):(Hera.utils.snackbar("\ud504\ub85c\ud544 \ube44\ud65c\uc131\ud654"),$("#matching-status-title").text("\ud504\ub85c\ud544: \ube44\uacf5\uac1c"),$("#matching-status-subtitle").text("\ub354 \uc774\uc0c1 \uae30\uc5c5\ub4e4\uc774 \ud68c\uc6d0\ub2d8\uc758 \ud504\ub85c\ud544\uc744 \uc870\ud68c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")),$("#job-profile-filter-active-toggle").prop("checked")!==e.active)return $("#job-profile-filter-active-toggle").prop("checked",e.active)}).always(function(){return t.attr("disabled",!1)});t.prop("checked",!0)})}}}.call(this),function(){Hera.jobPositions={filterBarTop:null,initShow:function(){return Hera.companies.drawEmployeeChart()},initIndex:function(){return this._initDropDownFilterHandler(),this._initLabelHandler(),this._initTagHandler(),this._initLocationHandler(),this._initCompanyIdHandler(),this._initFilterToggleHandler(),this._initStickyFilterBar(),this._initMobileFilterBar(),this._initOrderSelect(),this._initPositionTagHandler()},_initDropDownFilterHandler:function(){return $(".dropdown-filter").click(function(e){return e.stopPropagation()}),$(".dropdown-filter").change((e=this,function(t){var n;return"checkbox"===(n=$(t.target)).attr("type")?e._updateCheckboxFilter(n):"radio"===n.attr("type")?e._updateRadioFilter(n):void 0}));var e},_updateCheckboxFilter:function(e){var t;return t=e.data("filterType"),e.is(":checked")?this._addFilter(e.parent().text(),e.val(),t):this._removeFilter(e.val(),t)},_updateRadioFilter:function(e){var t;return t=e.data("filterType"),$(".filter-chip[data-filter-type = '"+t+"']").remove(),"all"===e.val()?this._onFilterChanged():this._addFilter(e.parent().text(),e.val(),t)},_initTagHandler:function(){var e,t;return e=$(".form-tag"),$("#tag_search_box").bind("keyup",function(e){return $(e.currentTarget).val($(e.currentTarget).val().replace(/[^\u0000-\u007F]/g,""))}).bind("keydown",(t=this,function(n){return t._initFormShake(e,n)})).autocomplete($.extend(this._autocompleteOptions("tag"),{source:function(e,t){return $.ajax({url:$("#tag_search_box").data("url"),dataType:"json",data:{term:$("#tag_search_box").val()},success:function(e){return t($.map(e.results,function(e){return{value:e.text}}))}})}}))},_initLocationHandler:function(){var e;return $(".map-area").click((e=this,function(t){var n,i,r;return i=$(t.currentTarget).data("location"),n=(r=$("#job_position_location_"+i)).prop("checked"),r.prop("checked",!n),e._updateCheckboxFilter(r)})),$(".map-area, .js-location-checkbox").hover(function(e){var t;return t=$(e.currentTarget).data("location"),$(".select-map-img .js-for-hover").toggleClass(t)})},_initCompanyIdHandler:function(){var e,t;return e=$(".form-company_id"),$("#company_id_search_box").bind("keydown",(t=this,function(n){return t._initFormShake(e,n)})).autocomplete($.extend(this._autocompleteOptions("company_id"),{source:function(e,t){return $.ajax({url:$("#company_id_search_box").data("url"),dataType:"json",data:{term:$("#company_id_search_box").val()},success:function(e){return t($.map(e.results,function(e){return{id:e.id,value:e.text}}))}})},select:function(e){return function(t,n){return e._addFilter(n.item.value,n.item.id,"company_id"),$("#company_id_search_box").val(""),!1}}(this)})),$("#company_id_search_box").attr("autocomplete","disabled")},_initFormShake:function(e,t){if(t.keyCode===$.ui.keyCode.ENTER&&!$(t.target).data("selectVisible"))return e.animateCss("shake")},_autocompleteOptions:function(e){return{autoFocus:!0,appendTo:".form-"+e,select:(t=this,function(n,i){return t._addFilter(i.item.value,i.item.value,e),$("#"+e+"_search_box").val(""),!1}),focus:function(e){return e.preventDefault()},open:function(){return $(this).data("selectVisible",!0)},close:function(){return $(this).data("selectVisible",!1)}};var t},_initLabelHandler:function(){var e;return $("#resetFilter").click((e=this,function(){return e._resetFilter()})),0===$(".filter-chips-group .filter-chip").length?$("#resetFilter").hide():$("#resetFilter").show(),$(document).on("click",".filter-chip .btn-delete",function(e){return function(t){var n,i;return n=$(t.currentTarget).parent().data("filter"),i=$(t.currentTarget).parent().data("filter-type"),["min_career","min_salary","min_employees","theme"].includes(i)?$("#job_position_"+i+"_all").prop("checked",!0):"job_category_id"===i?$("#job_position_job_category_id_"+n).prop("checked",!1):"location"===i&&$("#job_position_"+i+"_"+n).prop("checked",!1),e._removeFilter(n,i)}}(this))},_initStickyFilterBar:function(){return this.filterBarTop=$("#top-filter-form").offset().top,$(document).on("scroll",this._stickyFilterBar)},_initMobileFilterBar:function(){var e;return $(window).on("resize",(e=this,function(){var t,n;if(n=window.matchMedia("( min-width: 768px )").matches,(t=$("#top-filter-form")).removeClass("sticky"),n)return e._stickyFilterBar(),t.css("display","block")})),$(".js-mobile-filter-open").click(function(){return $(".top-positions-filter").toggleClass("open")}),$(".js-mobile-filter-close").click(function(){return $(".top-positions-filter").toggleClass("open")})},_stickyFilterBar:function(){var e;if(window.matchMedia("( min-width: 768px )").matches)return e=$("#top-filter-form"),window.pageYOffset>=Hera.jobPositions.filterBarTop?e.addClass("sticky"):e.removeClass("sticky")},_initOrderSelect:function(){return $(document).on("change",".js-position-order",(e=this,function(){return e._getFilteredPositions()}));var e},_getSelectedCheckboxes:function(e){var t,n,i,r,o;for(o=[],n=0,i=(r=$(".dropdown-menu.js-"+e+' input[type="checkbox"]:checked')).length;n<i;n++)t=r[n],o.push($(t).val());return o},_getSelectedRadio:function(e){var t;return"all"===(t=$(".dropdown-menu.js-"+e+' input[type="radio"]:checked').val())?"":t},_getSelectedFilters:function(e){var t,n,i,r,o;for(o=[],n=0,i=(r=$(".filter-chip[data-filter-type = '"+e+"']")).length;n<i;n++)t=r[n],o.push($(t).data("filter"));return o},_addFilter:function(e,t,n){if(!($(".filter-chip[data-filter = '"+t+"'][data-filter-type = '"+n+"']").length>0))return $("#"+n+"-filter-chips-group").append(this._filterTemplate(e,t,n)),"location"===n&&this._addLocationHighlight(t),this._onFilterChanged()},_removeFilter:function(e,t){return $('.filter-chip[data-filter="'+e+'"][data-filter-type='+t+"]").remove(),"location"===t&&this._removeLocationHighlight(e),this._onFilterChanged()},_initPositionTagHandler:function(){return $(document).on("click",".js-position-tag-filter-item",(e=this,function(t){var n,i,r,o;return o=(n=$(t.target)).text(),i=n.attr("value"),"job_category_id"===(r=n.data("filter-type"))&&$(".dropdown-menu #job_position_job_category_id_"+i).prop("checked",!0),e._addFilter(o,i,r)}));var e},_locationHighlight:function(){return $(".hover-img.js-for-select:first")},_addLocationHighlight:function(e){return this._locationHighlight().clone().addClass(e).addClass("js-selected").insertAfter(this._locationHighlight())},_removeLocationHighlight:function(e){return $(".hover-img.js-selected."+e).remove()},_filterTemplate:function(e,t,n){return"<li class='filter-chip "+n+"' data-filter='"+t+"' data-filter-type='"+n+"'> <span> "+e+' </span> <button class=\'btn-delete\'><svg class=""><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-cancel-plain-14"/></svg></button> </li>'},_resetFilter:function(){return $("#job_position_min_career_all").prop("checked",!0),$("#job_position_min_salary_all").prop("checked",!0),$("#job_position_min_employees_all").prop("checked",!0),$("#job_position_theme_all").prop("checked",!0),$('.dropdown-menu input[type="checkbox"]').prop("checked",!1),$(".filter-chips-group .filter-chip").remove(),$(".hover-img.js-selected").remove(),this._onFilterChanged()},_getFilteredPositions:function(){var e,t,n;return n=$("#search-form").data("url"),t={job_position:this._getFilterParams()},"default"!==(e=$(".js-position-order option:selected").val())&&(t.order=e),$(".list-positions").addClass("_loading"),$.ajax({url:n,data:t,dataType:"script"}).fail(function(){return Hera.utils.snackbar("\ud574\ub2f9 \uc9c1\ubb34\ub97c \uac00\uc838\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4. \uc0c8\ub85c\uace0\uce68 \ud574\uc8fc\uc138\uc694.")}).always(function(){return setTimeout(function(){return $(".list-positions").removeClass("_loading")},200)})},_onFilterChanged:function(){var e;return 0===$(".filter-chips-group .filter-chip").length?($("#resetFilter").hide(),$(".js-list-filter-chips").hide()):($("#resetFilter").show(),$(".js-list-filter-chips").show()),this._getFilteredPositions(),(e=$(".filter-chips-group")).removeClass("divider"),e.has(".filter-chip").addClass("divider")},_initFilterToggleHandler:function(){return $(document).on("change","#job-position-filter-toggle",(e=this,function(t){var n,i;return(n=$(t.target)).attr("disabled",!0),i=n.data("url"),n.is(":checked")?e._saveNotiFilter(i,n):e._removeNotiFilter(i,n)}));var e},_getFilterParams:function(){var e,t,n,i,r;return i={company_ids:this._getSelectedFilters("company_id"),tags:this._getSelectedFilters("tag"),job_category_ids:this._getSelectedCheckboxes("job_category_ids"),locations:this._getSelectedCheckboxes("locations"),dummy:0},e=this._getSelectedRadio("min_career"),n=this._getSelectedRadio("min_salary"),t=this._getSelectedRadio("min_employees"),r=this._getSelectedRadio("theme"),e&&(i.min_career=e),n&&(i.min_salary=n),t&&(i.min_employees=t),r&&(i.theme=r),i},_saveNotiFilter:function(e,t){var n;return n={job_position_filter:this._getFilterParams()},$.ajax({url:e,data:n,method:"post",dataType:"json"}).fail(function(){return Hera.utils.snackbar("\ud604\uc7ac \uc870\uac74\uc744 \uc800\uc7a5\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4. \uc0c8\ub85c\uace0\uce68 \ud574\uc8fc\uc138\uc694."),t.prop("checked",!1)}).done(function(e){return Hera.utils.snackbar("\ud604\uc7ac \uac80\uc0c9 \uc870\uac74\uc744 \uc800\uc7a5\ud588\uc2b5\ub2c8\ub2e4."),t.data("url",""+e.url)}).always(function(){return setTimeout(function(){return t.attr("disabled",!1)},500)})},_removeNotiFilter:function(e,t){return $.ajax({url:e,method:"delete",dataType:"json"}).fail(function(){return Hera.utils.snackbar("\ud604\uc7ac \uc870\uac74\uc744 \uc0ad\uc81c\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4. \uc0c8\ub85c\uace0\uce68 \ud574\uc8fc\uc138\uc694."),t.prop("checked",!0)}).done(function(e){return Hera.utils.snackbar("\ud604\uc7ac \uac80\uc0c9 \uc870\uac74\uc744 \uc0ad\uc81c\ud558\uc600\uc2b5\ub2c8\ub2e4."),t.data("url",""+e.url)}).always(function(){return setTimeout(function(){return t.attr("disabled",!1)},500)})}}}.call(this),function(){Business.jobProfiles={initShow:function(){return Business.jobApplications.initGuideModal()}}}.call(this),function(){Hera.managers={managerSortColumnFilter:"name",managerSortOrderFilter:"asc",managerSearchColumnFilter:"name",managerSearchValueFilter:"",managerRole:null,testTitle:"",selectedTestIds:new Set,initIndex:function(){return this.managerRole=$(".company-managers").data("manager-role"),this._initPagination(),this._initTestPagination(),this.handleApplicantFilter(),this.handleTestFilter(),this.handleTestCheckbox()},handleApplicantFilter:function(){return $(document).on("click",".js-managers-order-filter",function(){var e;return Hera.managers.managerSortColumnFilter=$(this).data("filter-type"),Hera.managers.managerSortOrderFilter=$(this).data("filter-order"),(e=$(".active.page-item").text())||(e=1),Hera.managers.updateManagers(e)}),$(document).on("keyup",".js-managers-search-bar",function(e){if($("#managers-search-bar-clear").toggle(Boolean($(this).val())),13===e.which)return Hera.managers.managerSearchColumnFilter=$("#managers_status option:selected").val(),Hera.managers.managerSearchValueFilter=$(this).val(),Hera.managers.updateManagers(1)}),$(document).on("click","#managers-search-bar-clear",function(){return $(".js-managers-search-bar").val("").focus(),$(this).hide()})},handleTestFilter:function(){return $(document).on("keypress","#tests-title-filter",function(e){if(13===e.which)return e.preventDefault(),!1}),$(document).on("keyup","#tests-title-filter",function(e){if($("#tests-title-filter-clear").toggle(Boolean($(e.currentTarget).val())),13!==e.which)return Hera.managers.testTitle=$(this).val(),Hera.managers.updateTestsDebounce()}),$(document).on("click","#tests-title-filter-clear",function(){return $("#tests-title-filter").val("").focus(),$(this).hide(),
Hera.managers.testTitle="",Hera.managers.updateTests(1)})},handleTestCheckbox:function(){return $(document).on("click",".test-check",function(){return $(this).is(":checked")?($(".tests-error:visible").hide(),Hera.managers.selectedTestIds.add(Number($(this).val()))):Hera.managers.selectedTestIds["delete"](Number($(this).val()))})},_initPagination:function(){return $(".page-link").click(function(e){var t;if(e.preventDefault(),null!=(t=$.urlParam($(e.currentTarget).attr("href"),"page")))return Hera.managers.updateManagers(t)})},_initTestPagination:function(){return $(".page-link").click(function(e){var t;return e.preventDefault(),null!=(t=$.urlParam($(e.currentTarget).attr("href"),"page"))&&Hera.managers.updateTests(t),!1})},checkTest:function(){return $(".test-check").each(function(){var e;if(e=$(this).val(),Hera.managers.selectedTestIds.has(Number(e)))return $(this).prop("checked",!0)})},updateManagers:function(e){return $.get("/managers/manager_list",{type:this.managerSortColumnFilter,order:this.managerSortOrderFilter,search_column:this.managerSearchColumnFilter,search_value:this.managerSearchValueFilter,role:this.managerRole,page:e})},updateTests:function(e){return $.get("/managers/test_list",{title:this.testTitle,page:e,"selected_test_ids[]":Array.from(this.selectedTestIds)})},updateTestsDebounce:_.debounce(function(){return Hera.managers.updateTests(1)},200)}}.call(this),function(){}.call(this),function(){}.call(this),function(){Hera.openVidu.Base=function(){function e(e){this.token=e.token,this.webrtcHost=e.webrtcHost,this.subscriberType=e.subscriberType,this.audioSource=e.audioSource,this.microphoneRequired=e.microphoneRequired,this.publishing=!1,this.subscribing=!1,this._initCheckSubscribeHandler()}var t;return t=100,e.prototype._initCheckSubscribeHandler=function(){return $(".js-check-"+this.source+"-subscribe").click((e=this,function(){return e.initProctorView()}));var e},e.prototype.publish=function(){return this.initPublisher()},e.prototype.subscribe=function(e){var n;if(this.webrtcHost)return"wide"===this.subscriberType?null==e&&(e="wide-subscribe-"+this.source):null==e&&(e="subscribe-"+this.source+"-"+this.token),this._lockProctorsListView("loading"),this._getOpenViduToken("SUBSCRIBER").then((n=this,function(i){return n.openvidu=new OpenVidu,n.openvidu.enableProdMode(),n.session=n.openvidu.initSession(),n.session.on("streamCreated",function(i){if(!n.subscribing)return n.subscribing=!0,n._lockProctorsListView("loading"),n.subscriber=n.session.subscribe(i.stream,e,{subscribeToAudio:n.audio}),n.subscriber.on("videoElementCreated",function(e){return $(e.element).prop("volume",0),n._changeConnectionStatus("connected")}),n.subscriber.on("streamPlaying",function(){return n._lockProctorsListView("done"),n.subscribing=!1}),n.audio?(n.subscriber.updatePublisherSpeakingEventsOptions({interval:t}),n.subscriber.on("streamAudioVolumeChange",function(e){var t;return t=100+e.value.newValue,$(".js-subscriber[data-token='"+n.token+"'], #subscriber-wide-view[data-token='"+n.token+"']").find(".audio-gauge__bar--percent").css("width",t+"%")})):void 0}),n.session.on("streamDestroyed",function(){return n._changeConnectionStatus("disconnected"),n._lockProctorsListView("done"),n.subscribing=!1}),n.session.connect(i).then(function(){return n._lockProctorsListView("done")})}))["catch"](function(e){return function(){return e._changeConnectionStatus("disconnected"),e._lockProctorsListView("done"),e.subscribing=!1}}(this))},e.prototype.reset=function(){return null!=this.session&&this.session.connection&&this.session.disconnect(),null!=this.proctorViewSession&&this.proctorViewSession.connection&&this.proctorViewSession.disconnect(),this._disableReset(),this._resetProctorViewSession(),this.initPublisher()},e.prototype.resubscribe=function(e){return this.openviduUrl=e.openviduUrl,this.audioSource=e.audioSource,this.subscriberType=e.subscriberType,this.webrtcHost=e.webrtcHost,this.subscribing=!1,this.leaveSession(),this.subscribe()},e.prototype.unloadHandler=function(){return this.leaveSession()},e.prototype.leaveSession=function(){if(null!=this.session&&this.session.connection&&this.session.disconnect(),null!=this.proctorViewSession&&this.proctorViewSession.connection)return this.proctorViewSession.disconnect()},e.prototype.initProctorView=function(){var e;if(!this.subscribingProctorViewSession)return this.subscribingProctorViewSession=!0,this._getOpenViduToken("SUBSCRIBER").then((e=this,function(t){var n;return(n=new OpenVidu).enableProdMode(),e.proctorViewSession=n.initSession(),e.proctorViewSession.on("streamCreated",function(t){return e._disableReset(),e.proctorViewSubscriber=e.proctorViewSession.subscribe(t.stream,e._proctorViewElementFor(e.source),{subscribeToAudio:!1}),e.proctorViewSubscriber.on("videoElementCreated",function(){return e._changeProtorViewStatus("connected")}),e.proctorViewSubscriber.on("streamPlaying",function(){return e._enableReset(),e.subscribingProctorViewSession=!1}),e.proctorViewDisconnectTimer=setTimeout(function(){if(e.proctorViewDisconnectTimerFired=!0,e.proctorViewSession.connection)return e.proctorViewSession.disconnect()},3e4)}),e.proctorViewSession.on("sessionDisconnected",function(){return e._enableReset(),e._resetProctorViewSession(),e.proctorViewDisconnectTimerFired&&e._changeProtorViewStatus("disconnected"),e.proctorViewDisconnectTimerFired=!1,e.subscribingProctorViewSession=!1}),e.proctorViewSession.connect(t).then(function(){})}))["catch"](function(e){return function(){return e.subscribingProctorViewSession=!1}}(this))},e.prototype.connected=function(){return this._changeConnectionStatus("connected")},e.prototype.disconnected=function(){return this._changeConnectionStatus("disconnected"),this._hideAlert(),this._resetProctorViewSession(),this._enableReset()},e.prototype.denied=function(){return this._changeConnectionStatus("denied"),this._hideAlert(),this._resetProctorViewSession(),this._enableReset()},e.prototype._findStream=function(e){var t,n,i,r,o;for(n=0,i=(r=Object.keys(e.remoteConnections)).length;n<i;n++)if(t=r[n],o=e.remoteConnections[t].stream)return o},e.prototype._getOpenViduToken=function(e){return new Promise((t=this,function(n,i){return $.ajax({type:"GET",url:"/api/openvidus/token",data:{token:t.token,source:t.source,role:e},success:function(e){return n(e.token)},error:function(e,n,r){return t.subscriberType||Hera.utils.snackbar(I18n.t("record.error.server")),i(r)}})}));var t},e.prototype._enableReset=function(){return $("#init-"+this.source+"-publisher").prop("disabled",!1)},e.prototype._disableReset=function(){return $("#init-"+this.source+"-publisher").prop("disabled",!0)},e.prototype._resetProctorViewSession=function(){return this.proctorViewDisconnectTimer&&clearTimeout(this.proctorViewDisconnectTimer),this.proctorViewDisconnectTimer=null,this._changeProtorViewStatus("init")},e.prototype._proctorViewElementFor=function(e){return"subscribe-"+e+"-check"},e.prototype._changeConnectionStatus=function(e){if(Hera.records.changeConnectionStatus(this.source,e),"connected"===e){if($(".js-subscriber[data-token='"+this.token+"'] .item-subscriber__screen").removeClass(this.source+"-not-connected"),$("#subscriber-wide-view").data("token")===this.token)return $("#subscriber-wide-view").removeClass(this.source+"-not-connected")}else if("disconnected"===e&&($(".js-subscriber[data-token='"+this.token+"'] .item-subscriber__screen").addClass(this.source+"-not-connected"),$("#subscriber-wide-view").data("token")===this.token))return $("#subscriber-wide-view").addClass(this.source+"-not-connected")},e.prototype._changeProtorViewStatus=function(e){return $(".screen-container."+this.source+" .msg-proctor-view").removeClass("connected").removeClass("disconnected"),"connected"===e?$(".screen-container."+this.source+" .msg-proctor-view").addClass("connected"):"disconnected"===e?$(".screen-container."+this.source+" .msg-proctor-view").addClass("disconnected"):void 0},e.prototype._lockProctorsListView=function(e){if("loading"===e){if($(".js-testees[data-token='"+this.token+"'] .js-checkbox-subscribe-wrap").addClass(this.source+"-loading"),$(".js-off-all-testee").addClass(this.source+"-loading"),$(".js-subscriber[data-token='"+this.token+"'] .js-close-subscriber").addClass(this.source+"-loading"),"wide"===this.subscriberType)return $(".wide-view-mode .list-subscriber").addClass(this.source+"-loading"),$(".js-init-wide-subscribers").addClass(this.source+"-loading")}else if($(".js-testees[data-token='"+this.token+"'] .js-checkbox-subscribe-wrap").removeClass(this.source+"-loading"),$(".js-off-all-testee").removeClass(this.source+"-loading"),$(".js-subscriber[data-token='"+this.token+"'] .js-close-subscriber").removeClass(this.source+"-loading"),"wide"===this.subscriberType)return $(".wide-view-mode .list-subscriber").removeClass(this.source+"-loading"),$(".js-init-wide-subscribers").removeClass(this.source+"-loading")},e.prototype._showAlert=function(e){return null==e&&(e=null),null!=e&&$(".screen-container."+this.source+" .alert-check span").text(e),$(".screen-container."+this.source+" .alert-check").show()},e.prototype._hideAlert=function(){return $(".screen-container."+this.source+" .alert-check").hide()},e.prototype._updateConnectionStatus=function(){},e}()}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.openVidu.cam=function(t){function n(){this.source="cam",this.videoSource=void 0,this.audioSource=void 0,n.__super__.constructor.apply(this,arguments),this.audio="cam"===this.audioSource,this._initButtonHandler()}return e(n,t),n.prototype._initButtonHandler=function(){var e;return $("#start-share-cam").click((e=this,function(){return e.publish()})),$("#init-cam-publisher").click(function(e){return function(){return e.reset()}}(this))},n.prototype.checkCamera=function(){return navigator.permissions.query({name:"camera"}).then((e=this,function(t){return"granted"===t.state?(e.cameraPermission=!0,$(".js-camera-connect").removeClass("hidden")):(e.cameraPermission=!1,$(".js-camera-not-connect").removeClass("hidden")),e._checkMicrophone()}))["catch"](function(){return Hera.utils.snackbar(I18n.t("record.error.camera_permission"))});var e},n.prototype._checkMicrophone=function(){return navigator.permissions.query({name:"microphone"}).then((e=this,function(t){return"granted"===t.state||!1===e.microphoneRequired?($(".js-microphone-connect").removeClass("hidden"),e.microphonePermission=!0):(e.microphonePermission=!1,$(".js-microphone-not-connect").removeClass("hidden")),e._checkPermissions()}))["catch"](function(){return Hera.utils.snackbar(I18n.t("record.error.mic_permission"))});var e},n.prototype._checkPermissions=function(){return this.cameraPermission&&this.microphonePermission?this.publish():$(".js-permissions-cam").addClass("hidden")},n.prototype.replaceTrack=function(e,t){if(null!=this.publisher)return this.videoSource=e,this.audioSource=t,this.reset()},n.prototype.initPublisher=function(){var e;if(!this.publishing)return this.publishing=!0,this.openvidu=new OpenVidu,this.openvidu.enableProdMode(),this.session=this.openvidu.initSession(),this._initAudio().then((e=this,function(t){return navigator.mediaDevices.getUserMedia({video:!0}).then(function(){return $(".js-permissions-cam .not-connect").addClass("hidden"),$(".js-permissions-cam .connect").removeClass("hidden"),t||($(".js-microphone-connect").addClass("hidden"),$(".js-microphone-not-connect").removeClass("hidden")),e._hideAlert(),e.openvidu.getDevices().then(function(n){var i;return i=n.filter(function(e){return"videoinput"===e.kind})[0],n.find(function(t){return t.deviceId===e.videoSource})||(e.videoSource=void 0),n.find(function(t){return t.deviceId===e.audioSource})||(e.audioSource=void 0),e.audioSource=!!t&&e.audioSource,e._getOpenViduToken("PUBLISHER").then(function(n){return e.session.connect(n).then(function(){return e.publisher=e.openvidu.initPublisher("cam-publisher",{audioSource:e.audioSource,videoSource:e.videoSource||i.deviceId,publishAudio:t,publishVideo:!0,resolution:"640x480",frameRate:15,insertMode:"APPEND",mirror:!1}),e.publisher.on("accessDenied",function(){return e.denied(),e.session.disconnect(),e.publishing=!1}),e.publisher.on("streamCreated",function(){return e._updateConnectionStatus(e.source,"connected"),e.initProctorView()}),e.publisher.on("videoElementCreated",function(){return e._changeConnectionStatus("connecting")}),e.publisher.on("streamPlaying",function(){return e.publishing=!1}),e.publisher.on("streamDestroyed",function(){return e._updateConnectionStatus(e.source,"disconnected"),e.publishing=!1}),e.session.publish(e.publisher)["catch"](function(){return e.publishing=!1})})["catch"](function(){return e.publishing=!0})})["catch"](function(){return e.publishing=!0})})["catch"](function(){return e.publishing=!1})})}))["catch"](function(e){return function(t){var n;return $(".js-permissions-cam .not-connect").removeClass("hidden"),$(".js-permissions-cam .connect").addClass("hidden"),e.denied(),n=e.mediaAccessErrorMessage(t),e._showAlert(n),Hera.utils.snackbar(n),e.publishing=!1}}(this))},n.prototype._initAudio=function(){return navigator.mediaDevices.getUserMedia({audio:!0}).then(function(){return!0})["catch"]((e=this,function(t){if(!0===e.microphoneRequired)throw t;return!1}));var e},n.prototype.mediaAccessErrorMessage=function(e){switch(e.name){case"AbortError":return I18n.t("record.error.media_access.abort");case"NotAllowedError":case"SecurityError":case"PermissionDeniedError":return I18n.t("record.error_accessing_media_devices");case"NotFoundError":case"DevicesNotFoundError":return I18n.t("record.error.media_access.not_found");case"NotReadableError":case"TrackStartError":return I18n.t("record.error.media_access.not_readable");case"OverconstrainedError":case"ConstraintNotSatisfiedError":return I18n.t("record.error.media_access.constrained");default:return Rollbar.error(I18n.t("record.error_accessing_media_devices"),e),I18n.t("record.error_accessing_media_devices")}},n}(Hera.openVidu.Base)}.call(this),function(){Hera.openVidu.FakeWebhook=function(){function e(){}return e.updateConnectionStatus=function(e,t,n){return $.post("/api/test_tokens/development_connection_status",{token:e,source:t,connected:"connected"===n}).then(function(){})},e}()}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.openVidu.mobile=function(t){function n(){this.source="mobile",n.__super__.constructor.apply(this,arguments),this.audio="mobile"===this.audioSource,this._initConnectionStatusHandler()}return e(n,t),n.prototype._initConnectionStatusHandler=function(){var e;return $("body").on("mobile:connected",(e=this,function(){return null!=e.proctorViewSession&&e.proctorViewSession.connection&&e.proctorViewSession.disconnect(),e.initProctorView()})),$("body").on("mobile:disconnected",function(e){return function(){return null!=e.proctorViewSession&&e.proctorViewSession.connection&&e.proctorViewSession.disconnect(),e.disconnected()}}(this))},n.prototype.initPublisher=function(){var e;if(!this.publishing)return this.publishing=!0,this.openvidu=new OpenVidu,this.openvidu.enableProdMode(),this.session=this.openvidu.initSession(),this._getOpenViduToken("PUBLISHER").then((e=this,function(t){return e.session.connect(t).then(function(){return e.publisher=e.openvidu.initPublisher("mobile-publisher",{audioSource:void 0,videoSource:void 0,publishAudio:!0,publishVideo:!0,resolution:"320x240",frameRate:15,insertMode:"APPEND",mirror:!1}),e.publisher.on("accessDenied",function(){return e.denied(),e.session.disconnect()}),e.publisher.on("streamCreated",function(){return e._updateConnectionStatus(e.source,"connected"),e.publisher.stream.getMediaStream().getVideoTracks()[0].addEventListener("ended",function(){return e.session.disconnect()})}),e.publisher.on("videoElementCreated",function(){return{}}),e.publisher.on("streamPlaying",function(){return e.publishing=!1}),e.publisher.on("streamDestroyed",function(){return e._updateConnectionStatus(e.source,"disconnected"),e.publishing=!1}),e.session.publish(e.publisher)["catch"](function(){return e.publishing=!1})})}))["catch"](function(e){return function(){return e.publishing=!1}}(this))},n}(Hera.openVidu.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.openVidu.screen=function(t){function n(){this.source="screen",n.__super__.constructor.apply(this,arguments),this.audio=!1,this._initButtonHandler()}return e(n,t),n.prototype._initButtonHandler=function(){var e;return $("#start-share-screen").click((e=this,function(){return e.publish()})),$("#init-screen-publisher").click(function(e){return function(){return e.reset()}}(this))},n.prototype.denied=function(){return n.__super__.denied.apply(this,arguments),$(".js-"+this.source+"-reset").removeClass("hidden")},n.prototype.initPublisher=function(){var e;if(!this.publishing)return this.publishing=!0,this.openvidu=new OpenVidu,this.openvidu.enableProdMode(),this.session=this.openvidu.initSession(),this._getOpenViduToken("PUBLISHER").then((e=this,function(t){return e.session.connect(t).then(function(){return e.publisher=e.openvidu.initPublisher("screen-publisher",{audioSource:!1,videoSource:"screen",publishAudio:!1,publishVideo:!0,resolution:"320x240",frameRate:15,insertMode:"APPEND"}),e.publisher.on("accessDenied",function(){return e.denied(),e.session.disconnect(),e.publishing=!1}),e.publisher.on("streamCreated",function(){var t,n,i;return n="monitor"===(t=(i=e.publisher.stream.getMediaStream().getVideoTracks()[0]).getSettings().displaySurface),Hera.records.updateState({isFullScreen:null!=t?n:void 0}),n?e._hideAlert():e._showAlert(),e._updateConnectionStatus(e.source,"connected"),i.addEventListener("ended",function(){return e.session.disconnect()}),e.initProctorView()}),e.publisher.on("videoElementCreated",function(){return e._changeConnectionStatus("connecting")}),e.publisher.on("streamPlaying",function(){return e.publishing=!1}),e.publisher.on("streamDestroyed",function(){return e._updateConnectionStatus(e.source,"disconnected"),e.publishing=!1}),e.session.publish(e.publisher)["catch"](function(){return e.publishing=!1})})["catch"](function(){return e.publishing=!1})}))["catch"](function(e){return function(){return e.publihsing=!1}}(this))},n}(Hera.openVidu.Base)}.call(this),function(){Hera.orders={customerName:$("#customerName"),customerEmail:$("#customerEmail"),productId:null,productName:null,productType:null,productPrice:null,productQuantity:$("#product_quantity"),initNew:function(){var e;return e=$("#order_submit").data(),this.productId=e.productId,this.productName=e.productName,this.productPrice=e.productPrice,this.productType=e.productType,""===this.productId&&(this.productId=null),this.initOrderButton(),this.initFormEvent(),this.displayExpiredDate()},initFormEvent:function(){var e;return[this.customerName,this.customerEmail].forEach((e=this,function(t){return t.focusout(function(){var n,i;return 0===t.val().trim().length?(t.parent().addClass("has-error"),$("#order-info-caption").removeClass("hidden")):(t.parent().removeClass("has-error"),i=""!==e.customerName.val().trim(),n=""!==e.customerEmail.val(),i&&n&&e.validateEmail()?$("#order-info-caption").addClass("hidden"):void 0)})})),this.productQuantity.on("change",function(e){return function(){return 0>=e.productQuantity.val()?e.productQuantity.val(1):e.productQuantity.val()>100&&e.productQuantity.val(100),e.displayPriceOfQuantity(),e.displayExpiredDate()}}(this)),$("#agree_order").on("change",function(){if($("#agree_order").is(":checked"))return $("#agree_order").parent().removeClass("has-error"),$("#agree-error-caption").addClass("hidden")})},beforeOrderValidation:function(){var e;return e=!0,this.inspectionForm()||(e=!1),this.inspectionAgree()||(e=!1),this.inspectionQuantity()||(e=!1),e},displayExpiredDate:function(){var e,t;return e="\uc7a5 / \uc720\ud6a8 \uae30\uac04 ",11>(t=this.productQuantity.val())?e+="<b>30\uc77c</b>":31>t?e+="<b>60\uc77c</b>":30<t&&(e+="<b>90\uc77c</b>"),$("span#expired_date").html(e)},displayPriceOfQuantity:function(){var e,t,n,i;return e=this.productQuantity.val()*this.productPrice,void 0===$("#product_quantity").val()&&(e=this.productPrice),t=this.numberWithCommas(this.getSupplyPrice(e))+"\uc6d0",i=this.numberWithCommas(this.getVatPrice(e))+"\uc6d0",n=this.numberWithCommas(e)+"\uc6d0",$("td#supply-price").html(t),$("td#vat-price").html(i),$("td#total-price").html(n)},inspectionAgree:function(){return!!$("#agree_order").is(":checked")||($("#agree_order").parent().addClass("has-error"),$("#agree-error-caption").removeClass("hidden"),!1)},validateEmail:function(){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.customerEmail.val().trim())?($("#order-invalid-email").addClass("hidden"),this.customerEmail.parent().removeClass("has-error"),!0):(this.customerEmail.parent().addClass("has-error"),$("#order-invalid-email").removeClass("hidden"),!1)},inspectionForm:function(){var e;return e=!0,[this.customerName,this.customerEmail].forEach(function(t){if(""===t.val().trim())return t.parent().addClass("has-error"),$("#order-info-caption").removeClass("hidden"),e=!1}),this.validateEmail()||(e=!1),e},inspectionQuantity:function(){var e;return!(0>=(e=this.productQuantity.val())||e>100)||(this.productQuantity.parent().addClass("has-error"),!1)},getOrderData:function(){var e;return e=$('input[type="radio"]:checked').val(),{order:{name:this.customerName.val(),email:this.customerEmail.val(),method:e},product:{id:this.productId,name:this.productName,type:this.productType,quantity:this.productQuantity.val()},coupon:{code:$("#encrypt-coupon-code").val()}}},getSupplyPrice:function(e){return Math.round(10*e/11)},getVatPrice:function(e){return Math.round(e/11)},numberWithCommas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},initOrderButton:function(){var e;return(e=$("#order_submit")).click(function(){var t;Hera.orders.beforeOrderValidation()&&(t=Hera.orders.getOrderData(),e.prop("disabled",!0),$('input[name="optionsPaymentMethod"]:checked').val(),$.post("/orders/pay.js",t).fail(function(e){return alert(e.responseJSON.message)}).always(function(){return e.prop("disabled",!1)}))})}}}.call(this),function(){Hera.posts={initTag:function(){return this._initCopyButton()},_initCopyButton:function(){return $(".js-btn-copy").click(function(e){var t;return t=$(e.currentTarget).data("url"),Hera.share.copyLink(t)})}}}.call(this),function(){Hera.proctors={maxSubscribersCount:20,ROTATE_COUNT:5,ROTATE_TIME:30,CAM:"cam",MOBILE:"mobile",SCREEN:"screen",rotateTestees:null,pauseRotate:!1,MIN_ROTATE_COUNT:5,MAX_ROTATE_COUNT:15,MIN_ROTATE_TIME:15,MAX_ROTATE_TIME:60,MAX_ROTATE_SELECT_COUNT:100,initIndexJs:function(){return $(document).off(".proctor"),$(document).on("click.proctor",".js-remove-proctor",(e=this,function(t){var n;return n=$(t.currentTarget).data("url"),$.ajax({type:"DELETE",url:n}).done(function(t){return Hera.utils.snackbar(t.message),$(".registered-proctor[data-proctor-id='"+t.id+"']").remove(),e.updateProctorsCount()})}));var e},updateProctorsCount:function(){var e;return e=$(".registered-proctor").length,$("#selected-viewers-count").html("("+I18n.t("proctor.applicant_count",{count:e})+")"),0===e?($("#no-proctor-alert").removeClass("hidden"),$("#selected-viewers-count").addClass("hidden")):($("#no-proctor-alert").addClass("hidden"),$("#selected-viewers-count").removeClass("hidden"))},togglePlay:function(){return this.pauseRotate=!this.pauseRotate,$(".js-rotate-timer").toggleClass("paused",this.pauseRotate)},_initProctor:function(){return this.testId=$(".js-proctor").data("testId"),this.subscribers={},this.selectedSubscribe={},new Hera.channel.Proctor({testId:this.testId}),this._initCollapseBtnHandler(),this._initTesteePagination(),this._initSubscribeCheckBoxHandler(),this._initSubscribeBtnHandler(),this._initViewTypeHandler(),this._initAudioHandler(),this._initTurnOffButton(),this._initResizeHandler(),this._initSearchBar(),this._initTesteeDropdown(),this._initIdCard(),this._initNavbarHandler(),this._initTooltipHideHandler()},_initRotateJs:function(){var e,t,n,i,r;if(n=JSON.parse(localStorage.getItem("rotateTokenData")),(Number.parseInt(localStorage.getItem("rotateTestId"))&&!!n)===$(".js-proctor").data("testId"))for(n.sort(function(e,t){return e.index-t.index}),e=0,t=n.length;e<t;e++)i=n[e],this._addRotateTestee(null,i);return $(".js-rotate-search").keypress((r=this,function(e){return r._searchHandler(e,"_searchRotateTestee",r)})),$(document).on("click",".js-add-testee",function(e){return function(t){return t.preventDefault(),e._addRotateTestee($(t.currentTarget).parent(".js-add-template"),null)}}(this)),$(document).on("click",".js-remove-testee",function(e){return function(t){var n;return t.preventDefault(),n=$(t.currentTarget).parent(".js-remove-template"),e._removeRotateTestee(n)}}(this)),$(".js-add-all-testees").click(function(e){return function(t){var n,i,r,o,a;for(t.preventDefault(),o=[],n=0,i=(r=$(".js-add-template:not(.hidden)")).length;n<i;n++)a=r[n],o.push(e._addRotateTestee($(a),null));return o}}(this)),$(".js-remove-all-testees").click(function(e){return function(t){var n,i,r,o,a;for(t.preventDefault(),o=[],n=0,i=(r=$(".js-remove-template:not(.hidden)")).length;n<i;n++)a=r[n],o.push(e._removeRotateTestee($(a)));return o}}(this)),$("#rotate_time").on("change",function(e){return function(t){if($(t.currentTarget).val()>e.MAX_ROTATE_TIME&&$(t.currentTarget).val(e.MAX_ROTATE_TIME),$(t.currentTarget).val()<e.MIN_ROTATE_TIME)return $(t.currentTarget).val(e.MIN_ROTATE_TIME)}}(this)),$("#rotate_count").on("change",function(e){return function(t){if($(t.currentTarget).val()>e.MAX_ROTATE_COUNT&&$(t.currentTarget).val(e.MAX_ROTATE_COUNT),$(t.currentTarget).val()<e.MIN_ROTATE_COUNT)return $(t.currentTarget).val(e.MIN_ROTATE_COUNT)}}(this)),$(".js-rotate-confirm").click(function(e){return function(){var t;return e.ROTATE_COUNT=$(".rotate-count").val()||e.ROTATE_COUNT,e.ROTATE_TIME=$(".rotate-time").val()||e.ROTATE_TIME,t=$(".js-remove-template:not(.hidden)").map(function(){return $(this).data()}).get(),localStorage.setItem("rotateTestId",$(".js-proctor").data("testId")),localStorage.setItem("rotateTokenData",JSON.stringify(t)),t.length>0&&(e._rotateTestees(e),t.length>e.ROTATE_COUNT&&($(".js-rotate-timer").removeClass("hidden"),$(".js-rotate-timer-data").text(e.ROTATE_TIME),$(".js-rotate-setting-btn").addClass("hidden"),$(".js-rotate-controllers").removeClass("hidden"),e.rotateTestees=setInterval(e._countDownTimer,1e3,e))),$("#modal-dialog").modal("hide")}}(this)),$(".js-rotate-confirm").tooltip({title:I18n.t("proctor.rotate.over_max",{max_count:this.MAX_ROTATE_SELECT_COUNT}),trigger:"manual",placement:"top"})},_initIdCard:function(){return $(document).on("click",".js-change-modal",this._unloadIdCardSubscriber),$(document).on("hide.bs.modal","#modal-dialog",this._unloadIdCardSubscriber),$(document).on("click",".js-check-id-card",(e=this,function(t){var n;if(t.stopPropagation(),!(n=$(t.currentTarget)).hasClass("active"))return e._updateIdCardStatus(n,$(".js-check-id-card.active")),e._toggleIdCardButton(!1),n.hasClass("unchecked")?$(".setting-confirm").addClass("load-uncheck"):n.hasClass("checked")?$(".setting-confirm").addClass("load-check"):void 0}));var e},_updateIdCardStatus:function(e,t){var n,i;return n=$(".identify-wrap").data("tokenId"),$.ajax({url:"/test_tokens/"+n+"/update_id_card_status",type:"PATCH",data:{status:e.val()}}).done((i=this,function(){return i._toggleIdCardButton(!0,e)})).fail(function(e){return function(){return Hera.utils.snackbar(I18n.t("proctor.id_card.fail_update_status")),e._toggleIdCardButton(!0,t)}}(this)).always(function(){return $(".setting-confirm").removeClass("load-check load-uncheck")})},_toggleIdCardButton:function(e,t){return $(".js-check-id-card").attr("disabled",!e),e?t.addClass("active"):$(".js-check-id-card").removeClass("active")},loadIdCardSubscriber:function(){var e;return e=$(".identify-wrap").data(),this.idCardopenVidu="mobile"===e.camMode?new Hera.openVidu.mobile(e):new Hera.openVidu.cam(e),this.idCardopenVidu.subscribe("id-card-cam-"+e.tokenId)},_unloadIdCardSubscriber:function(){var e;return null!=(e=Hera.proctors.idCardopenVidu)?e.leaveSession():void 0},changeIdCardStatus:function(e,t){var n,i;return n=$(".js-testees[data-token-id='"+e+"']").add(".js-subscriber[data-token-id='"+e+"'").find(".js-confirm-id-card"),i="checked"===t,$(".js-testees[data-token-id='"+e+"']").data("idCardChecked",i),n.toggleClass("checked",i)},idCardUploaded:function(e){return $(".js-testees[data-token-id='"+e+"']").data("idCardUploaded",!0),$(".js-testees[data-token-id='"+e+"']").add(".js-subscriber[data-token-id='"+e+"'").find(".before-check").addClass("uploaded")},_searchHandler:function(e,t,n){var i,r,o,a,s,l,c;if(13===e.keyCode)return s=$(e.currentTarget).val(),o=!1,c=/^(\d+)$/,r=/^(\d+)(, ?\d+?)*$/,i=/\d+/g,(l=/^(\d+)-(\d+)$/).test(s)?(o=(a=(a=s.match(l)).map(function(e){return parseInt(e)}).sort(function(e,t){return e-t}))[1]>a[2])||n[t]({offset:a[1],limit:a[2]-a[1]+1}):c.test(s)?(a=s.match(c),n[t]({offset:a[1],limit:1})):r.test(s)?(a=(a=s.match(i)).map(function(e){return parseInt(e)}).sort(function(e,t){return e-t}),n[t]({offsets:a})):n[t]({name:s}),o?$(".js-rotate-search").addClass("is-invalid"):($(".js-list-first").addClass("hidden"),$(".js-rotate-search").removeClass("is-invalid"))},_searchRotateTestee:function(e){return null==e&&(e={}),e.selectedTokenIds=$(".js-remove-template:not(.hidden)").map(function(){return $(this).data("tokenId")}).get(),$.post("/tryouts/"+this.testId+"/search_rotate_testees",e)},_searchProctorTestee:function(e){return null==e&&(e={}),e.selectedTokenIds=$(".item-subscriber:not(.hidden)").map(function(){return $(this).data("tokenId")}).get(),$.post("/tryouts/"+this.testId+"/search_proctor_testees",e)},_addRotateTestee:function(e,t){var n,i,r,o,a,s,l,c,u,d,h;for(o in null==e&&(e=null),null==t&&(t=null),d=$(".js-remove-template:first"),(i=$(d).clone()).removeClass("hidden"),u=null!=t?t:e.data())h=u[o],i.data(o,h);for(i.children(".js-token-name").html(u.index+". "+u.name+"<span>("+u.email+")</span>"),null!=e&&e.remove(),this.setSearchTesteeListLength(),r=0,a=(s=$(".js-remove-template")).length;r<a;r++){if(c=s[r],(l=(n=$(c)).data("index"))===u.index)return;if(l>u.index)return i.insertBefore(n),this._setSelectedTesteeListLength(),void this.checkSelectionValid()}return i.insertAfter($(".js-remove-template:last")),this._setSelectedTesteeListLength(),this.checkSelectionValid(0)},_removeRotateTestee:function(e){var t,n,i,r,o,a,s,l,c,u,d;for(r in u=$(".js-add-template:first"),(n=$(u).clone()).removeClass("hidden"),c=e.data())d=c[r],n.data(r,d);for(e.remove(),this._setSelectedTesteeListLength(),this.checkSelectionValid(),n.children(".t-name").html(c.index+". "+c.name+"<span>("+c.email+")</span>"),i=0,o=(a=$(".js-add-template")).length;i<o;i++){if(l=a[i],(s=(t=$(l)).data("index"))===c.index)return;if(s>c.index)return n.insertBefore(t),void this.setSearchTesteeListLength()}return n.insertAfter($(".js-add-template:last")),this.setSearchTesteeListLength()},checkSelectionValid:function(){var e;return(e=$(".js-remove-template:not(.hidden)").length<=this.MAX_ROTATE_SELECT_COUNT)?($(".js-rotate-confirm").tooltip("hide"),$(".js-rotate-confirm").removeClass("disabled"),$(".js-rotate-confirm").removeAttr("disabled")):($(".js-rotate-confirm").tooltip("show"),$(".js-rotate-confirm").addClass("disabled"),$(".js-rotate-confirm").attr("disabled","true")),e},setSearchTesteeListLength:function(){var e;return 0===(e=$(".js-add-template:not(.hidden)").length)?($(".js-list-empty").removeClass("hidden"),$("#search-testee-count-wrap").addClass("hidden")):($(".js-list-empty").addClass("hidden"),$("#search-testee-count-wrap").removeClass("hidden"),$("#search-testee-count").text(e))},_setSelectedTesteeListLength:function(){var e;return 0===(e=$(".js-remove-template:not(.hidden)").length)?($(".js-selected-empty").removeClass("hidden"),$("#selected-testee-count-wrap").addClass("hidden")):($(".js-selected-empty").addClass("hidden"),$("#selected-testee-count-wrap").removeClass("hidden"),$("#selected-testee-count").text(e))},_countDownTimer:function(e){var t;return 1===(t=parseInt($(".js-rotate-timer-data").text()))?(e._rotateTestees(e),
$(".js-rotate-timer-data").text(e.ROTATE_TIME)):e.pauseRotate?void 0:$(".js-rotate-timer-data").text(t-1)},_rotateTestees:function(e){var t,n,i,r,o;for(e._turnOffAll(),n=0,i=(r=(o=JSON.parse(localStorage.getItem("rotateTokenData"))).splice(0,Hera.proctors.ROTATE_COUNT)).length;n<i;n++)t=r[n],$('.js-testees[data-token-id="'+t.tokenId+'"]').find(".checkbox-subscribe").prop("checked",!0),e._addItemToSubscribersList(t),e._initSubscriber(t);return o=o.concat(r),localStorage.setItem("rotateTokenData",JSON.stringify(o))},_initStopRotationJs:function(){return $(document).on("click",".js-stop-confirm-btn",(e=this,function(){return $(".js-rotate-setting-btn").removeClass("hidden"),$(".js-rotate-controllers").addClass("hidden"),clearInterval(e.rotateTestees),$("#modal-dialog").modal("hide"),$(".js-rotate-timer").addClass("hidden"),e.pauseRotate=!1,$(".js-rotate-timer").removeClass("paused")}));var e},_initCollapseBtnHandler:function(){return $("#btn-collapse").click(function(){return $(this).parents(".sidebar-collapse").hasClass("in")?($(this).parents(".sidebar-collapse.in").removeClass("in"),$(this).parents(".sidebar-collapse").addClass("out")):($(this).parents(".sidebar-collapse.out").removeClass("out"),$(this).parents(".sidebar-collapse").addClass("in"))})},_initTesteePagination:function(){var e;return e=this,$(document).on("click",".js-proctor-testee-pagination .page-link",function(t){var n,i;if(t.preventDefault(),n=$.urlParam($(this).attr("href"),"page"),i=$(".item-subscriber:not(.hidden)").map(function(){return $(this).data("tokenId")}).get(),null!=n)return e.updateTestees(n,i)})},updateTestees:function(e,t){return $.get("/tryouts/"+this.testId+"/proctor_testees",{page:e,selected_token_ids:t})},_initSubscribeCheckBoxHandler:function(){return $(document).on("change",".checkbox-subscribe",(e=this,function(t){var n;if(n=$.extend(!0,{},$(t.currentTarget).parents(".js-testees").data()),$(t.currentTarget).is(":checked")){if(!e._checkSubscribersCount(t.currentTarget))return;return e._addItemToSubscribersList(n),e._initSubscriber(n)}return n.token===$("#subscriber-wide-view").data("token")&&e._hideWideView(),e._unloadSubscriber(n.token)}));var e},_unloadSubscriber:function(e){return this._removeItemFromSubscribersList(e),this.subscribers[e][this.SCREEN]&&this.subscribers[e][this.SCREEN].leaveSession(),this.subscribers[e][this.CAM]&&this.subscribers[e][this.CAM].leaveSession(),this.subscribers[e][this.MOBILE]&&this.subscribers[e][this.MOBILE].leaveSession(),delete this.subscribers[e],this._deselectApplicant(e)},_checkSubscribersCount:function(e){return!($(".item-subscriber:not(.hidden)").length+1>this.maxSubscribersCount)||(Hera.utils.snackbar(I18n.t("proctor.rotate.validation_max",{max_count:this.maxSubscribersCount})),$(e).prop("checked",!$(e).is(":checked")),!1)},_addItemToSubscribersList:function(e){var t,n;return n=$(".list-subscriber"),(t=$(".item-subscriber.hidden").clone()).removeClass("hidden"),t.attr("data-webrtc-host",e.webrtcHost),t.attr("data-token",e.token),t.attr("data-token-id",e.tokenId),t.attr("data-test-id",e.testId),t.attr("data-cam-mode",e.camMode),t.attr("data-status",e.status),t.attr("data-recording",e.recording),t.attr("data-connection",e.connection),t.find(".info-name").text(e.index+". "+e.name),t.find(".info-email").text(""+e.email),t.find(".subscribe-cam").attr("id","subscribe-cam-"+e.token),t.find(".subscribe-screen").attr("id","subscribe-screen-"+e.token),t.find(".subscribe-mobile").attr("id","subscribe-mobile-"+e.token),e.idCard?t.find(".js-confirm-id-card").attr("href","/test_tokens/"+e.tokenId+"/confirm_id_card"):t.find(".js-confirm-id-card").remove(),e.idCardChecked&&t.find(".js-confirm-id-card").addClass("checked"),e.idCardUploaded&&t.find(".before-check").addClass("uploaded"),t.find(".js-add-chat").attr("href","/tests/"+e.testId+"/chat_rooms?test_token_id="+e.tokenId),t.find(".js-add-chat").attr("data-method","post"),e.withChatRoom&&t.find(".js-add-chat").addClass("added"),"in_progress"!==e.status&&(t.find(".test-state__test-page").addClass("hidden"),t.find(".test-state__connection").addClass("hidden")),n.append(t)},_initSubscriber:function(e){var t,n;return n={},"finished"!==(t=$.extend(!0,{},e)).status&&(t.audioSource=this._getAudioSource(t.camMode),t.subscriberType="grid",n[this.SCREEN]=this._initSubscribeBySource(t,this.SCREEN),t.camMode!==this.MOBILE&&(n[this.CAM]=this._initSubscribeBySource(t,this.CAM)),t.camMode!==this.CAM&&(n[this.MOBILE]=this._initSubscribeBySource(t,this.MOBILE))),this.subscribers[t.token]=n},_initSubscribeBySource:function(e,t){var n;return(n=this._getOpenviduBySource(e,t)).subscribing||n.resubscribe(e),n},_getOpenviduBySource:function(e,t){return this.subscribers[e.token]&&this.subscribers[e.token][t]?this.subscribers[e.token][t]:t===this.SCREEN?new Hera.openVidu.screen(e):t===this.CAM?new Hera.openVidu.cam(e):t===this.MOBILE?new Hera.openVidu.mobile(e):void 0},_removeItemFromSubscribersList:function(e){return $(".item-subscriber[data-token='"+e+"']").remove()},_deselectApplicant:function(e){var t;if(this.selectedToken===e)return this.selectedToken=null,this._leaveSelectedSession(),(t=$("#subscriber-wide-view")).data("webrtcHost",null),t.data("token",null),t.data("tokenId",null),t.data("testId",null),t.data("camMode",null),t.data("connection",null),t.data("data-webrtc-host",null),t.attr("data-recording",""),t.attr("data-status",""),t.attr("data-connection",""),t.find(".name span").text(""),t.find(".email span").text(""),t.find(".test-state__test-page").addClass("hidden"),t.find(".test-state__connection").addClass("hidden"),t.find(".volume-control").addClass("hidden")},_subscribeWideSession:function(e){if(this._subscribeWideScreen(e),e.camMode!==this.MOBILE&&this._subscribeWideCam(e),e.camMode!==this.CAM)return this._subscribeWideMobile(e)},_leaveSelectedSession:function(){if(this.selectedSubscriber[this.SCREEN]&&(this.selectedSubscriber[this.SCREEN].leaveSession(),delete this.selectedSubscriber[this.SCREEN]),this.selectedSubscriber[this.CAM]&&(this.selectedSubscriber[this.CAM].leaveSession(),delete this.selectedSubscriber[this.CAM]),this.selectedSubscriber[this.MOBILE])return this.selectedSubscriber[this.MOBILE].leaveSession(),delete this.selectedSubscriber[this.MOBILE]},_subscribeWideScreen:function(e){var t;return e.subscriberType="wide",this.selectedSubscriber[this.SCREEN]&&this.selectedSubscriber[this.SCREEN].leaveSession(),(t=new Hera.openVidu.screen(e)).subscribe(),this.selectedSubscriber[this.SCREEN]=t},_subscribeWideCam:function(e){var t;return e.subscriberType="wide",this.selectedSubscriber[this.CAM]&&this.selectedSubscriber[this.CAM].leaveSession(),(t=new Hera.openVidu.cam(e)).subscribe(),this.selectedSubscriber[this.CAM]=t},_subscribeWideMobile:function(e){var t;return e.subscriberType="wide",this.selectedSubscriber[this.MOBILE]&&this.selectedSubscriber[this.MOBILE].leaveSession(),(t=new Hera.openVidu.mobile(e)).subscribe(),this.selectedSubscriber[this.MOBILE]=t},_initWideView:function(){return $("#subscriber-wrap").addClass("wide-view-mode"),$("#subscriber-wide-view").css("display","block")},_initGridView:function(){return $("#subscriber-wrap").removeClass("wide-view-mode"),$("#subscriber-wide-view").css("display","none")},_initAudioHandler:function(){return $(document).on("change",".js-subscriber-audio",(e=this,function(t){var n,i,r;return r=(n=$(t.currentTarget).prop("checked"))?1:0,i=$(t.currentTarget).parents("#subscriber-wide-view, .js-subscriber").data("token"),e._getAudibleVideo(i).prop("volume",r),$("[data-token='"+i+"'] .js-subscriber-audio").prop("checked",n)}));var e},_getAudibleVideo:function(e){var t,n;return t=$(".item-subscriber[data-token="+e+"]"),n=this._getAudioSource(t.data("camMode")),t.find(".subscribe-"+n+" video")},_getAudioSource:function(e){return e===this.CAM?this.CAM:this.MOBILE},_initViewTypeHandler:function(){var e;return this.selectedSubscriber={},$(".js-wide").on("click",(e=this,function(){return e._initWideView()})),$(".js-grid").on("click",function(e){return function(){return e._initGridView()}}(this)),$(document).on("click",".js-subscriber-video",function(e){var t;return t=$(e.currentTarget).parents(".js-subscriber"),Hera.proctors._addToWideSubscriber(t)}),this._initWideViewResetHandler()},_addToWideSubscriber:function(e){var t;if(!$(".js-grid").hasClass("active")&&this.selectedToken!==e.data("token"))return $(".js-subscriber").removeClass("active"),e.addClass("active"),this.selectedToken=e.data("token"),(t=$("#subscriber-wide-view")).data("webrtcHost",e.data("webrtcHost")),t.attr("data-webrtc-host",e.data("webrtcHost")),t.data("token",e.data("token")),t.attr("data-token",e.data("token")),t.attr("data-token-id",e.data("tokenId")),t.attr("data-test-id",e.data("testId")),t.attr("data-cam-mode",e.data("camMode")),t.data("connection",e.data("connection")),t.attr("data-connection",e.attr("data-connection")),t.attr("data-recording",e.attr("data-recording")),t.attr("data-status",e.attr("data-status")),t.find(".name span").text(e.find(".info-name").text()),t.find(".email span").text("("+e.find(".info-email").text()+")"),t.addClass("cam-not-connected").addClass("screen-not-connected").addClass("mobile-not-connected"),t.find(".audio-gauge__bar--percent").css("width","0"),t.find(".js-subscriber-audio").prop("checked",e.find(".js-subscriber-audio").prop("checked")),t.find(".volume-control").removeClass("hidden"),this._leaveSelectedSession(),"finished"===e.data("status")?$(".wrap-active-screen.connected").addClass("hidden"):e.data("webrtcHost")?($(".wrap-active-screen.connected").removeClass("hidden"),this._subscribeWideSession($.extend(!0,{},e.data()))):$(".wrap-active-screen.connected").removeClass("hidden"),"in_progress"!==e.data("status")?(t.find(".test-state__test-page").addClass("hidden"),t.find(".test-state__connection").addClass("hidden")):(t.find(".test-state__test-page").removeClass("hidden"),t.find(".test-state__connection").removeClass("hidden"))},_initWideViewResetHandler:function(){return $(".js-init-wide-subscribers").click((e=this,function(t){var n;return $(t.currentTarget).data("type"),n=$("#subscriber-wide-view"),e.resetWideSubscriber(n.data())}));var e},resetWideSubscriber:function(e){if(e.webrtcHost)return this._subscribeWideSession($.extend(!0,{},e))},_hideWideView:function(){return $("#subscriber-wide-view").addClass("cam-not-connected").addClass("screen-not-connected").addClass("mobile-not-connected")},_initSubscribeBtnHandler:function(){var e;return $(document).on("click",".js-init-subscriber",(e=this,function(t){var n,i;return t.preventDefault(),n=$(t.currentTarget).parents(".item-subscriber"),i=e._initSubscribeData(n),e._initSubscriber(i)})),$(document).on("click",".js-reset-subscriber",function(e){return function(t){var n,i;return t.preventDefault(),n=$(t.currentTarget).closest("li"),i=e._initSubscribeData(n),e.subscribers[i.token]&&(e.subscribers[i.token][e.SCREEN]&&e.subscribers[i.token][e.SCREEN].leaveSession(),e.subscribers[i.token][e.CAM]&&e.subscribers[i.token][e.CAM].leaveSession(),e.subscribers[i.token][e.MOBILE]&&e.subscribers[i.token][e.MOBILE].leaveSession(),delete e.subscribers[i.token]),e._initSubscriber(i)}}(this)),$(document).on("click",".js-close-subscriber",function(e){return function(t){var n;return $(t.currentTarget).tooltip("hide"),n=$(t.currentTarget).parents(".js-subscriber").data("token"),$('.js-testees[data-token="'+n+'"]').find(".checkbox-subscribe").prop("checked",!1),n===$("#subscriber-wide-view").data("token")&&e._hideWideView(),e._unloadSubscriber(n)}}(this))},_initSubscribeData:function(e){var t;return t=e.data(),e.find(".subscribe-cam").attr("id","subscribe-cam-"+t.token),e.find(".subscribe-screen").attr("id","subscribe-screen-"+t.token),e.find(".subscribe-mobile").attr("id","subscribe-mobile-"+t.token),e.find(".subscriber-helper").addClass("hidden"),t},_initTurnOffButton:function(){return $(document).on("click",".js-off-all-testee",(e=this,function(){return e._hideWideView(),e._turnOffAll()}));var e},_turnOffAll:function(){var e,t,n,i,r,o,a;for(t=0,n=(i=$(".checkbox-subscribe:checked")).length;t<n;t++)e=i[t],$(e).prop("checked",!1);for(a in o=[],r=this.subscribers)r[a],this._unloadSubscriber(a),o.push(this._deselectApplicant(a));return o},_initResizeHandler:function(){return $(window).on("load",function(){var e,t,n;return e=$("#resizable1"),n=$("#resizable2"),t=$(".js-wide-screen-wrap"),$(window).resize(function(){return $(window).width()<2e3?($(e).css({width:"100%",height:"50%"}),$(n).css({width:"100%",height:"50%"})):($(e).css({width:"50%",height:"100%"}),$(n).css({width:"50%",height:"100%"}))}),$(e).resizable().on("resize",function(i){return i.stopPropagation(),$(window).width()<2e3?($(e).width($(t).width()),$(n).width($(t).width()),$(n).height($(t).height()-$(e).height())):($(e).height($(t).height()),$(n).height($(t).height()),$(n).width($(t).width()-$(e).width()))})})},_initSearchBar:function(){return $(document).on("keypress",".js-proctor-search",(e=this,function(t){return e._searchHandler(t,"_searchProctorTestee",e)}));var e},_initTesteeDropdown:function(){return $(document).on("click",".dropdown-item",function(){return $(this).parents(".dropdown").find(".dropdown-toggle").dropdown("toggle")}),$(document).on("show.bs.dropdown",".dropdown",function(){var e;if(!$(this).hasClass("show"))return e=$(this).closest("li").data("token-id"),$.get("/tryouts/"+Hera.proctors.testId+"/proctor_testee_dropdown",{token_id:e}),$(this).find(".dropdown-menu").html('<div style="text-align: center;"><span class="spinner"><span class="bounce1"></span><span class="bounce2"></span><span class="bounce3"></span></span></div>')})},_initNavbarHandler:function(){var e;return $(document).on("click",".nav-link",function(e){return $(".sidebar-body .nav-link").removeClass("active"),$(e.currentTarget).addClass("active")}),$(document).on("click",".sidebar-menu__item-link",function(e){return $(".sidebar-menu__item-link").removeClass("active"),$(e.currentTarget).addClass("active")}),e=this,$("#nav-testees").click(function(t){var n;return t.preventDefault(),n=$(".item-subscriber:not(.hidden)").map(function(){return $(this).data("tokenId")}).get(),e.updateTestees(1,n)})},_initTooltipHideHandler:function(){return $(document).on("click",'[data-toggle="tooltip"]',function(e){return $(e.currentTarget).tooltip("hide")}),$(document).on("mouseleave",'[data-toggle="tooltip"]',function(e){return $(e.currentTarget).tooltip("hide")})},updateLocalStorage:function(e,t){var n,i,r;if((r=JSON.parse(localStorage.getItem("rotateTokenData")))&&(n=r.findIndex(function(t){return t.token===e}))>-1){for(i in t)r[n][i]=t[i];return localStorage.setItem("rotateTokenData",JSON.stringify(r))}}}}.call(this),function(){Hera.records={isDeviceConnected:!1,isFullScreen:null,isWsConnected:!1,initRecord:function(){var e;return this._initTestTokenChannel(),$("#go-to-external").on("click",function(){return $.ajax({url:$(this).attr("href"),method:"GET"}).done(function(){return $(".js-external-form").submit()}),!1}),$(".js-record-step-wrapper").popover("disable"),$(".js-load-failed").on("click",function(){return window.location.reload()}),window.onbeforeunload=(e=this,function(){null!=e.openViduScreen&&e.openViduScreen.unloadHandler(),null!=e.openViduCam&&e.openViduCam.unloadHandler()}),$(".js-main-section").on("remove",function(e){return function(){if(null!=e.openViduScreen&&e.openViduScreen.unloadHandler(),null!=e.openViduCam)return e.openViduCam.unloadHandler()}}(this)),this._allocateOpenviduInstance(),this._initWizardButtonTimer()},_initTestTokenChannel:function(){var e,t;return $("#ws-connection-status").removeClass("hidden"),e=$(".js-record-setting-section").data("token"),t=$(".js-web-notification").data("usingWebNotification"),this.channel=new Hera.channel.TestToken({token:e,usingWebNotification:t,page:"record_page"})},_allocateOpenviduInstance:function(e){var t;{if(null==e&&(e=18),!(e<0))return $.ajax({type:"POST",url:"/api/openvidus/take_instance",data:{token:$(".js-record-setting-section").data("token")}}).done((t=this,function(){return $(".js-loading-section").addClass("hidden"),$(".js-main-section").removeClass("hidden"),t._initRecord()})).fail(function(t){return function(n){if(404===n.status)return e-=1,setTimeout(function(){return t._allocateOpenviduInstance(e)},1e4);t._openviduInstanceAllocationFailed()}}(this));this._openviduInstanceAllocationFailed()}},_initRecord:function(){if("cam_and_mobile"===$(".js-cam-mode").data("camMode"))return this._selectDevicesHandler(),this._startRecord()},_initSetCamMode:function(){var e;return e=$(".js-publisher").data("camMode"),$(".js-cam-mode-form").addClass("hidden"),$(".js-selected-cam-mode").text(I18n.t("record.selected_cam_mode."+e)),"cam"===e&&this._selectDevicesHandler(),this._startRecord()},_initOpenviduScreen:function(){var e;if(null==this.openViduScreen)return e=$(".js-publisher").data(),this.openViduScreen=new Hera.openVidu.screen(e),this.openViduScreen.channel=this.channel},_initOpenviduCam:function(){var e;if(null==this.openViduCam)return e=$(".js-publisher").data(),this.openViduCam=new Hera.openVidu.cam(e),this.openViduCam.channel=this.channel,this.openViduCam.checkCamera()},_initOpenviduMobile:function(){var e,t;if(null==this.openViduMobile)return e=$(".js-publisher").data(),this.openViduMobile=new Hera.openVidu.mobile(e),this.openViduMobile.channel=new Hera.channel.TestToken({token:e.token,page:"mobile_record_page"}),this.openViduMobile.publish(),window.onbeforeunload=(t=this,function(){null!=t.openViduMobile&&t.openViduMobile.unloadHandler()}),window.onunload=function(e){return function(){null!=e.openViduMobile&&e.openViduMobile.unloadHandler()}}(this),window.onpagehide=function(e){return function(){null!=e.openViduMobile&&e.openViduMobile.unloadHandler()}}(this),window.onvisibilitychange=function(e){return function(){"hidden"===document.visibilityState&&e.openViduMobile.unloadHandler()}}(this)},_mobileConnectedHandler:function(){var e;return e=$(".js-publisher").data(),this.openViduMobile=new Hera.openVidu.mobile(e)},_openviduInstanceAllocationFailed:function(){return $(".js-load-failed").removeClass("hidden"),$(".js-load-progress").addClass("hidden"),Rollbar.error("Openvidu instance allocation failed")},_initWizardButtonTimer:function(){var e,t;if(e=$(".btn-before-start"),t=$(".js-main-section").data("testType"),e.length>0&&"Assignment"===t)return Hera.assignmentTests.initWizardButtonTimer(e)},changeConnectionStatus:function(e,t){return $(".screen-container."+e).removeClass("connected").removeClass("disconnected").removeClass("denied").removeClass("connecting"),"connected"===t?($(".screen-container."+e).addClass("connected"),$(".wizard-steps-device ."+e).removeClass("disconnected").addClass("connected")):"disconnected"===t?($(".screen-container."+e).addClass("disconnected"),$(".wizard-steps-device ."+e).removeClass("connected").addClass("disconnected")):"denied"===t?$(".screen-container."+e).addClass("denied"):"connecting"===t?$(".screen-container."+e).addClass("connecting"):void 0},_selectDevicesHandler:function(){var e,t,n;return t=$("#video-inputs"),e=$("#audio-inputs"),$("#select-devices-modal").on("hidden.bs.modal",function(){return t.empty(),e.empty(),document.querySelector("#selected-video-input").srcObject=void 0}),$(document).on("click",".js-btn-select-device",(n=this,function(){if($("#select-devices-modal").modal("hide"),null!=n.openViduCam)return n.openViduCam.replaceTrack(n.videoSource,n.audioSource)})),$(document).on("click","#select-devices",function(n){return function(){return $("#select-devices-modal").modal("show"),$(".video-status").addClass("hidden"),n._checkPermissions(t,e),n._getDevices(t,e).then(function(){return n._playVideo(t,e)}),t.change(function(){return n._playVideo(t,e)}),e.change(function(){return n._playVideo(t,e)})}}(this))},_checkPermissions:function(){var e;return navigator.permissions.query({name:"camera"}).then((e=this,function(t){return e.camPermission="granted"===t.state}))["catch"](function(e){return function(){return e.camPermission=!1}}(this)),navigator.permissions.query({name:"microphone"}).then(function(e){return function(t){return e.micPermission="granted"===t.state}}(this))["catch"](function(e){return function(){return e.micPermission=!1}}(this))},_playVideo:function(e,t){var n;if(this.camPermission&&this.camExist)return this.videoSource=e.find("option:selected").val(),this.audioSource=t.find("option:selected").val(),n={video:{deviceId:this.videoSource?{exact:this.videoSource}:void 0}},this.micPermission&&this.micExist&&(n.audio={deviceId:this.audioSource?{exact:this.audioSource}:void 0}),navigator.mediaDevices.getUserMedia(n).then(function(e){return document.querySelector("#selected-video-input").srcObject=e})},_getDevices:function(e,t){return navigator.mediaDevices.enumerateDevices().then((n=this,function(i){return n.camExist=!1,n.micExist=!1,i.forEach(function(i){var r;return"videoinput"===i.kind&&n.camPermission?(n.camExist=!0,r=$("<option>").attr("value",i.deviceId).text(i.label),i.deviceId===n.videoSource&&r.attr("selected","selected"),e.append(r)):"audioinput"===i.kind&&n.micPermission?(n.micExist=!0,r=$("<option>").attr("value",i.deviceId).text(i.label),i.deviceId===n.audioSource&&r.attr("selected","selected"),t.append(r)):void 0}),n.camPermission?0===e.find("option").length?(e.append($("<option>").text(I18n.t("record_guide.setting.webcam.select_device.option.camera_not_found"))),$("#no-video-input").removeClass("hidden")):$("#selected-video-input").removeClass("hidden"):(e.append($("<option>").text(I18n.t("record_guide.setting.webcam.select_device.option.camera_access_denied"))),$("#no-cam-permission").removeClass("hidden")),n.micPermission?0===t.find("option").length?t.append($("<option>").text(I18n.t("record_guide.setting.webcam.select_device.option.mic_not_found"))):void 0:t.append($("<option>").text(I18n.t("record_guide.setting.webcam.select_device.option.mic_access_denied")))}));var n},disconnectBySource:function(e){if("screen"===e){if(this.openViduScreen)return this.openViduScreen.disconnected()}else if("cam"===e){if(this.openViduCam)return this.openViduCam.disconnected()}else if("mobile"===e&&this.openViduMobile)return this.openViduMobile.disconnected()},_startRecord:function(){var e;if(e=$(".js-publisher").data().camMode,this._initOpenviduScreen(),"mobile"!==e&&this._initOpenviduCam(),"cam"!==e)return this._mobileConnectedHandler()},updateState:function(e){var t,n,i;return null==e&&(e={}),Object.assign(this,e),!1===this.isWsConnected?n=I18n.t("record.connection_guide.not_connected_ws_html"):!1===this.isFullScreen?n=I18n.t("record.connection_guide.not_full_screen_html"):!1===this.isDeviceConnected?n=I18n.t("record.connection_guide.not_connected_device"):(i=$(".wizard-steps-connect").data("status"),t=!0===$(".wizard-steps-connect").data("tryout")?I18n.t("tests.wizard.demo"):I18n.t("tests.wizard.start"),n=I18n.t("record.connection_completed."+i+"_html",{btn_label:t})),this.changeWizardGuide(n),this.changeRecordStepBtn(n)},changeWizardGuide:function(e){return $(".wizard-steps-guide").html(e)},changeRecordStepBtn:function(e){var t;return t=$(".js-record-step-wrapper"),!1===this.isWsConnected||!1===this.isFullScreen||!1===this.isDeviceConnected?(t.attr("data-content",e),t.addClass("disabled"),t.popover("enable")):(t.removeClass("disabled"),t.popover("disable"),t.popover("hide"))}}}.call(this),function(){}.call(this),function(){Hera.repositoryStats={repository:null,challengeableTypes:null,initShow:function(){return this._initProjectViewer()},initSidebarJs:function(){return $(document).off(".repository"),$(document).on("click.repository",".btn-analyze",function(){return $(this).attr("disabled",!0)}),this._initProjectViewer(),this.initCharts()},initCharts:function(){return google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(this.drawCharts)},drawCharts:function(){var e,t,n,i,r;for(r=[],n=0,i=(t=$(".repository-chart").toArray()).length;n<i;n++)e=t[n],r.push(Hera.repositoryStats.drawChart(e));return r},drawChart:function(e){var t,n,i,r,o,a,s,l;return o=(t=$(e)).data("labels"),l=t.data("values"),i=t.data("colors"),s=o.map(function(e,t){return[e,l[t]]}),new MutationObserver(function(){return $.each(t.find('path[stroke="#636363"]'),function(e,t){return $(t).attr("stroke","#FFF")}),$.each(t.find('circle[fill="#636363"]'),function(e,t){return $(t).attr("fill","#FFF")}),$.each(t.find('circle[fill="#9e9e9e"]'),function(e,t){return $(t).attr("fill","#5F7F90")})}).observe(e,{childList:!0,subtree:!0}),n=$(".modal-repository-stats .modal-content").css("background-color"),a={legend:{position:"labeled",textStyle:{color:"white",fontSize:12}},pieSliceText:"none",enableInteractivity:!1,width:t.width(),height:160,backgroundColor:n,sliceVisibilityThreshold:0,fontColor:12,pieHole:.2,chartArea:{width:"80%",height:"80%"},pieSliceBorderWidth:2,pieSliceBorderColor:n},i.length&&(a.slices=i),r=google.visualization.arrayToDataTable([["Label","Lines"]].concat(s)),new google.visualization.PieChart(e).draw(r,a)},_initProjectViewer:function(){var e;if(e=$(".project-viewer").data(),this.repository=e.repository,this.challengeableTypes=e.challengeableTypes,this._initFileTree(),this.setCodeLayout(),this._initAppRunButton(),this.challengeableTypes.includes("web"))return Hera.assignmentTokens.runHeroku()},initEditor:function(e){var t;return(t=Hera.editor.getOptions(e)).readOnly=!0,this.codeEditor=CodeMirror.fromTextArea($(".code-editor textarea")[0],t)},setCodeLayout:function(){if($(".repository-analyze").length>0?Split([".project-viewer-sidebar",".project-viewer-result",".repository-analyze"],{sizes:[20,50,30],minSize:0,gutterSize:12,direction:"horizontal",cursor:"ew-resize"}):Split([".project-viewer-sidebar",".project-viewer-result"],{sizes:[25,75],minSize:0,gutterSize:12,direction:"horizontal",cursor:"ew-resize"}),$(".nav-consoles").length)return Split([".open-files",".consoles"],{sizes:[50,50],minSize:0,gutterSize:12,direction:"vertical",cursor:"ns-resize"})},_initFileTree:function(){return $.getJSON("/git_repository/"+this.repository+"/tree",(e=this,function(t){return t.sort=function(e,t){return e=this.get_node(e),t=this.get_node(t),e.a_attr["data-blob"]===t.a_attr["data-blob"]?e.text>t.text?1:-1:e.a_attr["data-blob"]?1:-1},$(".list-files-tree").jstree(t),$(".list-files-tree").on("select_node.jstree",function(t,n){if($('[id="'+n.node.id+'_anchor"]').data("blob"))return e._updateFileViewer(n.node.text,$('[id="'+n.node.id+'_anchor"]').data("sha"))})}));var e},_updateFileViewer:function(e,t){return $.get("/git_repository/"+this.repository+"/blob_content/"+t,{filename:e})},_initAppRunButton:function(){if(this.challengeableTypes.includes("app"))return $(".js-btn-run").click(function(){var e,t;if($(".btn-run-app").html('<i class="inline-spinner"></i>'+$(".btn-run-app").html()),$(".btn-run-app").attr("disabled",!0),null!=(e=$(".applicants-sidebar").data("appRunPath")))return(t=window.open(e+"?tokenId="+$(".applicants-sidebar").data("testTokenId"),"App Player","width=1200, height=1000"))?t.focus():void 0})},disabledRepositoryBuildBtn:function(){return $("#repository-build").attr("disabled",!0),$(".toast-spinner").addClass("in")},enableRepositoryBuildBtn:function(){return $("#repository-build").attr("disabled",!1).text("\ub2e4\uc2dc \ube4c\ub4dc(Build)"),$(".toast-spinner").removeClass("in")}}}.call(this),function(){Hera.resume.Base=function(){function e(){this._initSectionList=["experience","project","education","foreign-language","activity","award","publication"],this._fieldNames={experience:"\uacbd\ub825",project:"\ud504\ub85c\uc81d\ud2b8",education:"\ud559\ub825","foreign-language":"\uc678\uad6d\uc5b4",activity:"\ud65c\ub3d9",award:"\uc218\uc0c1/\uc790\uaca9\uc99d",publication:"\ucd9c\ud310/\ub17c\ubb38/\ud2b9\ud5c8"},this._defaultLanguages=["\uc601\uc5b4","\uc911\uad6d\uc5b4","\uc77c\ubcf8\uc5b4"],this._monthPickerOptions={format:"YYYY-MM",viewMode:"months"},this._imageChanged=!1}return e.prototype.initForm=function(){var e,t,n,i,r,o,a,s,l;for(this._initIntroductionCounter(),i=0,o=(s=this._initSectionList).length;i<o;i++)n=s[i],this._initSectionAddButton(n);for(r=0,a=(l=this._initSectionList).length;r<a;r++)n=l[r],this._initSectionRemoveButton(n);return this._initOnDuration($(".fieldset--experience .form-group-wrap, .fieldset--activity .form-group-wrap")),this._initAddLanguageExamButton($(".fieldset--foreign-language .form-group-wrap")),this._initRemoveLanguageExamButton($(".fieldset--foreign-language .form-group-wrap")),e=$(".fieldset--project, .fieldset--experience"),this._initAddRoleButton(e),this._initRemoveRoleButton(e),this._initChangeRoleOrderButton(e),this._initTag(e),this._initTeamProjectDescritpion(),this._initForeignLanguageForm(),this._initToggleForm($(".fieldset--project")),t={format:"YYYY-MM-DD",maxDate:"2015-11-17",defaultDate:"1990-01-01",useCurrent:!1},this._initDateTimePicker($(".fieldset--personal"),".datepicker",t),this._initDateTimePicker($(".fieldset--education, .fieldset--experience, .fieldset--activity, .fieldset--award, .fieldset--publication"),".monthpicker",this._monthPickerOptions),this._initDurationLimit($(".fieldset--education, .fieldset--experience")),this._initImage(),this._initForm($(".resume__form")),this._initReset(),this._initSubmit(),this._initSaveButton(),this._initInputHandlers(),Hera.commons.focusFormError(),this._initResumeFileUploaderHandler(),this._initDateTimePickerRemove(),this._initSendForLaterHander(),this._initResumeTestToken()},e.prototype._initResumeTestToken=function(){return $(".js-resume-test-tokens").click(function(e){var t,n,i;return n="#"+(t=$($(e.currentTarget).parent().find("input"))).attr("id")+"_destroy",i=!0===t.is(":checked"),$(n).val(i)})},e.prototype._initForm=function(){return Hera.commons.initCheckboxOptionWithTextInput(),Hera.commons.initRadioOptionWithTextInput()},e.prototype._initReset=function(){return $("#reset_resume").click((e=this,function(){if(confirm("\uc774\ub825\uc11c\ub97c \ucd08\uae30\ud654 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \uc784\uc2dc \uc800\uc7a5\ub41c \ub0b4\uc6a9\uc740 \uc0ad\uc81c\ub429\ub2c8\ub2e4."))return e._loadOriginal(e._getResetUrl())}));var e},e.prototype._initSectionAddButton=function(e){return $("#add_"+e.replace("-","_")).click((t=this,function(){var n;if($(".fieldset--"+e+" .form-group-wrap").length,$(".fieldset--"+e+" .form-area .list-form-group-wraps").append(t._removeDisabled($("#hidden-"+e+"-card"))),n=$(".fieldset--"+e+" .form-group-wrap").last(),t._removeSectionEmtpyMessage(e),t._initSectionRemoveButton(e),t._resetOrderSection(e),t._initDateTimePicker(n,".monthpicker",t._monthPickerOptions),"foreign-language"===e&&(t._initAddLanguageExamButton(n),t._initForeignLanguageForm()),"project"===e&&(t._initToggleForm(n),t._initTeamProjectDescritpion()),"experience"!==e&&"activity"!==e||(t._initOnDuration(n),t._initDurationLimit(n)),"project"===e||"experience"===e)return t._initTag(n),t._initAddRoleButton(n),t._initRemoveRoleButton(n),t._initChangeRoleOrderButton(n)}));var t},e.prototype._initOnDuration=function(e){return $(e).find(".tgl-on-duration").click((t=this,function(e){var n;return n=$(e.currentTarget),t._toggleDuration(n)}));var t},e.prototype._initAddLanguageExamButton=function(e){return $(e).find(".btn_language_exam_add").click((t=this,function(e){var n;return(n=$("#hidden-foreign-language-card .row-language-exam").clone()).find("input").removeAttr("disabled"),$(e.currentTarget).before(n),t._resetLagnuageExamOrder(n),t._initRemoveLanguageExamButton(n)}));var t},e.prototype._initRemoveLanguageExamButton=function(e){return $(e).find(".btn-remove-language-exam").click((t=this,function(e){var n;if(e.preventDefault(),confirm("\uc815\ub9d0 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return n=$(e.currentTarget).closest(".form-language-exam.form-group"),$(e.currentTarget).closest(".row-language-exam").remove(),t._resetLagnuageExamOrder(n)}));var t},e.prototype._initAddRoleButton=function(e){return e.find(".btn_add_role").click((t=this,function(e){var n;return(n=$("#hidden-"+$(e.target).data("resource-name")+"-card .section-role").clone()).find("input, select, textarea").removeAttr("disabled"),$(e.currentTarget).closest(".form-role").find(".section-role:last-child").after(n),t._resetRoleOrder(n,!0),t._initRemoveRoleButton(n),t._initChangeRoleOrderButton(n),t._initDateTimePicker(n,".monthpicker",t._monthPickerOptions)}));var t},e.prototype._initRemoveRoleButton=function(e){return e.find(".btn-remove-role").click((t=this,function(e){var n;if(e.preventDefault(),confirm("\uc815\ub9d0 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return n=$(e.currentTarget).closest(".section-role"),$(e.currentTarget).closest(".section-role").remove(),t._resetRoleOrder(n)}));var t},e.prototype._initChangeRoleOrderButton=function(e){var t
;return e.find(".btn-up-role").click((t=this,function(e){var n;return(n=$(e.currentTarget).closest(".section-role")).prev().insertAfter(n),t._resetRoleOrder(n)})),e.find(".btn-down-role").click(function(e){return function(t){var n;return(n=$(t.currentTarget).closest(".section-role")).next().insertBefore(n),e._resetRoleOrder(n)}}(this))},e.prototype._initSectionRemoveButton=function(e){return $("."+e+"-remove").off("click"),$("."+e+"-remove").click((t=this,function(n){if(n.preventDefault(),confirm("\uc815\ub9d0 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return $(n.currentTarget).closest(".form-group-wrap").remove(),t._showSectionEmptyMessage(e),t._resetOrderSection(e)}));var t},e.prototype._initDurationLimit=function(e){var t,n,i,r,o;for(o=[],n=0,i=(r=[{firer:"start_at",opposite:"end_at",attribute:"minDate"},{firer:"end_at",opposite:"start_at",attribute:"maxDate"}]).length;n<i;n++)t=r[n],o.push(this._initDateLimit(e,t));return o},e.prototype._initDateLimit=function(e,t){var n,i,r,o,a,s,l;for(i=0,r=(s=e.find(".form-control.monthpicker."+t.firer)).length;i<r;i++)n=s[i],a=$(n),(o=a.closest(".input-group-wrapper").find(".form-control.monthpicker."+t.opposite)).datetimepicker(t.attribute,a.datetimepicker("date"));return e.find(".form-control.monthpicker."+t.firer).on("change.datetimepicker",(l=this,function(e){var n,i;if(null!=(i=(n=$(e.currentTarget)).val()))return i=moment(i,l._monthPickerOptions.format),o=$(e.currentTarget).closest(".input-group-wrapper").find(".form-control.monthpicker."+t.opposite),n.datetimepicker("date",i),o.datetimepicker(t.attribute,i)}))},e.prototype._initImage=function(){return $("#resume_image_attributes_file").change((e=this,function(t){var n,i;if(n=$(t.currentTarget).get(0),Hera.commons.validateFilesSize(n))return n.files.length&&n.files[0]?(e._imageChanged=!0,$(".profile-image-wrapper").addClass("hidden"),$("#spin").removeClass("hidden"),(i=new FileReader).onload=function(e){var t;return(t=new Image).src=i.result,t.onload=function(){return $("#resume_image_attributes_width").val(t.width),$("#resume_image_attributes_height").val(t.height),$("#resume_image_attributes_remote_file_url").val(""),$("#profile_image img").attr("src",e.target.result),$(".profile-image-wrapper").removeClass("hidden"),$("#spin").addClass("hidden")}},i.readAsDataURL(n.files[0])):void 0}));var e},e.prototype._initInputHandlers=function(){return $(document).on("keypress","input, select",function(e){var t,n;return 13!==e.keyCode||((n=(t=$(".needs-validation input,a,select,button,textarea").filter(":visible")).eq(t.index(this)+1)).length?n.focus():$(".needs-validation").submit(),!1)})},e.prototype._initDateTimePicker=function(e,t,n){return null==n.locale&&(n.locale=I18n.locale),e.find(t).each(function(e,t){var i;return null!=(i=$(t).val())&&(n.date=moment(i,n.format)),$(t).datetimepicker(n),$(t).val(i)})},e.prototype._resetLagnuageExamOrder=function(e){var t,n,i;return t=$(e).closest(".form-group-wrap"),n=t.data("cardIndex"),t.find(".form-language-exam.form-group .row-language-exam").each((i=this,function(e,t){return $(t).find("input").each(function(t,r){return i._replaceSubAttributeOrder(r,"id",n,e),i._replaceSubAttributeOrder(r,"name",n,e)}),$(t).find("label, span").each(function(t,r){return i._replaceSubAttributeOrder(r,"for",n,e)})}))},e.prototype._resetRoleOrder=function(e,t){var n,i,r;return null==t&&(t=!1),n=e.closest(".form-group-wrap"),i=n.data("cardIndex"),n.find(".form-role .section-role").each((r=this,function(e,n){return $(n).find("input").each(function(n,o){var a;if(r._replaceSubAttributeOrder(o,"name",i,e),t)return a=r._uniqId(),r._replaceSubAttributeOrder(o,"id",i,a),r._replaceSubAttributeOrder(o,"data-target",i,a)}),$(n).find("select").each(function(t,n){return r._replaceSubAttributeOrder(n,"name",i,e)}),$(n).find("textarea").each(function(t,n){return r._replaceSubAttributeOrder(n,"id",i,e),r._replaceSubAttributeOrder(n,"name",i,e)})}))},e.prototype._resetOrderSection=function(e){return $(".fieldset--"+e+" .form-group-wrap").each((t=this,function(n,i){return $(i).find(".form-group-title").text(t._fieldNames[e]+" "+(n+1)),$(i).attr("data-card-index",n),$(i).find("input").each(function(e,i){return t._replaceAttributeOrder(i,"id",n),t._replaceAttributeOrder(i,"name",n),t._replaceAttributeOrder(i,"data-target",n)}),$(i).find("select, textarea").each(function(e,i){return t._replaceAttributeOrder(i,"id",n),t._replaceAttributeOrder(i,"name",n)}),$(i).find("label").each(function(e,i){if(t._replaceAttributeOrder(i,"for",n),"collapse"===$(i).data("toggle"))return t._replaceAttributeOrder(i,"aria-controls",n),t._replaceAttributeOrder(i,"href",n)}),$(i).find("a[data-toggle=collapse]").each(function(e,i){return t._replaceAttributeOrder(i,"href",n)}),$(i).find("div.collapse").each(function(e,i){return t._replaceAttributeOrder(i,"id",n)}),"experience"===e||"project"===e?t._resetRoleOrder($(i).children()):"foreign-language"===e?t._resetLagnuageExamOrder($(i).children()):void 0}));var t},e.prototype._checkValidity=function(){var e,t,n,i,r,o;return(n=$(".needs-validation")).addClass("was-validated"),i=n[0].checkValidity(),r=!$(".form-profile-image").hasClass("form-required")||this._validateProfileImage(),o=!$(".form-project-repository.form-group").hasClass("form-required")||this._validateProjectRepository(),t=!$("#resume_email").length||this._validateAllowedDomain(),e=!$(".form-custom-select").hasClass("form-required")||this._validateCustomCheckbox(),i&&(o&&t&&e&&r)},e.prototype._validateProjectRepository=function(){var e,t;return e=!1,$(".inputs-project-repository input:enabled[type=text]").each(function(t,n){var i;return i=$(n).val(),e||(e=!!i)}),e?$(".inputs-project-repository").removeClass("has-error"):($(".inputs-project-repository").addClass("has-error"),$(".inputs-project-repository input:enabled[type=text]").keyup((t=this,function(){return t._validateProjectRepository()}))),e},e.prototype._validateProfileImage=function(){var e;return(e=$(".form-profile-image #resume_image_attributes_file").get(0).files.length||$(".form-profile-image #resume_image_attributes_remote_file_url").val().length)?($(".form-profile-image").removeClass("has-error"),$(".form-profile-image .invalid-feedback").hide()):($(".form-profile-image").addClass("has-error"),$(".form-profile-image .invalid-feedback").show()),e},e.prototype._validateAllowedDomain=function(){return!0},e.prototype._validateCustomCheckbox=function(){var e,t,n,i,r;for(e=!0,i=0,r=(n=$(".form-custom-select")).length;i<r;i++)t=n[i],$(t).find("input:checked").length>0?$(t).removeClass("has-error"):(e=!1,$(t).addClass("has-error"));return e},e.prototype._initSaveButton=function(){return $("#save-resume").click((e=this,function(){return e._saveResume()}));var e},e.prototype._saveResume=function(e){var t,n,i;return null==e&&(e=Function()),(n=$("#status_message")).text("\ubcc0\uacbd\uc0ac\ud56d \uc800\uc7a5\uc911..."),t=$("#resume_form").data("resumeId"),$.ajax({method:"PUT",url:"/resumes/"+t,data:this._buildResumeParams(),contentType:!1,processData:!1}).done((i=this,function(t){return n.text(t.message),i._imageChanged=!1,e()}))},e.prototype._buildResumeParams=function(){var e,t,n,i,r;for(e=new FormData,t=0,n=(r=$("#resume_form").serializeArray()).length;t<n;t++)(-1===(i=r[t]).name.indexOf("image_attributes")||this._imageChanged)&&e.append(i.name,i.value);return this._imageChanged&&e.append("resume[image_attributes][file]",$("#resume_image_attributes_file").get(0).files[0]),e},e.prototype._toggleDuration=function(e){var t,n,i,r,o;return t=e.closest(".form-row").find(".duration-field .end_at"),r=e.closest(".form-row").find(".duration-field .start_at"),o=!t.attr("disabled"),e.prop("checked",o),t.attr("disabled",o),i=r.val()||!1,t.datetimepicker("minDate",i),n=this._monthPickerOptions.maxDate,r.datetimepicker("maxDate",n),t.closest(".input-group-end-at").collapse("toggle")},e.prototype._removeDisabled=function(e){var t;return(t=e.clone()).find("input").removeAttr("disabled"),t.find("textarea").removeAttr("disabled"),t.find("select").removeAttr("disabled"),t.html()},e.prototype._replaceAttributeOrder=function(e,t,n){var i;if(null!=(i=$(e).attr(t)))return $(e).attr(t,i.replace(/-?[0-9]/g,n))},e.prototype._replaceSubAttributeOrder=function(e,t,n,i){var r,o;if(null!=(r=$(e).attr(t)))return r=r.replace(/-?[0-9]/g,n),o=0,r=r.replace(/-?[0-9]/g,function(e){return 2===++o?i:e}),$(e).attr(t,r)},e.prototype._showErrors=function(e){var t;if(e.preventDefault(),e.stopPropagation(),null!=(t=document.querySelectorAll("input:invalid, select:invalid, textarea:invalid, .has-error").item(0)))return Hera.commons.scrollToElement($(t),{with_top_margin:!0})},e.prototype._initTag=function(e){return Hera.tags.initTags(e)},e.prototype._initToggleForm=function(e){return e.find(".checkbox-toggle label[data-toggle=collapse]").on("click",function(){return $(this).parent().find($("input")).trigger("click")}),e.find($(".collapse.toggle-collapse")).on("show.bs.collapse hide.bs.collapse",function(){var e;return e=$("label[aria-controls='"+$(this).attr("id")+"'").attr("for"),$("#"+e).prop("disabled",!0)}).on("shown.bs.collapse hidden.bs.collapse",function(){var e;return e=$("label[aria-controls='"+$(this).attr("id")+"'").attr("for"),$("#"+e).prop("disabled",!1)}),e.find(".checkbox-toggle label[data-toggle=collapse]").each(function(e,t){if($(t).data("deployed")&&!$(t).parent().find("input").is(":checked"))return $(t).trigger("click")})},e.prototype._removeSectionEmtpyMessage=function(e){if($(".fieldset--"+e+" .form-group-wrap").length>0)return $(".fieldset--"+e).find(".form-group-empty").addClass("hidden"),$(".fieldset--"+e).find('.form-group-empty input[type="hidden"]').attr("disabled",!0),$(".btn-done").removeAttr("disabled")},e.prototype._showSectionEmptyMessage=function(e){if(0===$(".fieldset--"+e+" .form-group-wrap").length)return $(".fieldset--"+e).find(".form-group-empty").removeClass("hidden"),$(".fieldset--"+e).find('.form-group-empty input[type="hidden"]').removeAttr("disabled"),$(".btn-done").removeAttr("disabled")},e.prototype._initTeamProjectDescritpion=function(){return $(".team-type").change(function(e){var t;return t=$(e.target).closest(".form-row").find(".team-description"),"\uac1c\uc778"===$(e.target).val()?(t.val($(e.target).val()),t.attr("disabled","disabled"),t.closest(".col-item").addClass("hidden")):(t.val(null),t.removeAttr("disabled"),t.closest(".col-item").removeClass("hidden"))})},e.prototype._initForeignLanguageForm=function(){return $(".select-foreign-languages").change((e=this,function(t){var n,i;return n=(i=$(t.target)).closest(".form-row").find(".extra-foreign-language-name"),e._defaultLanguages.includes(i.val())?(n.closest(".form-group-wrapper").addClass("hidden"),n.attr("disabled","disabled"),n.val(i.val())):(n.closest(".form-group-wrapper").removeClass("hidden"),n.removeAttr("disabled"),n.val(null))}));var e},e.prototype._initDateTimePickerRemove=function(){return $(document).on("click",".ic-clear",function(e){return e.preventDefault(),$(e.currentTarget).closest(".col-date").find(".datetimepicker-input").val(null)})},e.prototype._initResumeFileUploaderHandler=function(){return $("#resume_resume_attachment_attributes_file").on("change",function(e){var t,n;if(null!=$(e.target).val()){if(n=$(e.target).get(0),!Hera.commons.validateFilesSize(n,30))return;return t=$(e.target).val().split("\\").slice(-1)[0],$("h6.attachment-info .attachment-filename").html(t),$("#remove-attachemt-button").removeClass("hidden"),$("#resume_resume_attachment_attributes__destroy").val(!1)}}),$("#remove-attachemt-button").click(function(){if(confirm("\uc815\ub9d0 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return $("#resume_resume_attachment_attributes_file").val(null),$("h6.attachment-info .attachment-filename").html("\ucca8\ubd80\ub41c \ud30c\uc77c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),$("#remove-attachemt-button").addClass("hidden"),$("#resume_resume_attachment_attributes__destroy").val(!0)})},e.prototype._initIntroductionCounter=function(){var e,t;if(e=$(".letter-count .current-count"),0!==(t=$("#resume_introduction")).length)return e.html(t.val().length),t.on("keyup",function(){var n;return n=t.val().length,e.html(n)})},e.prototype._initSendForLaterHander=function(){return $(document).on("click","#send-mail-button",function(e){return e.preventDefault(),$.ajax({url:"/resumes/send_resume_url",method:"put"}).done(function(e){return alert(e.message)}).fail(function(){return alert("\uba54\uc77c \ubc1c\uc1a1\uc2dc \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")})})},e.prototype._uniqId=function(){return Math.random().toString(36).substr(2,9).replace(/-?[0-9]/g,"")},e}()}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.resume.JobApplication=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype._initSubmit=function(){return $("button.btn-done").click((e=this,function(t){var n;return(n=e._checkValidity())?e._loadApplyModal():e._showErrors(t),n}));var e},n.prototype._getResetUrl=function(){var e,t,n,i;return e=$("input#resume_appliable_id").val(),t=$("input#resume_appliable_type").val(),i="/job_positions/"+e+"/job_applications/",i+=(n=$(".resume__form").data("id"))?n+"/reset":"reset",i+="?appliable_type="+t+"&appliable_id="+e},n.prototype._loadApplyModal=function(){var e;return e=$("input#resume_appliable_id").val(),$.get("/job_positions/"+e+"/job_applications/apply_confirm")},n}(Hera.resume.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.resume.Registration=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype._initSubmit=function(){return $("button.btn-done").click((e=this,function(t){var n;return(n=e._checkValidity())?e._loadApplyModal():e._showErrors(t),n}));var e},n.prototype._getResetUrl=function(){var e,t,n,i;return e=$("input#resume_appliable_id").val(),t=$("input#resume_appliable_type").val(),i="/competitions/"+e+"/registrations/",i+=(n=$(".resume__form").data("id"))?n+"/reset":"reset",i+="?appliable_type="+t+"&appliable_id="+e},n.prototype._loadApplyModal=function(){var e;return e=$("input#resume_appliable_id").val(),$.get("/competitions/"+e+"/registrations/apply_confirm")},n.prototype._validateAllowedDomain=function(){var e,t,n,i,r,o,a,s,l,c,u;if(n=(r=$("#resume_email")).val().split("@")[1],u=$("#resume_form").data("restrictedDomains"),t=$("#resume_form").data("allowedDomains"),(u.length||t.length)&&null==n)return null==$("#resume_email").attr("required");for(i=!0,o=0,s=u.length;o<s&&(c=u[o],i=-1===n.indexOf(c));o++);for(a=0,l=t.length;a<l&&(e=t[a],!(i=-1!==n.indexOf(e)));a++);return i||r.parent(".form-group").addClass("has-error"),i},n}(Hera.resume.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Hera.resume.Resume=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype._initSubmit=function(){return $(".needs-validation").submit((e=this,function(t){var n;return(n=e._checkValidity())||e._showErrors(t),n}));var e},n.prototype._getResetUrl=function(){var e,t,n,i;return e=$("input#resume_appliable_id").val(),t=$("input#resume_appliable_type").val(),i=(n=$(".resume__form").data("id"))?"/resumes/"+n+"/reset":"/resumes/reset",i+="?appliable_type="+t+"&appliable_id="+e},n}(Hera.resume.Base)}.call(this),function(){Hera.resumes={initIndex:function(){return this.initDropdownFilterHandler(),this.initNavigationHandler(),this.initCopyResumeButton()},initNew:function(){return this.initForm()},initCreate:function(){return this.initForm()},initEdit:function(){return this.initForm()},initUpdate:function(){return this.initForm()},initShow:function(){return this.initResumeShow()},initPreview:function(){return this.initResumeShow()},initPrint:function(){if(!$("#js-resume-display").data("skipDialog"))return window.print()},initResumeShow:function(){return this.initSkillButtons(),this.skillCheckTooltipHandler()},initForm:function(){return this.resumesForm=new Hera.resume.Resume,this.resumesForm.initForm()},initDropdownFilterHandler:function(){return $("#sort-filter").change((e=this,function(t){var n,i;return t.preventDefault(),i=$("#sort-filter option:selected").val(),n=$(".js-resumes-nav.active").data("applied"),e.getResumesList(i,n)}));var e},initNavigationHandler:function(){var e;return e=this,$(".js-resumes-nav").click(function(t){var n,i;return t.preventDefault(),i=$("#sort-filter option:selected").val(),n=$(this).data("applied"),e.getResumesList(i,n)})},initCopyResumeButton:function(){var e;return e=this,$(document).on("click",".js-copy-resume",function(t){var n,i;return t.preventDefault(),n=null,i=$(this).data("id"),$.post("resumes/"+i+"/duplicate").done(function(t){var i,r;return $(".js-resumes-nav").removeClass("active"),$(".js-resumes-nav[data-applied=false]").addClass("active"),r=$("#sort-filter option:selected").val(),i=$(".js-resumes-nav.active").data("applied"),n=t.copied_resume_id,e.getResumesList(r,i,n),Hera.utils.snackbar(t.message)}).fail(function(e){return Hera.utils.snackbar(e.responseJSON.message)})})},getResumesList:function(e,t,n){return null==n&&(n=null),$.get("resumes/list",{order:e,applied:t,copiedResumeId:n}).done(function(){return $(".resume-item[data-resume-id="+n+"]").addClass("highlight")}).always(function(){return $(".tooltip").remove()})},agreeAllPrivacyPolicy:function(){var e,t,n,i,r;for(r=[],e=0,i=(n=$(".privacy-agreement-box input")).length;e<i;e++)"agreed"===(t=n[e]).value?r.push(t.checked=!0):r.push(t.checked=!1);return r},initSkillButtons:function(){var e;return $(".list-stack button").hover((e=this,function(t){var n;return n=$(t.currentTarget).data("tagId"),e._highlightPartList(n)}),function(e){return function(){var t;if(t=$(".list-stack button.active").data("tagId"),$(".tag-list li").removeClass("highlight"),0!==$(".list-stack button.active").length)return e._highlightPartList(t)}}(this)),$(".list-stack button").click(function(e){return function(t){var n;return n=$(t.currentTarget).data("tagId"),0===$(".list-stack button.active").length?($(t.currentTarget).toggleClass("active"),e._highlightPartList(n)):$(t.currentTarget).get(0)===$(".list-stack button.active").get(0)?($(t.currentTarget).toggleClass("active"),$(".tag-list li").removeClass("highlight")):($(".list-stack button").removeClass("active"),$(t.currentTarget).toggleClass("active"),e._highlightPartList(n))}}(this))},_highlightPartList:function(e){return $(".tag-list li").removeClass("highlight"),$("li[data-tag-id="+e+"]").addClass("highlight")},init_import_modal:function(){return $("#modal-dialog .table-resumes .resume-selector").click(function(e){return e.preventDefault(),$(".resume-item").removeClass("selected"),$(this).parents(".resume-item").addClass("selected"),$("#modal-dialog button.btn-next").removeAttr("disabled")}),$("#modal-dialog button.btn-next").click(function(){var e,t;return e=$(this).data("url"),t=$("#modal-dialog .selected").data("resumeId"),$.ajax({url:e,data:{source_resume_id:t}})})},skillCheckTooltipHandler:function(){return $(".js-skill-check").click(function(){return $(this).popover("hide")})}}}.call(this),function(){Hera.root={initIndex:function(){return Hera.commons.initFlashes(),Hera.commons.keepDisableSubmitOnSuccess(),this.initTopBannerHandler()},initBusiness:function(){return Hera.commons.initContactBtn()},initTopBannerHandler:function(){return $(".btn-close-top-banner").click(function(){return Cookies.set("show_top_banner",!1,{expires:30})})}}}.call(this),$.fn.select2.amd.define("JobPositionCustomSelectionAdapter",["select2/utils","select2/selection/multiple","select2/selection/placeholder","select2/selection/eventRelay","select2/selection/search"],function(e,t,n,i,r){var o=e.Decorate(t,n);return o=e.Decorate(o,r),(o=e.Decorate(o,i)).prototype.render=function(){var e=$('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list"/></li>');this.$searchContainer=e,this.$search=e.find("input"),this.cycleStage="init";var n=t.prototype.render.call(this);return this._transferTabIndex(),n},o.prototype.selectionContainer=function(){return $('<li class="selected-stack-item select2-selection__choice" ><span class="select2-selection__choice__remove btn-delete"><svg class="ic-14"><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-delete-14"/></svg></span></li>')},o.prototype.resetSearch=function(e){this.$search.attr("placeholder",e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch()},o.prototype.appendSearchContainer=function(){this.resetSearch(""),"update"==this.cycleStage&&this.$search.focus()},o.prototype.updateOptionTags=function(e){$(".selected-stack-search-wrap option[value='"+e+"']").attr("data-select2-tag","true")},o.prototype.update=function(t){this.clear(),0===t.length&&this.resetSearch(this.display(t,this.placeholder));for(var n=[],i=this,r=[],o=0;o<t.length;o++){var a=t[o];if(r.indexOf(a.text)<0){r.push(a.text),i.updateOptionTags(a.text);var s=i.selectionContainer(),l=i.display(a,s);s.prepend('<span class="stack">'+l+"</span>"),s.prop("title",a.text),s.data("data",a),n.push(s)}}var c=i.$selection.find(".select2-selection__rendered");e.appendMany(c,n),i.appendSearchContainer(),i.cycleStage="update"},o}),$.fn.select2.amd.define("CustomSelectionAdapter",["select2/utils","select2/selection/multiple","select2/selection/placeholder","select2/selection/eventRelay","select2/selection/search"],function(e,t,n,i,r){var o=e.Decorate(t,n);return o=e.Decorate(o,r),(o=e.Decorate(o,i)).prototype.render=function(){var e=$('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" placeholder="'+this.placeholder+'"/></li>');this.$searchContainer=e,this.$search=e.find("input"),this.cycleStage="init";var n=t.prototype.render.call(this);return this._transferTabIndex(),n},o.prototype.selectionContainer=function(){return $('<li class="selected-stack-item select2-selection__choice" ><span class="select2-selection__choice__remove btn-delete"><svg class="ic-14"><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-delete-14"/></svg></span></li>')},o.prototype.resetSearch=function(e){this.$search.attr("placeholder",e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch()},o.prototype.appendSearchContainer=function(){this.resetSearch(""),"update"==this.cycleStage&&this.$search.focus()},o.prototype.updateOptionTags=function(e){$(".selected-stack-search-wrap option[value='"+e.id+"']").attr("data-select2-tag","true")},o.prototype.update=function(t){this.clear(),0===t.length&&this.resetSearch(this.display(t,this.placeholder));for(var n=[],i=this,r=[],o=0;o<t.length;o++){var a=t[o];if(r.indexOf(a)<0){r.push(a),i.updateOptionTags(a);var s=i.selectionContainer();s.prepend('<span class="stack">'+a.text+"</span>"),s.attr("data-tag-id",a.id),s.data("data",a),n.push(s)}}var l=i.$selection.find(".select2-selection__rendered");e.appendMany(l,n),i.appendSearchContainer(),i.cycleStage="update"},o}),$.fn.select2.amd.define("CustomVueDataAdapter",["select2/utils","select2/data/ajax","select2/data/minimumInputLength"],function(e,t,n){var i=e.Decorate(t,n);return i.prototype.select=function(e){var t=this;e.selected=!0;var n=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===n.length&&(n=this.option(e),this.addOptions(n)),this.current(function(n){var i=[];(e=[e]).push.apply(e,n);for(var r=0;r<e.length;r++){var o=e[r].id.toString();-1===$.inArray(o,i)&&i.push(o)}t.$element.val(i),t.$element.trigger("change")})},i}),$.fn.select2.amd.define("CustomVueSelectionAdapter",["select2/utils","select2/selection/multiple","select2/selection/placeholder","select2/selection/eventRelay","select2/selection/search"],function(e,t,n,i,r){var o=e.Decorate(t,n);return o=e.Decorate(o,r),(o=e.Decorate(o,i)).prototype.selectionContainer=function(){return $('<li class="selected-stack-item select2-selection__choice" ><span class="select2-selection__choice__remove btn-delete"><svg class="ic-14"><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-delete-14"/></svg></span></li>')},o.prototype.update=function(t){var n=this,i=n.$search[0]==document.activeElement;if(n.$search.attr("placeholder",""),n.clear(),t.length){for(var r=[],o=0;o<t.length;o++){var a=t[o],s=n.selectionContainer(),l=n.display(a,s);s.prepend(l),s.data("data",a),r.push(s)}e.appendMany(n.$selection.find(".select2-selection__rendered"),r)}else n.$search.attr("placeholder",n.options.get("placeholder"));n.$selection.find(".select2-selection__rendered").append(n.$searchContainer),n.resizeSearch(),i&&n.$search.focus()},o}),function(){Hera.share={initHandlers:function(){var e;return this._initKakaoHandler(),$(".fb-share").click(function(e){var t;return e.preventDefault(),t=$(e.currentTarget).data("url"),$(e.currentTarget).blur(),window.open("https://www.facebook.com/sharer/sharer.php?u="+t,"pop","width=600, height=400, scrollbars=no")}),$(".twitter-share").click((e=this,function(t){var n,i;return t.preventDefault(),i=$(t.currentTarget).data("url"),n=$(t.currentTarget).data("text"),e.twitter(n,i)})),$(".naver-share").click(function(e){return function(t){var n,i;return t.preventDefault(),i=$(t.currentTarget).data("url"),n=$(t.currentTarget).data("text"),e.naver(n,i)}}(this)),$(document).on("click",".copy-link",function(e){return function(t){var n;return t.preventDefault(),n=$(t.currentTarget).data("url"),e.copyLink(n)}}(this))},_initKakaoHandler:function(){var e,t,n,i;if(0!==(e=$(".kakao-share")).length)return n=e.data("title"),i=e.data("url"),t=e.data("image-url"),Kakao.Link.createDefaultButton({container:".kakao-share",objectType:"feed",content:{title:n,imageUrl:t,link:{mobileWebUrl:i,webUrl:i}},buttons:[{title:"\uc9c0\uc6d0\ud558\ub7ec \uac00\uae30",link:{mobileWebUrl:i,webUrl:i}}]})},twitter:function(e,t){var n;return n=$.param({url:t,text:e}),window.open("https://twitter.com/intent/tweet?"+n,"share-helloworld","left=200,top=100,width=550,height=420,toolbar=no,status=no")},naver:function(e,t){return window.open("http://share.naver.com/web/shareView.nhn?url="+encodeURI(encodeURIComponent(t))+"&title="+encodeURI(e))},copyLink:function(e){var t,n;return n=$("<input>"),$("body").append(n),n.val(e).select(),document.execCommand("copy"),t=e.includes("token")?"copied_token_link":"copied",Hera.utils.snackbar(I18n.t(t)),n.remove()},getQueryParams:function(){var e;return e=window.location.search.substring(1),new URLSearchParams(e)}}}.call(this),function(){Hera.skillChecks={initIndex:function(){var e;return $(".skill-check-chart").each((e=this,function(t,n){return e.rendeScoreDistribution($(n))})),Hera.commons.keepDisableSubmitOnSuccess()},initShow:function(){var e,t;return this.initFinishButtonHandlers(),e=$(".challenge-content").data(),t=e.challengeableType,this.challengeable=function(){switch(t){case"algorithm":return new Hera.skillCheck.Algorithm(e)}}()},initResult:function(){return $("#badge-modal-dialog").modal("show")},initFinishButtonHandlers:function(){return $("#btn-finish-test").hover(function(){return $(this).popover("show")}),$("#btn-finish-test").click((e=this,function(t){var n;return n=$(t.target).data("url"),e.challengeable&&e.challengeable.saveTemporaryCode(),$.get(n)}));var e},rendeScoreDistribution:function(e){var t,n,i,r,o,a;return a=e.data("score-distribution")||{},n=e.data("finished-count")||0,i=[0,1,2,3,4,5,6,7,8,9,10].map(function(e){return 10*e}),t=function(){var e,t,s;for(s=[],e=0,t=i.length;e<t;e++)o=i[e],0===n?s.push(0):(r=a[o.toFixed(1)]||0,s.push(r/n*100));return s}(),new Chart(e,{maintainAspectRatio:!1,type:"bar",data:{labels:i,datasets:[{label:"\uc804\ubd80 \ubd84\ud3ec",data:t,backgroundColor:"#0078FF",borderWidth:0,barThickness:13}]},options:{responsive:!0,legend:{display:!1},tooltips:{enabled:!1},title:{fontSize:10,fontColor:"#98A8B9"},scales:{yAxes:[{ticks:{stepSize:20,suggestedMax:100,beginAtZero:!0,fontColor:"#B2C0CC",callback:function(e){return e+"%"}},gridLines:{color:"#E9ECF3",zeroLineColor:"#E9ECF3",drawBorder:!1}}],xAxes:[{ticks:{fontColor:"#263747"},gridLines:{display:!1}}]},layout:{padding:{left:0,right:0,top:0,bottom:0}}}})},initInterviewView:function(){return this.challengeableId=$(".categories__nav-tabs li > a.active").data("challengeable-id"),this.challengeableType=$(".categories__nav-tabs li > a.active").data("type"),this.skillCheckId=$(".tab-content.container").data("skill-check-id"),this.initChallengeTab(),this.initSources(),this.initSubmissionHandlers()},initChallengeTab:function(e){return null==e&&(e=!0),$('a[data-toggle="tab"][data-require-details="true"]').on("shown.bs.tab",(t=this,function(){if(t.challengeableId=$(".categories__nav-tabs li > a.active").data("challengeable-id"),t.challengeableType=$(".categories__nav-tabs li > a.active").data("type"),e)return t.initSources()}));var t},initSources:function(){var e,t,n,i,r,o,a,s,l,c,u,d,h,p;if((e=$("#"+this.challengeableType+"-"+this.challengeableId+" .panel-source")).find("ul.nav-submissions > li").addClass("hidden"),e.find(".all-submissions .tab-content").children().length>0){for(s=(h=e.find("ul.nav-submissions")).find("li:last > a"),r=h.find("li:first > a"),t=h.find("li > a.active"),c=12,i=Math.round(parseInt(t.data("index"))/c),parseInt(t.data("index"))-c*i>0&&(i+=1),d=c*(i-1),n=c*i-1,o=a=0,l=(u=e.find("ul.nav-submissions > li")).length;a<l;o=++a)p=u[o],o>=d&&o<=n&&$(p).removeClass("hidden");if(t.data("index")===r.data("index")&&e.find(".prev-submission").addClass("disabled"),t.data("index")>r.data("index")&&e.find(".prev-submission").removeClass("disabled"),t.data("index")===s.data("index")&&e.find(".next-submission").addClass("disabled"),t.data("index")<s.data("index"))return e.find(".next-submission").removeClass("disabled")}},initSubmissionHandlers:function(){var e;return $(document).on("click",".next-submission",(e=this,function(){return e.moveActiveSubmission("next")})),$(document).on("click",".prev-submission",function(e){return function(){return e.moveActiveSubmission("prev")}}(this)),$(document).on("click","ul.nav-submissions li",function(){return Hera.skillChecks.handleSubmission($(this))})},handleSubmission:function(e){var t,n;return(n=e.closest("ul.nav-submissions")).find("a").removeClass("active"),(t=e.find("a")).addClass("active"),this.showSource(t),this.displaySubmissionArrow(n,t)},showSource:function(e){var t,n,i,r;return i=(t=e.data()).submissionType,n=t.submissionId,(r=$("#"+i+"_"+n)).data("loaded")?(r.closest(".all-submissions").find(".tab-pane").removeClass("active"),r.addClass("active")):$.get("/skill_checks/"+this.skillCheckId+"/source.js",{submission_type:i,submission_id:n})},displaySubmissionArrow:function(e,t){var n,i;if(i=e.find("li:last a").data("index"),n=e.find("li:first a").data("index"),t.data("index")===i&&$(".next-submission").addClass("disabled"),t.data("index")<i&&$(".next-submission").removeClass("disabled"),t.data("index")===n&&$(".prev-submission").addClass("disabled"),t.data("index")>n)return $(".prev-submission").removeClass("disabled")},moveActiveSubmission:function(e){var t,n,i,r,o,a;return(n=(r=(i=$("#"+this.challengeableType+"-"+this.challengeableId)).find("ul.nav-submissions")).find("li > a.active")).removeClass("active"),t=n.data("index"),"prev"===e?(a=parseInt(t)-1,n.hasClass("restart")&&(a-=1),n=this.getSubmissionByIndex(i,a)):"next"===e&&(o=parseInt(t)+1,n.hasClass("restart")&&(o+=1),n=this.getSubmissionByIndex(i,o)),this.showSource(n),n.addClass("active"),this.displaySubmissionArrow(r,n),this.initSources()},getSubmissionByIndex:function(e,t){return e.find("a[data-index='"+t+"']")}}}.call(this),function(){}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty
;Hera.solvable.Lesson=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.maxChallengeables=1}return e(n,t),n.prototype.initHandlers=function(e){var t,i,r,o,a,s;for(this._initInputHandlers(),t=0,r=(a=["algorithm","sql","quiz","web_frontend","essay"]).length;t<r;t++)e=a[t],this._initChallengeableListHandlers(e);for(this._initChallengeableTab(),i=0,o=(s=["algorithm","sql","quiz","web_frontend","essay","web","app","data_science","api","machine_learning"]).length;i<o;i++)e=s[i],this._initLessonSelectRule(e);return n.__super__.initHandlers.apply(this,arguments)},n.prototype._initLessonSelectRule=function(e){return $(document).on("click",".icon-add-"+e,function(){if("quiz"!==e)return $("#selected-"+pluralize(e)).find("li").each(function(e,t){return $(t).find(".remove-icon").first().trigger("click")})})},n.prototype._initChallengeableTab=function(){return $(document).on("click",".nav-challenges li",(e=this,function(){return e._updateSelectedHiddenForm(e._getSelectedTab())}));var e},n.prototype._removeItemHandler=function(e,t){var i;return n.__super__._removeItemHandler.apply(this,arguments),i=$(e.currentTarget).data(),this._removeItemFromSelectedList(i.challengeableId,"challengeable"),this._removeItemFromSelectedList(i.challengeableId,t),this._updateSelectedHiddenForm(t)},n.prototype._getSelectedChallengeableIds=function(e){var t,n,i,r,o;for(null==e&&(e=""),o=[],n=0,i=(r=$("#selected-"+pluralize(this._getSelectedTab())+" li")).length;n<i;n++)t=r[n],o.push($(t).data().challengeableId);return o},n.prototype._getSelectedTable=function(e){return null==e&&(e=""),$("#selected-"+pluralize(e))},n.prototype._selectedChallengeablesCount=function(e){return null==e&&(e=""),this._getSelectedTable().find("li").length},n.prototype._updateSelectedInfo=function(e,t){return this._updateSelectedHiddenForm(t)},n.prototype._getSelectedTab=function(){return $(".nav-challenges .nav-link.active").attr("href").split("#tab-")[1]},n}(Hera.solvable.Base)}.call(this),function(){}.call(this),function(){Hera.tags={initTags:function(e){return e.find($(".tagselect")).each(function(){var e,t;return e=$(this).data("placeholder"),t=$(this).data("url"),$(this).select2({language:{inputTooShort:function(){return""},errorLoading:function(){return"\uacb0\uacfc\ub97c \uac00\uc838\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."},searching:function(){return"\uac80\uc0c9 \uc911\u2026"},noResults:function(){return'<h5 class="help-block">\ud574\ub2f9\ud558\ub294 \uc2a4\ud0dd\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uae30\uc220\uc740 \uc601\uc5b4\ub85c\ub9cc \uac80\uc0c9\ud574 \uc8fc\uc138\uc694.</h5><button id="no-results-btn" class="btn-request" onclick="Hera.tags.noResultsButtonClicked()">\uc0c8\ub85c\uc6b4 \uc2a4\ud0dd \ub4f1\ub85d \uc694\uccad \u3009</button>'}},tags:!1,placeholder:e,minimumInputLength:1,selectionAdapter:$.fn.select2.amd.require("CustomSelectionAdapter"),width:"100%",ajax:{url:t,dataType:"json",data:function(e){return e}},escapeMarkup:function(e){return e}})})},noResultsButtonClicked:function(){return $.ajax({url:"/tags/new_technical_tag",type:"GET"})}}}.call(this),function(){Hera.templates={makeModal:function(e,t,n){return"<div class=modal-dialog role=document> <div class=modal-content> <div class=modal-header> <button type=button class=close data-dismiss=modal aria-label=Close> <span aria-hidden=true>&times;</span> </button> <h4 class=modal-title>"+e+"</h4> </div> <div class=modal-body> "+t+" </div> <div class=modal-footer> "+n+" </div> </div> </div>"},tourTemplate:function(e){var t,n;return t='<svg class="ic-24 ic-blue-grey-200"data-role="end"><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-close"/></svg>',n=e.length,function(i){var r;return r=(n=e.length)===i+1?'<button class="btn btn-sm btn-primary" data-role="end">'+I18n.t("tryout_challenges.tour.buttons.exit")+" \u3009</button>":'<button class="btn btn-sm btn-primary" data-role="next">'+I18n.t("tryout_challenges.tour.buttons.next")+" \u3009</button>","<div class='popover popover-tour' role=tooltip> <div class=arrow></div> <div class=popover-line></div> <div class='d-flex justify-content-between'> <div class='popover-header popover-title'></div> "+t+' </div> <div class=\'popover-body popover-content\'></div> <div class="popover-navigation d-flex justify-content-between"> <div class="popover-page d-flex justify-content-center">'+(i+1)+" / "+n+'</div> <div class="btn-group"> <button class="btn btn-sm btn-primary" data-role="prev">\u3008 '+I18n.t("tryout_challenges.tour.buttons.prev")+"</button> "+r+" </div> </div> </div>"}},makeTestcaseInputs:function(e,t,n){var i,r,o;for(i='<tr id="user-testcase-inputs-'+e+'" class="user-testcase-inputs">',r=1,o=t;1<=o?r<=o:r>=o;1<=o?++r:--r)i+="stdio"===n?'<td class="td-input"><textarea class="form-control input form-testcase-input" name="custom_testcases['+e+'][inputs][]" placeholder="Input" required></textarea></td>':'<td class="td-input"><input class="form-control input form-testcase-input" name="custom_testcases['+e+'][inputs][]" placeholder="Input" required></td>';return i+="</tr>"},makeTestcaseOutout:function(e,t){var n,i;return i='<svg class="ic-24 remove-circle cursor-pointer js-remove-testcase"><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-remove-circle-outline"/></svg>',n='<tr id="user-testcase-output-'+e+'" data-index='+e+">",n+="stdio"===t?'<td class="td-output"><textarea class="form-control form-testcase-output " name="custom_testcases['+e+'][output]" placeholder="Output" required></textarea>'+i+"</td>":'<td class="td-output"><input class="form-control form-testcase-output " name="custom_testcases['+e+'][output]" placeholder="Output" required>'+i+"</td>",n+="</tr>"},makeNewApplicant:function(e,t){return void 0===e&&void 0===t?'<tr> <td style="width:34%;"><input placeholder="\uc774\ub984" skip_label="true" type="text" name="applicant[][name]" id="applicant_name" class="register_applicant_name"  required></td> <td style="width:60%;"><input placeholder="\uc774\uba54\uc77c" skip_label="true" type="email" name="applicant[][email]" id="applicant_email" class="register_applicant_email"  required></td> <td style="width:6%;"> <svg class="ic-20 remove-circle"><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-remove-circle-outline"/></svg> </td> </tr>':'<tr> <td style="width:34%;"><input placeholder="\uc774\ub984" skip_label="true" type="text" name="applicant[][name]" id="applicant_name"  value= "'+e+'" class="register_applicant_name" required></td> <td style="width:60%;"><input placeholder="\uc774\uba54\uc77c" skip_label="true" type="email" name="applicant[][email]" id="applicant_email" value= "'+t+'" class="register_applicant_email"  required></td> <td style="width:6%;"> <svg class="ic-20 remove-circle"><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-remove-circle-outline"/></svg> </td> </tr>'},makeInitNewApplicant:function(){return'<tr> <td style="width:34%;"><input placeholder="\uc774\ub984" skip_label="true" type="text" name="applicant[][name]" id="applicant_name" class="register_applicant_name"  required></td> <td style="width:60%;"><input placeholder="\uc774\uba54\uc77c" skip_label="true" type="email" name="applicant[][email]" id="applicant_email" class="register_applicant_email"  required></td> <td style="width:6%;"> </td> </tr>'},makeNotifyInvaildPopover:function(e){var t;return t='<svg class="ic-20"><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-info-24"/></svg>',$(e).attr({"data-toggle":"tooltip","data-placement":"left","data-title":""+t,"data-html":"true"}),$(e).tooltip({trigger:"manual"}).tooltip("show")},templateValidationResult:function(e){var t;return t="\uac80\uc99d \uc131\uacf5",e.passed||(t="\uac80\uc99d \uc2e4\ud328. \uac80\uc99d \uc2e4\ud328\ub85c \uc815\ub2f5 \ub4f1\ub85d\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ub2e4\ub978 \uc815\ub2f5 \ucf54\ub4dc\ub97c \uc81c\ucd9c\ud558\uc138\uc694."),'<div class="testcase"> <span class="category">'+e.category+" \ud14c\uc2a4\ud2b8 \uadf8\ub8f9 ("+e.source_type+'): </span> <span class="index">'+e.index+'\ubc88\uc9f8</span> <span class="result '+e.passed+'">......'+t+"</span></div>"}}}.call(this),function(){Hera.testChallengeResults={initEditJs:function(){return $(".js-extra-score").change((e=this,function(){return e.updateTotalScore()}));var e},updateTotalScore:function(){return $(".js-total-score").text((parseFloat($(".js-score").text())+parseFloat($(".js-extra-score").val()||0)).toFixed(1)+"\uc810")}}}.call(this),function(){Hera.testTokens={initRecordings:function(){var e,t,n,i,r,o;return i=(n=$(".js-video-players-wrapper:first")).data("video-infos"),o=new Date(n.data("started-at")),t=JSON.parse(localStorage.getItem("isPretestIncluded")),(r=$(".js-pretest-video-include")).prop("checked",t),e=r.is(":checked"),r.on("click",function(){return localStorage.setItem("isPretestIncluded",!e),window.location.reload()}),new Hera.videoPlayer.PlayersManager(i,e,o)}}}.call(this),function(){Hera.testViewers={initIndexJs:function(){return $(document).off(".viewer"),$("[data-toggle=tooltip]").tooltip(),Hera.commons.initDateTimePickerForm(".datetimepicker"),this._initNameInputHandler(),this._initEmailInputHandlers(),this._initViewerIconHandlers(),this._initBatchUpdateHandler(),this._initInviteUserHandlers()},_initNameInputHandler:function(){return $("#invited_user_name").keyup((e=this,function(t){var n;return n=t.target.value.length>0&&$("#invited_user_email_id").val().length>0,e._toggleAddViewerButton(n)}));var e},_initEmailInputHandlers:function(){var e;return $("#invited_user_email_id").keyup((e=this,function(t){var n;return n=t.target.value.length>0&&$("#invited_user_name").val().length>0,e._toggleAddViewerButton(n)})),$(document).on("focusout.viewer","#invited_user_email_id",function(e){var t,n,i;if(e.preventDefault(),(n=e.target.value).search("@")>-1)return i=n.replace(/@.*/,""),n.replace(/.*@/,"")===(t=e.currentTarget.dataset.companyDomain)?(e.target.value=i,Hera.utils.snackbar(I18n.t("modal_edit_viewer.domain_input_auto"))):Hera.utils.snackbar(I18n.t("modal_edit_viewer.must_use_company_domain",{company_domain:t}))})},_initViewerIconHandlers:function(){var e;return $(document).on("click.viewer",".icon-remove-viewer",(e=this,function(t){var n,i,r,o,a,s,l;if(t.preventDefault(),e._toggleButtons(),$('[data-toggle="tooltip"]').tooltip("hide"),a=(n=t.currentTarget.dataset).viewerId,s=n.viewerName,o=n.viewerEmail,l=n.viewerType,r="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg",$("#viewer-"+a+" #icon-status a").replaceWith('<a class="icon-add-viewer" data-viewer-id="'+a+'" data-viewer-email="'+o+'" data-viewer-name="'+s+'"> <svg class="icon ic-24"> <use xlink:href="'+r+'#ic-add-circle-outline"/> </svg> </a>'),"new"===l?$("#selected-new-viewer-"+a).remove():$("#selected-existing-viewer-"+a).remove(),i=$("#selected-viewers li").length,$("#selected-viewers-count").text("("+i+"\uba85)"),0===i)return $("#selected-viewers-count").addClass("hide"),$("#no-viewer-alert").removeClass("hide")})),$(document).on("click.viewer",".icon-added-viewer",function(e){return function(t){var n,i,r,o,a,s;if(t.preventDefault(),e._toggleButtons(),$('[data-toggle="tooltip"]').tooltip("hide"),a=(n=t.currentTarget.dataset).viewerId,s=n.viewerName,o=n.viewerEmail,r="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg",$("#viewer-"+a+" #icon-status a").replaceWith('<a class="icon-add-viewer" data-viewer-id="'+a+'" data-viewer-email="'+o+'" data-viewer-name="'+s+'"> <svg class="icon ic-24"> <use xlink:href="'+r+'#ic-add-circle-outline"/> </svg> </a>'),$("#selected-existing-viewer-"+a).remove(),i=$("#selected-viewers li").length,$("#selected-viewers-count").text("("+i+"\uba85)"),0===i)return $("#selected-viewers-count").addClass("hide"),$("#no-viewer-alert").removeClass("hide")}}(this)),$(document).on("click.viewer",".icon-add-viewer",function(e){return function(t){var n,i,r,o,a,s;return t.preventDefault(),e._toggleButtons(),a=(n=t.currentTarget.dataset).viewerId,s=n.viewerName,o=n.viewerEmail,r="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg",$("#selected-viewers").append('<li id="selected-existing-viewer-'+a+'" class="selected-viewer existing-viewer" data-toggle="tooltip" data-placement="top" data-original-title="'+o+'"> <input type=hidden name="existing_viewer_ids[]" value='+a+'> <div class="viewer-status"> <svg class="icon ic-24 ic-white"> <use xlink:href="'+r+"#ic-done\"/> </svg> <h5 class='viewer-identification'>"+s+'</h5> </div> <a class="icon-remove-viewer" data-viewer-id="'+a+'" data-viewer-email="'+o+'" data-viewer-name="'+s+'"> <svg class="icon ic-24 ic-dark-gray"> <use xlink:href="'+r+'#ic-remove-circle"/> </svg> </a> </li>'),$("#viewer-"+a+" #icon-status a").replaceWith('<a class="icon-added-viewer" data-viewer-id="'+a+'" data-viewer-email="'+o+'" data-viewer-name="'+s+'"> <svg class="icon ic-24"> <use xlink:href="'+r+'#ic-added-circle"/> </svg> </a>'),i=$("#selected-viewers li").length,$("#selected-viewers-count").text("("+i+"\uba85)"),i>0&&($("#no-viewer-alert").addClass("hide"),$("#selected-viewers-count").removeClass("hide")),$("li").tooltip()}}(this))},_initBatchUpdateHandler:function(){return $(document).on("submit.viewer",".registered-viewers form",function(){return Hera.utils.snackbar(I18n.t("modal_edit_viewer.batch_update_applyed")),$("#modal-dialog").modal("hide"),setTimeout(function(){return location.reload()},1500)})},_initInviteUserHandlers:function(){return $("#new_invited_user").on("submit",function(){return $("#modal-dialog .help-block").html("").hide()}),$("#new_invited_user").on("ajax:complete",(e=this,function(){return e._renderSelectedViewersCount(),e._resetForms(),e._disableAddViewerBtn()}));var e},_toggleButtons:function(){return $("#btn-cancel").attr("hidden",!1),$("#btn-apply").attr("hidden",!1),$("#btn-confirm").attr("hidden",!0)},_toggleAddViewerButton:function(e){return $("#add-viewer-btn").toggleClass("disabled",!e),$("#add-viewer-btn").attr("disabled",!e),$("#add-viewer-submit").attr("disabled",!e)},_resetForms:function(){return $("#invited_user_name").val(""),$("#invited_user_email_id").val("")},_renderSelectedViewersCount:function(){var e;if((e=$("#selected-viewers li").length)>0)return $("#no-viewer-alert").hide(),$("#selected-viewers-count").text("("+e+"\uba85)").removeClass("hide")},_disableAddViewerBtn:function(){return $("#add-viewer-btn").addClass("disabled"),$("#add-viewer-btn").attr("disabled",!0),$("#add-viewer-submit").attr("disabled",!0)}}}.call(this),function(){Hera.tests={initTestTokenBatchHandler:function(){var e;return $(".js-batch-action").prop("disabled",0===$(".js-check-each-batch").length),$(document).on("click",".js-btn-test-token-batch",function(){var e,t,n;if(confirm(I18n.t("applicant_batch.confirm",{count:$(".js-batch-controls").data("count")})))return t=$(this).data("testId"),Hera.commons.progressModal.show(I18n.t("applicant_batch.progressing")),$(this).prop("disabled",!0),$.ajax({url:"/tests/"+t+"/revoke_applicants",type:"DELETE",data:{applicant_ids:function(){var t,n,i,r;for(r=[],t=0,n=(i=$(".js-check-each-batch:checked")).length;t<n;t++)e=i[t],r.push($(e).val());return r}()}}).done(function(e){return Hera.utils.snackbar(I18n.t("applicant_batch.revoke",{count:e.revokes_count})),setTimeout(function(){return window.location.reload()},2e3)}).always((n=this,function(){return Hera.commons.progressModal.hide(),$(n).prop("disabled",!1)}))}),$(document).on("change",".js-batch-action",(e=this,function(t){return $(".js-check-each-batch").prop("checked",$(t.currentTarget).is(":checked")),e.handleBatchControl()})),$(document).on("change",".js-check-each-batch",function(e){return function(){return e.handleBatchControl()}}(this))},handleBatchControl:function(){var e,t,n,i;return n=$(".js-check-each-batch").length,i=$(".js-check-each-batch:checked").length,t=$(".js-batch-controls"),e=$(".js-batch-action"),i>0?t.show():t.hide(),$(".js-batch-controls .title").html(I18n.t("applicant_batch.status",{count:i})),0===i?e.prop("checked",!1):e.prop("checked",n===i),t.data({count:i})},initMobileIntro:function(){var e;return e=$(".tests-intro-section").data("token"),new Hera.channel.TestToken({token:e,page:"id_card"})},initMobileSubmitIdCard:function(){var e;return e=$(".id-card-body").data("token"),new Hera.channel.TestToken({token:e,page:"id_card"})},useMobileRecord:function(e){return e?$(".id-card-body").addClass("use-mobile-record"):$(".id-card-body").removeClass("use-mobile-record")},initIdCard:function(){return this._initIdCardChannel()},_initIdCardChannel:function(){var e;return e=$(".tests-intro-body").data("token"),new Hera.channel.TestToken({token:e,page:"id_card"})},idCardUploaded:function(){return $(".screen-container").addClass("uploaded"),$("#go-to-record").attr("disabled",!1)},initRecord:function(){return Hera.records.initRecord()},initMobileCamGateway:function(){return this._authCodeInputHandler(),this._loginBtnHandler(),this._ignoreBtnHandler()},initMobileCam:function(){if($(".js-publisher").data("webrtcHost")){if("cam"!==$(".js-publisher").data().camMode)return Hera.records._initOpenviduMobile()}else $(".screen-container.mobile").addClass("disconnected")},initMobileUploadIdCard:function(){var e,t,n;return t=$(".tests-intro-body").data("token"),e=null,$("#id-card-file").on("change",function(){var t;if(this.files&&this.files[0])return e=this.files[0],(t=new FileReader).onload=function(e){return $(".id-card-image").attr("src",e.target.result),$(".mobile-upload-id-card-body").removeClass("not-uploaded")},t.readAsDataURL(e)}),$(".btn-submit").on("click",(n=this,function(){var i;return i="/tests/mobile_submit_id_card?token="+t,n._toggleIdCardUploading(!0),null==e?location.href=i:Hera.commons.validateFilesSize({files:[e]})?$.ajax({url:"/tests/id_card_upload_url?token="+t,type:"GET",data:{filename:e.name}}).done(function(t){return Hera.commons.uploadToPresignedUrl(e,t.url,null,function(){return location.href=i})}).fail(function(){return Hera.utils.snackbar(I18n.t("mobile_upload_id_card.fail_upload_id_card")),n._toggleIdCardUploading(!1)}):n._toggleIdCardUploading(!1)}))},_toggleIdCardUploading:function(e){return $(".btn-submit").add("#id-card-file").attr({disabled:e}),e?$(".js-upload-loading").removeClass("hidden"):$(".js-upload-loading").addClass("hidden")},_authCodeInputHandler:function(){return $(".input-auth-code").keyup(function(e){var t;if((t=$(e.currentTarget)).val().length===Number(t.attr("maxLength")))return t.next(".input-auth-code").focus()}),$(".input-auth-code").click(function(e){return $(e.currentTarget).select()})},_ignoreBtnHandler:function(){return $("#js-ignore").click(function(){return $(".container-not-compatible-device").addClass("hidden"),$(".container-compatible-device").removeClass("hidden")})},_loginBtnHandler:function(){return $("#gateway-login").click(function(){var e,t;return e="",$(".input-auth-code").map(function(){return e+=$(this).val()}),t="/tests/mobile_intro?auth_code="+e,window.location.href=t})}}}.call(this),function(){Hera.tryoutChallenges={tryoutId:null,challengeable:null,initIndex:function(){var e,t,n,i,r;return t=(n=$(".challenge-header").data()).opentokSessionId,e=n.opentokClientToken,n.recording,i=n.token,null!=t&&$("#video-conference").data({"opentok-session-id":t,"opentok-client-token":e}),r=$(".js-web-notification").data("usingWebNotification"),this.testTokenChannel=new Hera.channel.TestToken({token:i,page:"test_page",usingWebNotification:r}),this.initChallengeView(),this._initWizardButtonTimer(),this._initUnloadHandler(),this._initHistoryHandler()},initLive:function(){return this.initIndex()},initChallengeView:function(){var e;return e=$(".challenge-header").data(),this.tryoutId=e.tryoutId,e.isInterviewer||(this._initShowRankHandler(this.tryoutId),this._initFinishButtonHandlers()),this._initRecordingPopoverCloseButton(),this._initExitDemoButton(),this._initChallenge(),this._initChallengeItemPosition(),this._challengesListScrollHandler(),this._checkWsConnection()},_checkWsConnection:function(){return setTimeout((e=this,function(){if(!e.testTokenChannel.connected)return $(".ws-disconnected-guide").removeClass("connected").addClass("disconnected")}),1e3);var e},_initChallenge:function(){var e;return this.challengeable&&this.challengeable.destroy(),e=$(".challenge-content").data(),this.challengeable=new(Hera.tryoutChallenge[$.camelize(e.challengeableType,{pascalCase:!0})])(e)},_initUnloadHandler:function(){var e,t;return e="iOS"===$.ua.os.name&&"Mobile Safari"===$.ua.browser.name?"unload":"beforeunload",$(window).on(e,(t=this,function(e){e.preventDefault(),"function"==typeof t.challengeable.unloadHandler&&t.challengeable.unloadHandler(),null!=t.challengeable.channel&&t.challengeable.channel.unsubscribe(),null!=t.testTokenChannel&&t.testTokenChannel.unsubscribe()}))},_initHistoryHandler:function(){var e,t;return e=$(".challenge-content").data().tryoutChallengeId,this._pushChallengeHistory(e),$(document).on("click",".challenge-nav-link",(t=this,function(n){return e=$(n.currentTarget).data("tryoutChallengeId"),t._pushChallengeHistory(e),!0})),$(window).on("popstate",function(e){return function(t){var n,i;return null!=(n=t.originalEvent.state)?(i="/tryouts/"+e.tryoutId+"/challenges/"+n.tryoutChallengeId,$.getScript(i)):history.go(1)}}(this))},_pushChallengeHistory:function(e){return history.pushState({tryoutChallengeId:e},"",location.href)},_initWizardButtonTimer:function(){var e,t,n,i;if(!((t=$(".btn-before-start")).length<1))return this.originalTryoutInfo=t.data(),e=this.originalTryoutInfo.remainingTimeInMs+Date.now(),n=setInterval((i=this,function(){var r,o;return Date.now()<e?(o="",(r=Hera.competitions.remainTimeDetail(e-Date.now()))[0]>0?o=I18n.t("tests.intro.buttons.remain_time_with_unit",{time:r[0],unit:I18n.t("datetime.prompts.day")}):r[1]>0?o=I18n.t("tests.intro.buttons.remain_time_with_unit",{time:r[1],unit:I18n.t("datetime.prompts.hour")}):r[2]>0?(o=I18n.t("tests.intro.buttons.remain_time_with_unit",{time:r[2],unit:I18n.t("datetime.prompts.minute")}),e-Date.now()<=3e5&&(o=I18n.t("tests.intro.buttons.remain_time_detail",{min:r[2],min_unit:I18n.t("datetime.prompts.minute"),sec:r[3],sec_unit:I18n.t("datetime.prompts.second")}))):o=I18n.t("tests.intro.buttons.remain_time_with_unit",{time:r[3],unit:I18n.t("datetime.prompts.second")}),t.find(".remain-time").html(o)):(clearInterval(n),$.get("/tryouts/"+i.originalTryoutInfo.tryoutId+"/activate_start_button?token="+i.originalTryoutInfo.token))}),1e3)},_initFinishButtonHandlers:function(){return $("#btn-finish-tryout").hover(function(){return $(this).popover("show")}),$("#btn-finish-tryout").click((e=this,function(){return e.challengeable&&e.challengeable.saveTemporaryCode(),$.get("/tryouts/"+e.tryoutId+"/finish_alert")}));var e},_initRecordingPopoverCloseButton:function(){return $(".ic-close-popover").click(function(){return $("#popover-recording").addClass("hidden")})},_initShowRankHandler:function(e){var t;return $(document).off(".leaderboard"),$(document).on("click.leaderboard","a.show-rank-btn",(t=this,function(n){return $(n.currentTarget).hasClass("in")?$.get("/tryouts/"+e+"/my_rank",function(e){return t._showRankPopup(e)}):t._closeRankPopup()})),$(document).on("click.leaderboard",".btn-close-leaderboard",function(e){return function(){return e._closeRankPopup()}}(this)),$(document).on("click.leaderboard",".btn-refresh-leaderboard",function(){return $(".realtime-leaderboard").find(".developer-stats-wrap").css("opacity","0.6"),$.get("/tryouts/"+e+"/my_rank",function(e){return $("#realtime-leaderboard").html(e),$(".realtime-leaderboard").find(".developer-stats-wrap").css("opacity","1")})})},_showRankPopup:function(e){return $("#realtime-leaderboard").html(e),$(".realtime-leaderboard").addClass("in"),$(".show-rank-btn").removeClass("in")},_closeRankPopup:function(){return $(".show-rank-btn").addClass("in"),$(".realtime-leaderboard").removeClass("in"),$(".realtime-leaderboard").hide(300)},_initChallengeItemPosition:function(){if($(".challenge-nav-link.active").length>0)return $(".js-challenge-item-list").animate({scrollLeft:$(".challenge-nav-link.active").position().left-150},0)},_challengesListScrollHandler:function(){return $(document).off("mousewheel"),$(document).on("mousewheel",".js-challenge-item-list",function(e){var t;return t=$(e.currentTarget).scrollLeft(),$(e.currentTarget).scrollLeft(t+e.deltaY)})},showChannelIO:function(){return ChannelIO("show")},resizeEditor:function(e){var t;if(t=$(window).width()+15,0!==e.getElementsByClassName("CodeMirror-sizer").length)return e.getElementsByClassName("CodeMirror-sizer")[0].length>0&&t<=991?e.style.height=e.getElementsByClassName("CodeMirror-sizer")[0].height()+570+"px":void 0},toggleBlockingScreen:function(e){return $(".recording-disconnected-guide").toggleClass("connected",e),$(".recording-disconnected-guide").toggleClass("disconnected",!e)},_initExitDemoButton:function(){return $("#exit-demo").click(function(){return window.close()})}}}.call(this),function(){Hera.tryout_steps={initShow:function(){return Hera.tryouts.initForm()}}}.call(this),function(){Hera.tryoutTests={useWebNotification:!1,enableWebNotification:!1,grantedWebNotification:!1,initIntro:function(){var e;return e=$(".tests-intro-body").data("token"),new Hera.channel.TestToken({token:e,page:"intro_page"})},initPreDemo:function(){var e,t,n,i;return t=(e=$(".tests-intro-body").data()).token,n=e.webNotification,this.useWebNotification=n,new Hera.channel.TestToken({token:t,page:"pre_demo_page"}),$(".js-dropdown-language, .js-checkbox-security-pledge, .js-btn-noti-permission").change((i=this,function(){var e;return e=i._checkProgrammingLanguage()&&i._checkSecurityPledge()&&i._checkWebNotification(),i._handleAgreeStepPopover(),$(".js-agree-step-wrapper").toggleClass("disabled",!e)})),$(".js-btn-noti-permission").click(function(e){return function(){return Notification.requestPermission().then(function(t){return e.grantedWebNotification="granted"===t,e._handleAgreeStepPopover(),$(".web-notification-allow").addClass(t),Hera.utils.webNotification(I18n.t("tests.web_notification.enable.title"),I18n.t("tests.web_notification.enable.body"),function(){return e.enableWebNotification=!0,$(".js-btn-noti-permission").attr("disabled",!0).trigger("change")})}),!1}}(this))},importApplicants:function(e){var t;return(t=$('input[id="excel-file-'+e+'"]')).trigger("click"),t.on("click",function(){return t.val("")}),t.on("change",function(){var n,i;if(""!==(i=t.val()))return n=i.substring(i.lastIndexOf(".")+1),$("#alert-block").addClass("hidden"),"xls"===n||"xlsx"===n?($(".toast-spinner").addClass("open"),$("#applicants-excel-"+e+" form").submit()):(Hera.invitations_new.updateAlertMessage("show","\uc5d1\uc140 \ud30c\uc77c \ud615\uc2dd\uc774 \uc544\ub2d9\ub2c8\ub2e4."),t.val(""))})},_checkProgrammingLanguage:function(){return 0===$(".js-dropdown-language").length||!!$(".js-dropdown-language").val()},_checkSecurityPledge:function(){var e,t,n,i;for(t=0,n=(i=$(".js-checkbox-security-pledge")).length;t<n;t++)if(e=i[t],!$(e).is(":checked"))return!1;return!0},_checkWebNotification:function(){return!this.useWebNotification||this.enableWebNotification},_handleAgreeStepPopover:function(){var e;return $(".js-agree-step-wrapper").popover("enable"),e="",!this.useWebNotification||this.enableWebNotification||this._checkSecurityPledge()?this.useWebNotification&&!this.grantedWebNotification?e="\ube0c\ub77c\uc6b0\uc800 \uc54c\ub9bc \uc54c\ub9bc \uad8c\ud55c\uc744 \ud5c8\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4. (STEP.2\uc758 1\ubc88\ubd80\ud130 \ub2e4\uc2dc \uc9c4\ud589\ud558\uc138\uc694.)":this.useWebNotification&&!this.enableWebNotification?e="STEP.2\uc758 [\uc54c\ub9bc \uad8c\ud55c \uc694\uccad/\uc124\uc815 \uc54c\ub9bc \ubc1c\uc1a1] \ubc84\ud2bc\uc744 \ub204\ub974\uace0, \ubc1c\uc1a1\ub41c \uc54c\ub9bc\uc744 \ud074\ub9ad\ud574\uc57c \ud569\ub2c8\ub2e4.":this._checkSecurityPledge()?$(".js-agree-step-wrapper").popover("disable").popover("hide"):e="\ubcf4\uc548 \uc11c\uc57d \ubc0f \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9\uc5d0 \ub300\ud55c \uc548\ub0b4 \ubaa8\ub450 \ub3d9\uc758\uc5d0 \uccb4\ud06c\ud574\uc8fc\uc138\uc694.":e="\ubcf4\uc548 \uc11c\uc57d \ubc0f \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9\uc5d0 \ub300\ud55c \uc548\ub0b4 \ubaa8\ub450 \ub3d9\uc758\uc5d0 \uccb4\ud06c\ud558\uace0, \ube0c\ub77c\uc6b0\uc800 \uc54c\ub9bc\uc744 \uc124\uc815\ud574\uc57c\ud569\ub2c8\ub2e4.",$(".js-agree-step-wrapper").attr("data-content",e)}}}.call(this),function(){Hera.tryoutTokens={tryoutTokenId:null,challengeableId:null,challengeableType:null,google_charts:null,channel:null,codeEditor:null,initShow:function(e){var t,n;if(null==e&&(e=!0),(n=$(".applicant-overview-left").data()).tryoutId,this.tryoutTokenId=n.tryoutTokenId,t=n.clickTab,this.channel=new Hera.channel.TryoutManager({tryoutTokenId:this.tryoutTokenId}),this.challengeableId=$(".categories__nav-tabs li > a.active").data("challengeable-id"),this.challengeableType=$(".categories__nav-tabs li > a.active").data("type"),google.charts.load("current",{packages:["corechart","bar","timeline"]}),google.charts.setOnLoadCallback(this.drawChallengesGraphs),this.google_charts=google.charts,this.loadOverview(),this.initChallengeTab(),this.initButtons(),this.initSources(),this.initSubmissionHandlers(),this.initChallengeableModalHandler(),this.initAuditLogsHandler(),this.initUpdateScoreHandler(),t)return this.clickChallengeTab(t)},initResult:function(){var e;return(e=$(".applicant-overview-left").data()).tryoutId,this.tryoutTokenId=e.tryoutTokenId,e.clickTab,this.challengeableId=$(".categories__nav-tabs li > a.active").data("challengeable-id"),this.challengeableType=$(".categories__nav-tabs li > a.active").data("type"),this.initChallengeTab(),this.initSources(),this.initSubmissionHandlers(),this.initChallengeableModalHandler()},initPrintView:function(){if(this._initToggleForm(),!$(".container-tryout-tokens").data("skipDialog"))return window.print()},initChallengeableModalHandler:function(){return Hera.challenge.Base.initModalHandlers(),$(document).on("click",".js-show-challengeable",function(){var e,t;return t=$(this).data("challengeable-type"),e=$(this).data("challengeable-id"),$(".js-challengeable-modal[data-challengeable-type="+t+"][data-challengeable-id="+e+"]").modal("show")})},initSubmissionHandlers:function(){var e;return $(document).on("click",".next-submission",(e=this,function(){return e.moveActiveSubmission("next")})),$(document).on("click",".prev-submission",function(e){return function(){return e.moveActiveSubmission("prev")}}(this)),$(document).on("click","ul.nav-submissions li",function(){return Hera.tryoutTokens.handleSubmission($(this))})},initInterviewView:function(){return this.challengeableId=$(".categories__nav-tabs li > a.active").data("challengeable-id"),this.challengeableType=$(".categories__nav-tabs li > a.active").data("type"),this.tryoutTokenId=$(".tab-content.container").data("tryout-token-id"),this.initChallengeTab(),this.initSources(),this.initSubmissionHandlers()},initCommentsJs:function(){return Hera.comments.initComment()},loadOverview:function(){var e;return(e=$(".applicant-overview-right .flex-top .panel-connections")).next().css("height",e.height()),$("#microphone-required").change(function(){var e,t;return t=$(".applicant-overview-left").data("tryout-token-id"),e=$(this).val(),$.ajax({url:"/test_tokens/"+t+"/update_microphone_required",type:"PUT",data:{microphone_required:e}})})},initManagerSubmissionJs:function(){var e;return this.codeEditor=null,this._initManagerSubmissionEditor(),$('.manager-submission-modal a[data-toggle="tab"]').on("shown.bs.tab",(e=this,function(){return e._initManagerSubmissionEditor()})),$(".manager-submission-modal .btn-manager-submission").click(function(e){return function(){var t,n,i,r;return r=(i=$(".manager-submission-modal").data()).tryoutTokenId,t=i.challengeAlgorithmId,n=$(".manager-submission-modal .nav-link.active").data("language"),e.channel.perform("submit",{tryoutTokenId:r,challengeAlgorithmId:t,code:e.codeEditor.getValue(),language:n})}}(this))},_initManagerSubmissionEditor:function(){var e,t;return null!=this.codeEditor&&this.codeEditor.toTextArea(),e=$(".manager-submission-modal .nav-link.active").data("language"),(t=Hera.editor.getOptions(e)).theme="eclipse",this.codeEditor=CodeMirror.fromTextArea($('.manager-submission-modal textarea[data-language="'+e+'"]')[0],t)},initChallengeTab:function(e){return null==e&&(e=!0),$('a[data-toggle="tab"][data-require-details="true"]').on("shown.bs.tab",(t=this,
function(){if(t.challengeableId=$(".categories__nav-tabs li > a.active").data("challengeable-id"),t.challengeableType=$(".categories__nav-tabs li > a.active").data("type"),"interview_view"!==$("body").data("action")&&t.google_charts.setOnLoadCallback(t.drawChallengesGraphs),e)return t.initSources()}));var t},clickChallengeTab:function(e){return $(".categories__nav-tabs li > a[href$='#algorithm-"+e+"']").click()},initSources:function(){var e,t,n,i,r,o,a,s,l,c,u,d,h,p;if((e=$("#"+this.challengeableType+"-"+this.challengeableId)).find("ul.nav-submissions > li").addClass("hidden"),e.find(".all-submissions .tab-content").children().length>0){for(s=(h=e.find("ul.nav-submissions")).find("li:last > a"),r=h.find("li:first > a"),t=h.find("li > a.active"),c=18,i=Math.round(parseInt(t.data("index"))/c)||1,null!=t&&parseInt(t.data("index"))-c*i>0&&(i+=1),d=c*(i-1),n=c*i-1,o=a=0,l=(u=e.find("ul.nav-submissions > li")).length;a<l;o=++a)p=u[o],o>=d&&o<=n&&$(p).removeClass("hidden");if(t.data("index")===r.data("index")&&e.find(".prev-submission").addClass("disabled"),t.data("index")>r.data("index")&&e.find(".prev-submission").removeClass("disabled"),t.data("index")===s.data("index")&&e.find(".next-submission").addClass("disabled"),t.data("index")<s.data("index"))return e.find(".next-submission").removeClass("disabled")}},initButtons:function(){return $(document).on("click",".btn-evaluate",(e=this,function(t){return t.preventDefault(),$("#modal-dialog").html('<div class="modal-dialog manager-evaluation-modal"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">\ucc44\uc810 \uc911\uc785\ub2c8\ub2e4. \uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824 \uc8fc\uc138\uc694.</h3> </div> <div class="modal-body"> <div class="submission-progress-wrapper"> <div class="progress progress-striped active"> <div class="progress-bar" style="width: 0"></div> </div> </div> <div class="error-wrapper hidden"> <svg class=""><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-info-14"/></svg> <div class="error-text"></div> </div> </div> </div> </div>'),$("#modal-dialog").modal({show:!0}),e.channel.perform("evaluate",{source_type:$(t.target).data("source-type"),source_id:$(t.target).data("source-id")})}));var e},handleSubmission:function(e){var t,n;return(n=e.closest("ul.nav-submissions")).find("a").removeClass("active"),(t=e.find("a")).addClass("active"),this.showSource(t),this.displaySubmissionArrow(n,t)},moveActiveSubmission:function(e){var t,n,i,r,o,a;return(n=(r=(i=$("#"+this.challengeableType+"-"+this.challengeableId)).find("ul.nav-submissions")).find("li > a.active")).removeClass("active"),t=n.data("index"),"prev"===e?(a=parseInt(t)-1,n.hasClass("restart")&&(a-=1),n=this.getSubmissionByIndex(i,a)):"next"===e&&(o=parseInt(t)+1,n.hasClass("restart")&&(o+=1),n=this.getSubmissionByIndex(i,o)),this.showSource(n),n.addClass("active"),this.displaySubmissionArrow(r,n),this.initSources()},getSubmissionByIndex:function(e,t){return e.find("a[data-index='"+t+"']")},showSource:function(e){var t,n,i,r,o,a;return o=(i=e.data()).submissionType,r=i.submissionId,n=i.displayScores,t=i.actionsAllowed,(a=$("#"+o+"_"+r)).data("loaded")?(a.closest(".all-submissions").find(".tab-pane").removeClass("active"),a.addClass("active")):$.get("/tryout_tokens/"+this.tryoutTokenId+"/source.js",{display_scores:n,submission_type:o,submission_id:r,actions_allowed:t})},displaySubmissionArrow:function(e,t){var n,i;if(i=e.find("li:last a").data("index"),n=e.find("li:first a").data("index"),t.data("index")===i&&$(".next-submission").addClass("disabled"),t.data("index")<i&&$(".next-submission").removeClass("disabled"),t.data("index")===n&&$(".prev-submission").addClass("disabled"),t.data("index")>n)return $(".prev-submission").removeClass("disabled")},drawChallengesGraphs:function(){return Hera.tryoutTokens.drawScoreDistributionGraph()},drawScoreDistributionGraph:function(){var e,t,n,i,r;if(n=$("#chart-score-distributions-"+this.challengeableType+this.challengeableId),(t=new google.visualization.DataTable).addColumn("string","\uc810\uc218\uad6c\uac04"),t.addColumn("number","\uc9c0\uc6d0\uc790\uc218"),t.addColumn({type:"string",role:"style"}),t.addColumn({type:"string",role:"tooltip",p:{html:!0}}),r=n.data("score-distributions"))return r=r.map(function(e,t){var n,i;return i=e[2]?"color: #2196F3; stroke-color: #2196F3; stroke-width: 6;":"color: black",n=t>0?r[t-1][0]+"\uc810 ~ "+r[t][0]+"\uc810":"0\uc810 ~ "+r[0][0]+"\uc810",[Math.round(e[0]).toString(),e[1],i,e[1]+"\uba85("+n+")"]}),t.addRows(r),e=n.height()-33,i={width:"100%",height:"100%",chartArea:{top:5,right:0,width:n.width()-29,height:e},backgroundColor:{fill:"transparent"},bar:{groupWidth:"1"},vAxis:{gridlines:{color:"transparent",count:5},textStyle:{fontSize:12},baselineColor:"#DEE6EA"},hAxis:{textStyle:{fontSize:11}},tooltip:{style:{left:0},textStyle:{fontSize:12}}},new google.visualization.ColumnChart(n[0]).draw(t,i)},_initToggleForm:function(){return $("#js-applicant-toggle").click(function(){return $("#applicant-toggle").is(":checked")?$(".tryout-tokens-details").removeClass("tryout-tokens-interviewee-view"):$(".tryout-tokens-details").addClass("tryout-tokens-interviewee-view")})},initAuditLogsHandler:function(){return $(".btn-proctor-log").click(function(e){return $(e.currentTarget).toggleClass("show-full"),$(".proctor-log-content").toggleClass("show-full")})},initUpdateScoreHandler:function(){return this.checkScoreValidation(),this.submitScore()},checkScoreValidation:function(){return $(document).on("keyup",".js-input-score",function(e){var t,n,i,r;return n=$(e.currentTarget).data("quizId"),i=parseFloat($(e.currentTarget).val()),t=parseFloat($(e.currentTarget).attr("max")),r=i>=0&&i<=t,$(".js-update-score[data-quiz-id="+n+"]").attr("disabled",!r),$(".js-invalid-score[data-quiz-id="+n+"]").toggleClass("hidden",r)})},submitScore:function(){return $(document).on("click",".js-update-score",function(e){var t;return e.preventDefault(),t=$(e.currentTarget).parents(".js-update-score-form"),$.ajax({type:"PUT",url:t.attr("action"),data:t.serialize()}).done(function(e){return $.get(e.url)}).fail(function(e){return Hera.utils.snackbar(e.responseJSON.message)})})}}}.call(this),function(){Hera.tryouts={tryoutTokenOrderFilter:"rank_asc",tryoutTokenNameFilter:"",tryoutId:null,tryoutStatusFilter:"all",tryoutTextFilter:"",tryoutChallengeLevelFilter:"all",tryoutChallengeOrderFilter:"asc",quizFilters:{level:"all",order:"asc"},initIndex:function(){return!0===$(".content-wrap .content").data("first-email-confirmed")&&$("#modal-welcome").modal({show:!0}),Hera.commons.initFlashes(),$("#tryouts_status").on("change",function(e){var t;return t="/tryouts?tab="+$(e.currentTarget).children("option:selected").val(),window.location.href=t}),$(document).on("keyup","#tryouts-title-filter",function(e){var t;if($("#tryouts-title-filter-clear").toggle(Boolean($(e.currentTarget).val())),13===e.which)return t="/tryouts?tab="+deparam(window.location.href.split("?")[1]).tab+"&title="+$(e.currentTarget).val(),window.location.href=t}),$(document).on("click","#tryouts-title-filter-clear",function(){return $("#tryouts-title-filter").val("").focus(),$(this).hide()})},initProctor:function(){return Hera.proctors._initProctor()},initRotateJs:function(){return Hera.proctors._initRotateJs()},initStopRotationJs:function(){return Hera.proctors._initStopRotationJs()},initSolutionGroups:function(){return Hera.challenge.Base.initModalHandlers()},initShow:function(){return this.tryoutId=$("header").data("tryout-id"),Hera.scoreDistGraph.init(),this.initApplicantPagination(),this.initCollapseHandlers(),this.handleApplicantFilter(),this._initBatchDownloadHandler(),Hera.tests.initTestTokenBatchHandler(),Hera.challenge.Base.initModalHandlers()},handleApplicantFilter:function(){return $(document).on("click",".tryout-token-order-filter",function(){var e,t;return t=$(this).data("filter-type"),e=$(this).data("filter-order"),Hera.tryouts.tryoutTokenOrderFilter=t+"_"+e,Hera.tryouts.updateTryoutTokens(1)}),$(document).on("keyup",".applicant-name-filter",function(e){if($("#applicant-name-filter-clear").toggle(Boolean($(this).val())),13===e.which)return Hera.tryouts.tryoutTokenNameFilter=$(this).val(),Hera.tryouts.updateTryoutTokens(1)}),$(document).on("click","#applicant-name-filter-clear",function(){return $(".applicant-name-filter").val("").focus(),$(this).hide()})},handleApplicantReadinessModal:function(){return $(".td-readiness .btn-change-status").click(function(){var e,t,n,i,r,o;for(r=$(this).data("status"),i=[],e=0,t=(n=$(".table-applicants-readiness tbody tr:not(.tr-disabled)")).length;e<t;e++)o=n[e],i.push($(o).find("input[value='"+r+"']").prop("checked",!0));return i})},initCollapseHandlers:function(){return $(".quiz-detail").on("show.bs.collapse",function(){return $(this).parent().parent().show()}),$(".quiz-detail").on("hidden.bs.collapse",function(){return $(this).parent().parent().hide()}),$(".quiz-detail").on("shown.bs.collapse",function(){var e;return e=$(this).data("quiz-id"),$("#quiz-"+e+" .t-collapse").html(Hera.challengeQuizzes.collapseSvgTag("up"))}),$(".quiz-detail").on("hide.bs.collapse",function(){var e;return e=$(this).data("quiz-id"),$("#quiz-"+e+" .t-collapse").html(Hera.challengeQuizzes.collapseSvgTag("down"))})},initApplicantPagination:function(){return $(".page-link").click((e=this,function(t){var n;if(t.preventDefault(),null!=(n=$.urlParam($(t.currentTarget).attr("href"),"page")))return e.updateTryoutTokens(n)}));var e},updateTryoutTokens:function(e){return $.get("/tryouts/"+this.tryoutId+"/tryout_tokens",{order:this.tryoutTokenOrderFilter,name:this.tryoutTokenNameFilter,page:e})},_initBatchDownloadHandler:function(){var e,t;return e=new Hera.channel.Tryout,$(document).on("click","#js-pdf-download",(t=this,function(n){var i,r;return i=$(n.currentTarget).data("email"),r=$(":input:radio[name=hide_result]:checked").val(),e.perform("download",{hideResult:r,tryoutId:t.tryoutId}),Hera.utils.snackbar("\uc2dc\ud5d8 \uacb0\uacfc PDF \ubcc0\ud658\uc774 \uc644\ub8cc\ub418\uba74 "+i+"\uc73c\ub85c \uc54c\ub9bc\uc774 \ubc1c\uc1a1\ub429\ub2c8\ub2e4."),$(".btn-pdf-download").addClass("hidden"),$("#js-pdf-downloading").removeClass("hidden")}))}}}.call(this),function(){Hera.users={initResumes:function(){return Hera.commons.isMobile()&&Hera.commons.resizeTextarea(),Hera.registrations.controlDropzone(),Hera.registrations.loadCurrentJob(),this.preventEnterSubmit(),this.checkChangeDeveloper()},initProfile:function(){return $("#preview").html(),$(".cloudinary-fileupload").cloudinary_fileupload({maxFileSize:1024e3,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,start:function(){return $("#profile_area").addClass("hidden"),$("#spin").removeClass("hidden")},progress:function(){},fail:function(){return $("#profile_area").removeClass("hidden"),$("#spin").addClass("hidden")}}),$(".cloudinary-fileupload").bind("cloudinarydone",function(e,t){return $.post("/users/update_image",{image_id:t.result.public_id,_method:"put",format:"js"}).fail(function(){return $("#profile_area").removeClass("hidden"),$("#spin").addClass("hidden")})})},initAccount:function(){return $("#ck-destroy-account").change(function(){return $("#btn-destroy-account").attr("disabled",!this.checked)})},initPrintResume:function(){return window.print()},preventEnterSubmit:function(){return $(".edit_user").keydown(function(e){if(13===e.keyCode&&"TEXTAREA"!==e.target.tagName)return!1})},checkChangeDeveloper:function(){return this.checkChangeInfo(),this.checkChangeExperience(),this.checkChangeEducation()},checkChangeInfo:function(){return $('input[name="developer[name]"]').keydown(function(){return $("#btn-change-user-info").removeAttr("disabled")}),$('input[name="developer[phone]"]').keydown(function(){return $("#btn-change-user-info").removeAttr("disabled")})},checkChangeExperience:function(){return $(".experience-name,.experience-position,.experience-start,.experience-end,.experience-description,.experience-field .check-current-status ,.experience-field .btn-remove-field").on("keydown click change",function(){return $("#btn-change-user-experience").removeClass("disabled"),$("#btn-change-user-experience").removeAttr("disabled")})},checkChangeEducation:function(){return $(".education-name,.education-start,.education-end,.education-degree, .education-region, .education-major,.education-field .check-current-status, .education-credit,.education-description,.education-field .btn-remove-field").on("keydown click change",function(){return $("#btn-change-user-education").removeAttr("disabled"),$("#btn-change-user-education").removeClass("disabled")})},checkChangeResume:function(){if($("body.developers-resumes").length>0)return $("#previews").find(".display-flex").length>0?$("#btn-change-user-resume").removeClass("disabled"):$("#btn-change-user-resume").addClass("disabled")}}}.call(this),function(){Hera.utils={snackbar:function(e,t){var n;return null==t&&(t=""),n={content:e,style:t,timeout:5e3,htmlAllowed:!0},$.snackbar(n)},webNotification:function(e,t,n){return new Notification(e,{body:t,requireInteraction:!0}).onclick=function(e){return e.currentTarget.close(),window.focus(),n()}},showModal:function(e,t){var n;return n=Hera.templates.makeModal(e,t,'<a href="#" class="btn btn-primary" data-dismiss="modal">\ud655\uc778</a>'),$("#modal-dialog").html(n),$("#modal-dialog").modal({show:!0})}}}.call(this),function(){Hera.videoPlayer.ControlBar=function(){function e(e){this.playersManager=e,this.playToggleControl=new Hera.videoPlayer.PlayToggleControl(this.playersManager),this.timeDisplayControl=new Hera.videoPlayer.TimeDisplayControl,this.progressControl=new Hera.videoPlayer.ProgressControl(this.playersManager),this.timeChangeControl=new Hera.videoPlayer.TimeChangeControl(this.playersManager)}return e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Hera.videoPlayer.PlayToggleControl=function(){function t(t){this.playersManager=t,this.handleSpaceKeyPress=e(this.handleSpaceKeyPress,this),this.handlePlayToggleBtn=e(this.handlePlayToggleBtn,this),this.el=$(".js-play-bar__player--btn-play"),this.el.on("click",this.handlePlayToggleBtn),$(window).on("keypress",this.handleSpaceKeyPress),this.clickable=!0}return t.prototype.toggleBtn=function(){return this.el.toggleClass("stop"),this.el.toggleClass("now-play")},t.prototype.handlePlayToggleBtn=function(){var e;if(this.playersManager.checkControlsClickable())return this.clickable=!1,this.toggleBtn(),this.el.hasClass("stop")?(this.playersManager.pausePlayers(),this.clickable=!0):this.el.hasClass("now-play")?this.playersManager.playPlayers().then((e=this,function(){return e.clickable=!0})):void 0},t.prototype.handleSpaceKeyPress=function(e){if(32===e.keyCode&&(e.preventDefault(),this.el[0]!==document.activeElement))return this.handlePlayToggleBtn(e)},t}()}.call(this),function(){Hera.videoPlayer.ProgressControl=function(){function e(e){this.playersManager=e,this.seekBar=new Hera.videoPlayer.SeekBar(this.playersManager),this.timeTooltip=new Hera.videoPlayer.TimeTooltip(this.playersManager,this.seekBar),this.testStartTimePointer=new Hera.videoPlayer.TestStartTimePointer(this.playersManager,this.seekBar)}return e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Hera.videoPlayer.SeekBar=function(){function t(t){this.playersManager=t,this.handleProgressBarMouseUp=e(this.handleProgressBarMouseUp,this),this.handleScrubbing=e(this.handleScrubbing,this),this.handleProgressBarMouseDown=e(this.handleProgressBarMouseDown,this),this.el=$(".js-progress"),this.progressBarEl=$(".js-progress-bar"),this.setSeekBarMaxValue(this.playersManager.totalDuration),this.el.on("mousedown",this.handleProgressBarMouseDown),this.isScrubbing=!1,$(window).on("mousemove",this.handleScrubbing),$(window).on("mouseup",this.handleProgressBarMouseUp),this.clickable=!0}return t.prototype.setSeekBarMaxValue=function(e){return this.progressBarEl.attr("aria-valuemax",e)},t.prototype.update=function(e){return this.progressBarEl.attr("aria-valuenow",e),this.progressBarEl.css("width",e/this.playersManager.totalDuration*100+"%")},t.prototype.handleProgressBarMouseDown=function(e){var t;if(this.playersManager.checkControlsClickable())return this.clickable=!1,this.isScrubbing=!0,this.currentTimeDisplay=this.playersManager.controlBar.timeDisplayControl.currentTimeDisplay,t=this.getPosOnSeekBar(e),this.update(t),this.currentTimeDisplay.update(t)},t.prototype.handleScrubbing=function(e){var t;if(this.isScrubbing)return t=this.getPosOnSeekBar(e),this.update(t),this.currentTimeDisplay.update(t)},t.prototype.handleProgressBarMouseUp=function(e){var t,n;if(this.isScrubbing)return this.isScrubbing=!1,this.timeTooltip=this.playersManager.controlBar.progressControl.timeTooltip,this.timeTooltip.handleProgressBarMouseLeave(e),t=this.getPosOnSeekBar(e),this.playersManager.handleTimeChange(t).then((n=this,function(){return n.clickable=!0}))},t.prototype.getPosOnSeekBar=function(e){var t,n,i,r;return t=Hera.videoPlayer.Utility.getCurrentMousePos(e).xPos,r=this.el.width(),i=this.el.offset().left,n=this.progressBarEl.attr("aria-valuemax"),t<=i?t=i:t>=r+i&&(t=r+i),Math.floor((t-i)/r*n)},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Hera.videoPlayer.TestStartTimePointer=function(){function t(t,n){this.playersManager=t,this.seekBar=n,this.setPointerPosition=e(this.setPointerPosition,this),this.el=$(".js-video-player-controls__progress-bar--test-start"),this.leftBorderWidth=parseInt(this.el.css("border-left-width").slice(0,-2),10),this.rightBorderWidth=parseInt(this.el.css("border-right-width").slice(0,-2),10),this.setPointerPosition(),$(window).on("resize",this.setPointerPosition)}return t.prototype.setPointerPosition=function(){var e,t,n,i;return i=this.playersManager.startTime,n=$(".js-video-players-wrapper:first").data("started-at"),e=new Date(n).getTime()/1e3,this.seekBar.el.offset().left,t=this.seekBar.el.width()*((e-i)/this.playersManager.totalDuration),this.el.css("left",t-(this.leftBorderWidth+this.rightBorderWidth)/2+"px")},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Hera.videoPlayer.TimeTooltip=function(){function t(t,n){this.playersManager=t,this.seekBar=n,this.handleProgressBarMouseMove=e(this.handleProgressBarMouseMove,this),this.handleProgressBarMouseLeave=e(this.handleProgressBarMouseLeave,this),this.handleProgressBarMouseEnter=e(this.handleProgressBarMouseEnter,this),this.el=$(".js-video-player-controls__progress-bar--cursor-time"),this.seekBar.el.on("mouseenter",this.handleProgressBarMouseEnter),this.seekBar.el.on("mouseleave",this.handleProgressBarMouseLeave)}return t.prototype.handleProgressBarMouseEnter=function(){if(!this.seekBar.isScrubbing)return this.el.css("opacity","100"),$(window).on("mousemove",this.progressBarMouseMoveHandler=this.handleProgressBarMouseMove)},t.prototype.handleProgressBarMouseLeave=function(){if(!this.seekBar.isScrubbing)return this.el.css("opacity","0"),$(window).off("mousemove",this.progressBarMouseMoveHandler)},t.prototype.handleProgressBarMouseMove=function(e){var t,n,i,r,o;return n=Hera.videoPlayer.Utility.getCurrentMousePos(e).xPos,r=(i=this.seekBar.el.offset().left)+this.seekBar.el.width(),this.seekBar.progressBarEl.attr("aria-valuemax"),n<=i?n=i:n+this.el.width()>=r&&(n=r-this.el.width()),this.el.css("left",n-i+"px"),t=this.seekBar.getPosOnSeekBar(e),o=[Hera.videoPlayer.Utility.formatTime(t),Hera.videoPlayer.Utility.formatDatetime(1e3*(this.playersManager.startTime+t))].join("<br/>"),this.el.html(o)},t}()}.call(this),function(){Hera.videoPlayer.CurrentTimeDisplay=function(){function e(){this.el=$(".js-current-time")}return e.prototype.update=function(e){return this.el.html(Hera.videoPlayer.Utility.formatTime(e))},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Hera.videoPlayer.TimeChangeControl=function(){function t(t){this.playersManager=t,this.HandleBackwardBtn=e(this.HandleBackwardBtn,this),this.HandleForwardBtn=e(this.HandleForwardBtn,this),this.forwardBtnEl=$(".js-play-bar__player--btn-forward"),this.backwardBtnEl=$(".js-play-bar__player--btn-back"),this.forwardBtnEl.on("click",this.HandleForwardBtn),this.backwardBtnEl.on("click",this.HandleBackwardBtn),this.clickable=!0}return t.prototype.HandleForwardBtn=function(){var e,t;if(this.playersManager.checkControlsClickable())return this.clickable=!1,e=this.playersManager.timer.currentTime+10,this.playersManager.handleTimeChange(e).then((t=this,function(){return t.clickable=!0}))},t.prototype.HandleBackwardBtn=function(){var e,t;if(this.playersManager.checkControlsClickable())return this.clickable=!1,e=this.playersManager.timer.currentTime-10,this.playersManager.handleTimeChange(e).then((t=this,function(){return t.clickable=!0}))},t}()}.call(this),function(){Hera.videoPlayer.TimeDisplayControl=function(){function e(){this.totalTimeDisplay=new Hera.videoPlayer.TotalTimeDisplay,this.currentTimeDisplay=new Hera.videoPlayer.CurrentTimeDisplay}return e}()}.call(this),function(){Hera.videoPlayer.TotalTimeDisplay=function(){function e(){this.el=$(".js-total-time")}return e.prototype.update=function(e){return this.el.html(Hera.videoPlayer.Utility.formatTime(e))},e}()}.call(this),function(){Hera.videoPlayer.Loader=function(){function e(e){this.player=e,this.el=this.player.el.siblings(".js-video-player-item__loader")}return e.prototype.hide=function(){return this.el.removeClass("loading-ing")},e.prototype.show=function(){return this.el.addClass("loading-ing")},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Hera.videoPlayer.Player=function(){function t(t,n){this.deviceName=t,this.videos=n,this.handleMuteBtn=e(this.handleMuteBtn,this),this.handleVideoEnded=e(this.handleVideoEnded,this),this.el=$("#"+this.deviceName+" > video"),this.canPlay=!1,this.currentVideo=null,this.el.on("ended",this.handleVideoEnded),this.videoEndedListeners=[],this.loader=new Hera.videoPlayer.Loader(this),this.el.siblings(".js-video-player-item__options").find("input").on("click",this.handleMuteBtn),this.videoStatusEl=this.el.siblings(".js-video-player-item__state")}return t.prototype.play=function(){if(this.canPlay)return this.el.trigger("play")},t.prototype.pause=function(){return this.el.trigger("pause")},t.prototype.isVideoLoaded=function(){return this.loader.show(),new Promise((e=this,function(t){return e.el.on("loadeddata",function(){if(4===e.el[0].readyState)return e.loader.hide(),t(!0)})}));var e},t.prototype.setSrc=function(e){return this.el[0].src=e},t.prototype.setCurrentTime=function(e){return this.el[0].currentTime=e},t.prototype.handleVideoEnded=function(e){var t,n;return e.target,this.setSrc(""),this.setVideoStatus("empty"),t=Infinity,this.videos.some((n=this,function(e,i){if(e===n.currentVideo&&i+1<n.videos.length)return t=n.videos[i+1].start_time,n.currentVideo=null,n.publish(t),n.setVideoStatus("wait"),!0}))},t.prototype.subscribe=function(e){return this.videoEndedListeners.push(e)},t.prototype.publish=function(e){var t,n,i,r,o;if(Infinity!==e){for(o=[],n=0,i=(r=this.videoEndedListeners).length;n<i;n++)t=r[n],o.push(t(e));return o}},t.prototype.handleMuteBtn=function(){return this.el.prop("muted",!this.el.prop("muted"))},t.prototype.setVideoStatus=function(e){return this.videoStatusEl.removeClass("video-wait video-empty video-nowplay"),this.videoStatusEl.addClass("video-"+e)},t}()}.call(this),function(){Hera.videoPlayer.PlayersManager=function(){function e(e,t,n){var i,r,o;for(this.createPlayers(e,t,n),this.setPlayersTimeInfo(),this.controlBar=new Hera.videoPlayer.ControlBar(this),this.timer=new Hera.videoPlayer.Timer(this),i=0,r=(o=this.players).length;i<r;i++)o[i].subscribe(this.timer.setSyncTime.bind(this.timer));this.nowPlaying=!1}return e.prototype.createPlayers=function(e,t,n){var i;return i=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this.players=Object.entries(e).map(function(e){var n,r,o;return n=e[0],o=e[1],t?new Hera.videoPlayer.Player(n,o):(r=o.filter(function(e){return 0!==e.size&&i<=new Date(1e3*e.start_time)}),new Hera.videoPlayer.Player(n,r))})},e.prototype.setPlayersTimeInfo=function(){var e,t,n,i,r,o,a,s,l,c,u,d,h,p;for(this.startTime=Infinity,this.endTime=0,t=0,o=(c=this.players).length;t<o;t++)for(n=0,a=(p=c[t].videos).length;n<a;n++)d=(h=p[n]).start_time,e=h.duration,this.startTime=Math.min(this.startTime,d),this.endTime=Math.max(this.endTime,d+e);for(i=0,s=(u=this.players).length;i<s;i++)for(r=0,l=(p=u[i].videos).length;r<l;r++)(h=p[r]).start_time-=this.startTime;return this.totalDuration=this.endTime-this.startTime},e.prototype.playPlayers=function(e){return null==e&&(e=this.timer.currentTime),this.syncPlayers(e).then((t=this,function(){var n,i,r,o;for(t.timer.start(e),n=0,i=(o=t.players).length;n<i;n++)(r=o[n]).canPlay&&r.play();return t.nowPlaying=!0}));var t},e.prototype.pausePlayers=function(){var e,t,n;for(this.timer.stop(),e=0,t=(n=this.players).length;e<t;e++)n[e].pause();return this.nowPlaying=!1},e.prototype.resetPlayers=function(){var e,t,n,i,r;for(r=[],e=0,t=(i=this.players).length;e<t;e++)(n=i[e]).setSrc(""),r.push(n.canPlay=!1);return r},e.prototype.setPlayerVideo=function(e,t){var n,i,r,o,a,s,l,c,u;for(null==t&&(t=this.timer.currentTime),a=(u=e.videos)[0].start_time,r=i=0,o=u.length;i<o;r=++i){if(l=(c=u[r]).start_time,n=c.duration,s=c.play_url,t>=l&&t<l+n){e.setSrc(s),e.setCurrentTime(t-l),e.currentVideo=c,a=null;break}r+1<u.length&&t>=l+n&&(a=u[r+1].start_time)}return a},e.prototype.syncPlayers=function(e){var t,n;return null==e&&(e=this.timer.currentTime),this.timer.currentTime=e,this.timer.nextSyncTime=Infinity,t=this.players.map((n=this,function(t){return new Promise(function(i){var r;return null!=(r=null!=t.videos[0]?n.setPlayerVideo(t,e):-1)?(r>=e?(n.timer.setSyncTime(r),t.setVideoStatus("wait")):t.setVideoStatus("empty"),t.canPlay=!1,t.setSrc(""),t.currentVideo=null,i()):(t.setVideoStatus("nowplay"),t.isVideoLoaded().then(function(e){if(null!=e)return t.canPlay=!0,i()}))})})),Promise.all(t)},e.prototype.didBufferingOccur=function(){var e,t,n,i,r,o,a,s;for(n=0,i=(o=this.players).length;n<i;n++)if(t=(r=o[n]).currentVideo,s=r.el[0].currentTime,e=this.timer.currentTime,s&&t)return a=t.start_time+s-e,Math.abs(a)>=1;return!1},e.prototype.handleTimeChange=function(e){return this.nowPlaying?(this.pausePlayers(),this.playPlayers(e)):this.syncPlayers(e)},e.prototype.checkControlsClickable=function(){return this.controlBar.playToggleControl.clickable&&this.controlBar.timeChangeControl.clickable&&this.controlBar.progressControl.seekBar.clickable},e}()}.call(this),function(){Hera.videoPlayer.Timer=function(){function e(e){var t,n,i,r;this.playersManager=e,this.currentTime=0,this.canStart=!0,this.nextSyncTime=null,i=(n=(t=this.playersManager).controlBar).timeDisplayControl,this.totalTimeDisplay=i.totalTimeDisplay,this.currentTimeDisplay=i.currentTimeDisplay,r=n.progressControl,this.seekBar=r.seekBar,this.playToggleControl=n.playToggleControl,this.totalDuration=t.totalDuration,this.totalTimeDisplay.update(this.totalDuration)}return e.prototype.start=function(e){if(null==e&&(e=this.currentTime),this.canStart)return this.currentTime=e,this.timer=setInterval((t=this,function(){if(t.currentTime===t.totalDuration&&(t.playersManager.resetPlayers(),t.reset()),t.currentTimeDisplay.update(t.currentTime),t.seekBar.update(t.currentTime),t.currentTime+=1,t.nextSyncTime===t.currentTime||t.playersManager.didBufferingOccur())return t.playersManager.pausePlayers(),t.playersManager.playPlayers()}),1e3);var t},e.prototype.stop=function(){return clearInterval(this.timer),this.canStart=!0},e.prototype.reset=function(){return this.stop(),this.currentTime=0,this.currentTimeDisplay.update(this.currentTime),this.seekBar.update(this.currentTime),this.playToggleControl.toggleBtn("stop")},e.prototype.setSyncTime=function(e){return this.nextSyncTime=null!=this.nextSyncTime?Math.min(e,this.nextSyncTime):e},e}()}.call(this),function(){Hera.videoPlayer.Utility={formatTime:function(e){var t,n,i,r;return i=(r=parseInt(e,10))-3600*(t=Math.floor(r/3600))-60*(n=Math.floor((r-3600*t)/60)),(t=String(t).padStart(2,"0"))+":"+(n=String(n).padStart(2,"0"))+":"+(i=String(i).padStart(2,"0"))},getCurrentMousePos:function(e){return{xPos:e.pageX,yPos:e.pageY}},formatDatetime:function(e){return moment(new Date(e)).format("YYYY-MM-DD HH:mm:ss")}}}.call(this),function(){Business.jobApplications={initShow:function(){return"tryout_token"===$(".resume__preview").data("current-tab")&&this._initTryoutToken(),"comment"===$(".resume__preview").data("current-tab")?Hera.comments.initComment():(Hera.resumes.initSkillButtons(),Hera.resumes.skillCheckTooltipHandler()),this.initGuideModal()},initEditAction:function(){return this._initDelayLabel(),$("#btn-no-mail").click(function(){return $("#job_application_notice").val("false"),$(".edit_job_application").submit()})},initBatchAction:function(){var e;return e=this,$("#btn-no-mail").click(function(){var t;$("#btn-no-mail").attr("disabled",!0),t=$("#batch_form").serialize(),$.post("/job_applications/batch",t).done(function(){var t,n,i;return $("#btn-no-mail").attr("disabled",!1),$("#modal-dialog").modal("hide"),n=$(".positions__nav").find(".active").data("id"),i=$(".position__nav-tabs .active").data("current-tab"),t=$(".pagination .active .page-link").html(),e._loadJobPositionCards(n),e._loadJobApplications(i,n,t)})})},_loadJobPositionCards:function(e){var t;return t="/job_positions/position_cards",$.get(t,{selected_position_id:e})},_loadJobApplications:function(e,t,n){var i;return i="/job_applications",$.get(i,{status:e,selected_position_id:t,page:n})},initPreviewJs:function(){return this._initDelayLabel(),$("#batch_form").submit((e=this,function(t){var n;return $(".js-job-application-status-submit").attr("disabled",!0),t.preventDefault(),t.stopPropagation(),n=$("#batch_form").serialize(),$.post("/job_applications/batch",n).done(function(){var t,n,i;return $(".js-job-application-status-submit").attr("disabled",!1),$("#modal-dialog").modal("hide"),n=$(".positions__nav").find(".active").data("id"),i=$(".position__nav-tabs .active").data("current-tab"),t=$(".pagination .active .page-link").html(),e._loadJobPositionCards(n),e._loadJobApplications(i,n,t)})}));var e},_initDelayLabel:function(){return $("#job_application_delay").change(function(){var e,t,n,i,r;return 0===(e=parseInt($("#job_application_delay option:selected").val()||"0"))?($("#delay-guide").text(""),$(".delay-guide-icon").addClass("hidden")):(r=new Date,(t=new Date).setDate(r.getDate()+e),i={month:"long",day:"numeric"},n=t.toLocaleDateString(navigator.language,i)+" \uc624\uc804 9\uc2dc\uc5d0 \uc804\uc1a1\ub429\ub2c8\ub2e4",$("#delay-guide").text(n),$(".delay-guide-icon").removeClass("hidden"))})},_initTryoutToken:function(){return Hera.tryoutTokens.initShow()},initGuideModal:function(){return $(".btn-help").on("click",function(){return $("#skill-check-guide-modal-dialog").modal("show")})}}}.call(this),function(){Business.jobPositions={optionElement:null,selectorElement:null,technicalTagForms:null,initIndex:function(){var e;return this._initParams(),this._initPositionCards(),this._initApplicationNavHanlder(),this._initBatchHandler(),this._initJobApplicationFilterHandler(),this._initDownloadBtnHandler(),this._initRecruitProviderChannelHandler(),this.status=$.urlParam(window.location.href,"status"),this.channel=new Hera.channel.JobPosition,$("#modal-fee-dialog").length&&showFeeAgreementModal(Business.jobPositions.agreeRecruitmentFee),$("#position_filter, #position_order").change((e=this,function(t){return e._orderApplications(t)})),$(document).on("submit","#search-form",function(e){return function(t){return t.preventDefault(),e._searchApplications(t)}}(this)),$("#btn_position_guide_start").on("click",function(){return $("#nav_item_guide").tab("show")}),$("#btn_position_company_info").on("click",function(){return $("#nav_item_company").tab("show")}),$("#btn_position_developer_search").on("click",function(){return $("#nav_item_search").tab("show")})},_initDownloadBtnHandler:function(){return $(document).on("click","#js-pdf-download",(e=this,function(){var t,n,i;return t=$("#js-pdf-download").data("email"),i=$("#js-pdf-download").data("status"),n=$("#js-pdf-download").data("positionId"),e.channel.perform("download",{status:i,positionId:n}),Hera.utils.snackbar("\uc774\ub825\uc11c PDF \ubcc0\ud658\uc774 \uc644\ub8cc\ub418\uba74 "+t+"\uc73c\ub85c \uc54c\ub9bc\uc774 \ubc1c\uc1a1\ub429\ub2c8\ub2e4."),$("#js-pdf-download-confirm").addClass("hidden"),$("#js-pdf-downloading").removeClass("hidden")}));var e},_initRecruitProviderChannelHandler:function(){
return this.channel=new Hera.channel.RecruitProvider,this._loginButtonHandler(),this._getApplicationsButtonHandler()},_loginButtonHandler:function(){return $(document).on("click","#js-provider-login",(e=this,function(){return $(".toast-spinner").addClass("open"),e.channel.perform("login",{provider:$("#provider").val(),email:$("#email").val(),password:$("#password").val()})}));var e},_getApplicationsButtonHandler:function(){return $(document).on("click","#js-get-applications",(e=this,function(){return $("#js-get-applications").attr("disabled",!0),$(".toast-spinner").addClass("open"),e.channel.perform("get_applicants",{provider:$("#js-get-applications").data("provider")})}));var e},_initApplicationNavHanlder:function(){return $(document).on("shown.bs.tab",'.position__nav-tabs a[data-toggle="tab"]',(e=this,function(t){return $(t.target).attr("href").replace("#",""),e.status=$(t.target).data("currentTab"),$.ajax({headers:{Accept:"text/javascript"},url:$(t.target).data("url")})}));var e},_initJobApplicationFilterHandler:function(){return $(document).on("click",".js-application-filter",function(){var e,t,n;return n=$(".js-position-nav-item.active").data("id"),t=$(this).data("filter-type"),e=$(this).data("filter-order"),$.ajax({type:"GET",url:"/job_applications",data:{selected_position_id:n,status:this.status,filter_type:t,filter_order:e}})})},initNew:function(){return this._initForm()},initEdit:function(){return this._initForm()},initCreate:function(){return this._initForm()},initUpdate:function(){return this._initForm()},_initParams:function(){var e,t,n,i,r,o;for(this.params={},o=[],e=0,t=(r=["filter","order","keyword"]).length;e<t;e++)i=r[e],(n=$.urlParam(window.location.href,i))?o.push(this.params[i]=n):o.push(void 0);return o},_initPositionCards:function(){return $(document).on("click",".js-position-nav-item-inner",(e=this,function(t){var n;return e._resetActivePositionCard(),$(t.currentTarget).closest(".js-position-nav-item").addClass("active"),n=$(t.currentTarget).data("id"),$.get("/job_applications",{selected_position_id:n})}));var e},_initForm:function(){return this._initSubmitHandler(),this._initPeriodHandler(),this._initCareerHandler(),this._initCategoryHandler(),this._initStatusHandler(),this._initTypeHandler(),this._initTagHandler(),this._initEnvironmentCustomInputHandler(),Hera.commons.focusFormError(),this._initPrimaryTagHandler(),this._initSalaryHandler()},_initSubmitHandler:function(){var e,t,n,i,r,o;for(e=[],t=0,n=(i=["#job-position-description","#job-position-requirement","#job-position-preferred-experience","#job-position-additional-information"]).length;t<n;t++)r=i[t],e.push(this._initTuiEditor(r));return $(".js-submit").click((o=this,function(){var t,n,i,r;for(t=o._getCompetition(),n=0,i=e.length;n<i;n++)(r=e[n]).options.$originForm.val(r.getValue());return t.data("skipAgreement")?$("#job-position-form").submit():showFeeAgreementModal(Business.jobPositions.submitJobPositionForm)}))},_getCompetition:function(){return"new"===$("body").data("action")||"create"===$("body").data("action")?$("#job_position_competition_id option:selected"):$("#js-selected-competition")},_initPeriodHandler:function(){var e;return Hera.commons.initDateTimePickerForm(),(e=function(e){var t,n;return n=$("#job_position_start_at"),t=$("#job_position_end_at"),"always"===e?(0===n.val().length&&n.val(moment().format("YYYY/MM/DD HH:mm")),t.val(""),t.prop("disabled",!0)):(0===n.val().length&&n.val(moment().format("YYYY/MM/DD HH:mm")),0===t.val().length&&t.val(moment().add(3,"days").format("YYYY/MM/DD HH:mm")),t.prop("disabled",!1))})($("#position_period").val()),$("#position_period").change(function(t){return e($(t.target).val())})},_resetCareerPeriod:function(e){var t,n;return n=$("#job_position_min_career"),t=$("#job_position_max_career"),"experience"!==e?(n.val(""),t.val(""),n.prop("disabled",!0),t.prop("disabled",!0)):(n.prop("disabled",!1),t.prop("disabled",!1),0===n.val().length&&n.val("2"),0===t.val().length?t.val("3"):void 0)},_initCareerHandler:function(){var e;return this._resetCareerPeriod($("#job_position_career_option").val()),$("#job_position_career_option").change((e=this,function(t){return e._resetCareerPeriod($(t.target).val())})),$(".js-position-career-range").change(function(e){return function(){return e._setValidCareerRange()}}(this))},_setValidCareerRange:function(){var e,t;if(e=parseInt($("#job_position_max_career").val()),(t=parseInt($("#job_position_min_career").val()))>=e)return $("#job_position_max_career").val(t+1)},_initCategoryHandler:function(){var e,t;return t=this,(e=function(){var e;return e=$(".category-checkboxes input:not(:checked)"),t._getSelectedCategoryIds().length>="3"?e.prop("disabled",!0):e.prop("disabled",!1)})(),$(".category-checkboxes input").click(function(){return e()})},_initTagHandler:function(){var e;return e=this,$(".tagselect").each(function(){var t;return $(this).select2({language:{inputTooShort:function(){return""},errorLoading:function(){return"\uacb0\uacfc\ub97c \uac00\uc838\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."},searching:function(){return"\uac80\uc0c9 \uc911\u2026"},noResults:function(){return'<h5 class="help-block">\ud574\ub2f9\ud558\ub294 \uae30\uc220 \uc2a4\ud0dd\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uae30\uc220 \uc2a4\ud0dd\uc740 \uc601\uc5b4\ub85c\ub9cc \uac80\uc0c9\ud574 \uc8fc\uc138\uc694.</h5><button id="no-results-btn" class="btn-request" onclick="Hera.tags.noResultsButtonClicked()">\uc0c8\ub85c\uc6b4 \uae30\uc220 \uc2a4\ud0dd \ub4f1\ub85d \uc694\uccad \u3009</button>'}},tags:!1,minimumInputLength:1,selectionAdapter:$.fn.select2.amd.require("JobPositionCustomSelectionAdapter"),width:"100%",ajax:{url:$(this).data("url"),dataType:"json",data:function(e){return e},processResults:function(e){var t,n,i,r;for(t=0,n=(i=e.results).length;t<n;t++)(r=i[t]).uid=r.id,r.id=r.text;return e}},escapeMarkup:function(e){return e}}),0===$(this).select2("data").length&&((t=$(this).parent(".form-group").find(".select2-search__field")).removeAttr("style"),t.attr("placeholder",$(this).data("placeholder"))),e._getCategoryTags(),$(".category-checkboxes input").click(function(){return e._getCategoryTags()})})},_initBatchHandler:function(){var e;return $(document).on("change",".checkbox-batch",(e=this,function(t){return $(t.target).closest("table").toggleClass("bg-on"),e._activateBatchActions()})),$(document).on("click",".js-btn-batch-action",function(e){return $.ajax({url:"/job_applications/batch",data:{job_application:{next_status:$(e.currentTarget).data("nextStatus"),ids:$(".checkbox-batch:checked").map(function(e,t){return $(t).data("applicationId")}).toArray()}}})})},_activateBatchActions:function(){var e;if($("#batch-actions").removeClass("show"),$("#batch-actions").addClass("out"),$("#applicants__index-header").addClass("show"),$("#applicants__index-header").removeClass("out"),(e=$.unique($(".checkbox-batch:checked").map(function(e,t){return $(t).data("applicationStatus")})).toArray()).length>0)return $("#batch-actions").removeClass("out"),$("#batch-actions").addClass("show"),$("#applicants__index-header").addClass("out"),$("#applicants__index-header").removeClass("show"),$("#btn-rejected").removeClass("hidden"),1===e.length&&"applied"===e[0]?($("#btn-in-progress").removeClass("hidden"),$("#btn-hired").addClass("hidden")):1===e.length&&"in_progress"===e[0]?($("#btn-in-progress").addClass("hidden"),$("#btn-hired").removeClass("hidden")):($("#btn-in-progress").addClass("hidden"),$("#btn-hired").addClass("hidden"))},_getSelectedCategoryIds:function(){var e,t,n,i,r;for(r=[],t=0,n=(i=$(".category-checkboxes input:checked")).length;t<n;t++)e=i[t],r.push($(e).val());return r},_initStatusHandler:function(){return $("#job_position_status").change(function(e){return"hidden"===$(e.target).val()?$(".alert-status").show():$(".alert-status").hide()})},_initTypeHandler:function(){return $("#job-type-option-internship").attr("hidden",!0),$("#job_position_competition_id").change(function(e){return $("#job-type-option-internship").attr("hidden",!$(e.target).val()),$("#job_position_job_type").val("")}),$("#job_position_job_type").change((e=this,function(t){return"internship"===$(t.target).val()?($(".js-fee-modal-body").addClass("intern-description"),$("#job_position_career_option").val("unrelated"),e._resetCareerPeriod("unrelated"),$("#career-option-experience").attr("hidden",!0),$("#career-option-newcomer").attr("hidden",!0)):($(".js-fee-modal-body").removeClass("intern-description"),$("#career-option-experience").attr("hidden",!1),$("#career-option-newcomer").attr("hidden",!1))}));var e},_resetActivePositionCard:function(){return $("li.js-position-nav-item.active").removeClass("active")},_orderApplications:function(e){var t,n,i;return n=(t=$(e.currentTarget)).attr("name"),this.params[n]=t.children("option:selected").val(),i="/job_positions?"+$.param(this.params),window.location.href=i},_searchApplications:function(e){var t,n,i;return n=(t=$(e.currentTarget).find('input[name="keyword"]')).attr("name"),this.params[n]=t.val(),this.status&&(this.params.status=this.status),i="/job_positions?"+$.param(this.params),window.location.href=i},_getCategoryTags:function(){var e;return e=$(".category-checkboxes input:checked").map(function(){return $(this).val()}).toArray(),$.ajax({url:"/category_tags",method:"GET",data:{job_position_category_ids:e}}).done(function(e){var t,n,i,r;for(t="",i=0,r=e.length;i<r;i++)t+='<button class="btn btn-sm btn-light btn-tag" value="'+(n=e[i])+'">'+n+"</button>";return $(".stacks-btn-group").html(t),$(".btn-tag").click(function(t){var n,i,r,o;return i=$(".requirement-stack"),t.preventDefault(),r=$(t.currentTarget).val(),i.find("option[value='"+r+"']").length?((e=i.val()).push(r),o={},e.forEach(function(e){return o[e+"::"+typeof e]=e}),e=Object.keys(o).map(function(e){return o[e]}),i.val(e)):(n=new Option(r,r,!1,!0),i.append(n)),i.trigger("change")})})},_initEnvironmentCustomInputHandler:function(){var e;return $(".team-environment-form-group select.form-control").change((e=this,function(t){return e.selectorElement=$(t.currentTarget),e.optionElement=e.selectorElement.find("option.environment-custom-input"),e._showCustomInputModal()})),$("#custom-input-submit").click(function(e){return function(){var t;return""===(t=$("#custom-input-field").val().trim())&&e._displayErrorMessageToCustomInput(),e._setOptionFromCustomInput(t)}}(this))},_showCustomInputModal:function(){if("environment-custom-input"===this.selectorElement.find("option:checked").attr("class"))return $("#custom-input-field").parent(".form-group").removeClass("has-error"),$("#alert-message").addClass("hidden"),$("#custom-input-label").html(this.selectorElement.data("column")),$("#custom-input-field").val(""),$("#addCustomInputModal").modal("show")},_setOptionFromCustomInput:function(e){if(""!==e)return this.optionElement.before('<option value="'+e+'">'+e+"</option>"),$(this.selectorElement).val(e),$("#addCustomInputModal").modal("hide")},_displayErrorMessageToCustomInput:function(){return $("#custom-input-field").parent(".form-group").addClass("has-error"),$("#alert-message").removeClass("hidden")},_initTuiEditor:function(e){var t;return t=$(e),this.tuiEditor=new tui.Editor({$originForm:t,el:document.querySelector(e+"-edit-section"),initialEditType:"wysiwyg",previewStyle:"tab",height:"300px",initialValue:t.val(),codeBlockLanguages:["c","cpp","csharp","go","java","javascript","kotlin","python","python3","R","ruby","scala","solidity","swift"],language:I18n.locale,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","table","link","divider","code","codeblock","divider"],hooks:{addImageBlobHook:function(e,t){return Hera.commons.imageUpload(e,t)}}}),this.tuiEditor},_initPrimaryTagHandler:function(){var e,t;return this.technicalTagForms=$("#technical-tag-id-form-wrap"),e=$(".form-technical-tag-area .tagselect"),this._resetPrimaryTagsCheckedbox(),e.on("select2:select",(t=this,function(e){var n,i;return n=e.params.data.uid,i=e.params.data.text,t._addPrimaryTag(n,i),t._resetPrimaryTagsCheckedbox()})),e.on("select2:unselect",function(e){return function(t){var n;return n=t.params.data.text,e._removePrimaryTag(n),e._resetPrimaryTagsCheckedbox()}}(this)),$(document).on("change",'input[name="job_position[primary_tag_ids][]"]',function(e){return function(){return e._resetPrimaryTagsCheckedbox()}}(this))},_addPrimaryTag:function(e,t){var n;if(n='<div class="col-item checkbox-wrap checkbox-position" data-tag-name="'+t+'"><input type="checkbox" name="job_position[primary_tag_ids][]" id="checkbox-'+e+'" value="'+e+'"><label for="checkbox-'+e+'"><span>'+t+"</span></label></div>",this.technicalTagForms.append(n),this.technicalTagForms.find('input[type="checkbox"]').length>0)return $("#technical-tag-empty").addClass("hidden")},_removePrimaryTag:function(e){if(this.technicalTagForms.find("[data-tag-name='"+e+"']").remove(),0===this.technicalTagForms.find('input[type="checkbox"]').length)return $("#technical-tag-empty").removeClass("hidden")},_resetPrimaryTagsCheckedbox:function(){return this.technicalTagForms.find('input[type="checkbox"]:checked').length>=3?this.technicalTagForms.find('input[type="checkbox"]:not(:checked)').prop("disabled",!0):this.technicalTagForms.find('input[type="checkbox"]').prop("disabled",!1)},_initSalaryHandler:function(){return $(".js-job-salary-veiled").change(function(){return $(".js-salary-box").attr("disabled",this.checked)})},initRecruitmentFeeAgreement:function(){return $("#js-fee-agree-check").change(function(){return $("#js-fee-agree-button").attr("disabled",!this.checked)})},agreeRecruitmentFee:function(){var e;return e=$("#modal-fee-dialog").data("company-id"),$.ajax({url:"/companies/"+e+"/agree_recruitment_fee",type:"PUT"})},submitJobPositionForm:function(){return $("#modal-fee-dialog").modal("hide"),$("#job-position-form").submit()}}}.call(this),function(){Business.jobProfiles={jobProfileId:null,initShow:function(){return this.jobProfileId=$(".resume__content").data().jobProfileId,Hera.resumes.initSkillButtons(),Hera.resumes.skillCheckTooltipHandler(),this._handleToggleBookmarkBtn(),Business.jobApplications.initGuideModal(),$("#job-offer").click((e=this,function(){return $.ajax({type:"GET",url:"/job_offers/new",data:{jobProfileId:e.jobProfileId}}).done(function(){return e._handleJobOfferModal()})}));var e},_handleToggleBookmarkBtn:function(){return $("#toggle-bookmark").click((e=this,function(){return $.ajax({type:$("#toggle-bookmark").hasClass("active")?"DELETE":"PUT",url:"/job_profiles/"+e.jobProfileId+"/bookmark"}).done(function(){return $("#toggle-bookmark").hasClass("active")?($("#toggle-bookmark").removeClass("active"),Hera.utils.snackbar(I18n.t("business.recruit.job_profile.unbookmark"))):($("#toggle-bookmark").addClass("active"),Hera.utils.snackbar(I18n.t("business.recruit.job_profile.bookmark")))})}));var e},_handleJobOfferModal:function(){var e;return $(".js-close-modal").click(function(e){if(e.preventDefault(),0===$("#offer-message").val().trim().length||confirm(I18n.t("business.recruit.job_profile.confirm_close_job_offer_modal")))return $("#modal-dialog").modal("hide")}),$("#btn-load-offer-message").click((e=this,function(t){if(t.preventDefault(),0===$("#offer-message").val().trim().length||confirm(I18n.t("business.recruit.job_profile.confirm_load_offer_message")))return e._loadOfferMessage()})),$(document).on("click","#send-offer",function(){return $("#send-offer").attr("disabled",!0),$.ajax({type:"POST",url:"/job_offers",data:{jobPositionId:$("#select-job-position").val(),jobProfileId:$("#job-profile-id").val(),offerMessage:$("#offer-message").val()}}).done(function(){return Hera.utils.snackbar(I18n.t("business.recruit.job_profile.send_offer")),location.reload()}).fail(function(){return $(".modal-alert").removeClass("hidden"),$("#send-offer").attr("disabled",!1)})})},_loadOfferMessage:function(){return $.ajax({type:"GET",url:"/job_offers/offer_message",data:{jobPositionId:$("#select-job-position").val()}})}}}.call(this),function(){Business.registrations={initNew:function(){return this.initCompanyView()},initCreate:function(){return this.initCompanyView()},initCompanyView:function(){var e;return this.showCompanyView(!0),$("#user_email").focusout((e=this,function(){return e.showCompanyView(!1)})),$("#user_company_id").change(function(){var e,t;return"-1"===(e=$(this).find(":selected")).val()?($("#subsidiary_name").val(""),$("#subsidiary_home_url").val(""),$("#subsidiary_registration_number").val(""),$(".new-subsidiary").slideDown()):($(".new-subsidiary").slideUp(),t=e.data("image-url")||"",$("#company-img").attr("src",t))})},showCompanyView:function(e){var t,n;if(0===(t=$.trim($("#user_email").val())).length)return $(".authorized-company").slideUp(),void $(".unauthorized-company").slideUp();if(this.savedEmail!==t&&(this.savedEmail=t,!e))return $.ajax({url:"/companies/check.js",type:"GET",data:{email:t},beforeSend:(n=this,function(){return n.clearError("#user_email")})})},setRequired:function(e){return $("#user_company_attributes_name").prop("required",e),$("#user_company_attributes_home_url").prop("required",e),$("#user_company_registration_number").prop("required",e)},clearError:function(e){var t;return(t=$(e).parent()).removeClass("has-error"),t.find(".help-block").remove()},showError:function(e,t){return $(e).parent().addClass("has-error"),$(e).after('<span class="help-block">'+t+"</span>")},enableSubmitButton:function(e){return $("form.new_user input[type=submit]").attr("disabled",!e)}}}.call(this),function(){Business.sessions={initDestroy:function(){return Hera.auth.doCors("new_logout")}}}.call(this),function(){Competitions.leaderboard={tryoutId:null,competitionId:null,blinkings:{},entries:[],channel:null,initFullscreen:function(){return this.tryoutId=$("#leaderboard-fullscreen").data("tryout-id"),this.competitionId=$("#leaderboard-fullscreen").data("competition-id"),this.snapshotIndex=$("#leaderboard-fullscreen").data("snapshot-index"),this.winnersCount=$("#leaderboard-fullscreen").data("winners-count"),this.channel=new Hera.channel.Leaderboard({tryoutId:this.tryoutId}),Hera.competitions.initTestRemainTimer($(".js-leaderboard-remain-timer")),this.reloadTryoutEndTime()},handleEvaluation:function(e){switch(e.type){case"start":return this.startBlinking(e.tryoutTokenId,e.challengeableId);case"skipped":return this.stopBlinking(e.tryoutTokenId,e.challengeableId);case"result":return this.stopBlinking(e.tryoutTokenId,e.challengeableId),e.passed?this.showColor(e.tryoutTokenId,e.challengeableId,"success",2e3):this.showColor(e.tryoutTokenId,e.challengeableId,"fail",2e3),this.updateLeaderboard();case"stop":return this.stopBlinking(e.tryoutTokenId,e.challengeableId);default:return}},handleRefresh:function(){return this.updateLeaderboard()},handleFreezing:function(){return location.reload()},handleSnapshot:function(e){this.disableStepButton(),""===this.snapshotIndex?this.showSelectionRankAlert(e.competitionId,e.tryoutId):$.get("/competitions/"+e.competitionId+"/leaderboard/"+e.tryoutId+"/snapshots.js",{last_snapshot_index:this.snapshotIndex})},enableStepButton:function(){return $(".open-score-btn").removeClass("disabled")},disableStepButton:function(){return $(".open-score-btn").addClass("disabled"),$(".open-score-btn.disabled").click(function(e){return e.preventDefault()})},updateResultTryoutToken:function(e,t,n,i){var r;return null==i&&(i=1e3),r=0,$($("#entry-"+e+" .blinkable").get().reverse()).each(function(e){return r=1e3*(e+1),setTimeout((n=this,function(){if($(n).hasClass("background-start"))return t[e]?($(n).removeClass("background-start"),$(n).addClass("background-blue"),$(n).find(".spinner").addClass("hidden"),$(n).find(".challenge-result").removeClass("hidden"),$(n).find(".result-value").each(function(n){var i;return i=t[e][n],$(this).html(i)}),setTimeout(function(){return $(n).removeClass("background-blue")},2e3)):($(n).removeClass("background-start"),$(n).find(".challenge-result").removeClass("hidden"),$(n).find(".spinner").addClass("hidden"),$(n).parent().addClass("unfrozen"))}),r);var n}),setTimeout(function(){return n()},r+i)},startBlinkingTryoutToken:function(e){return $("#entry-"+e+" .blinkable").each(function(){return $(this).addClass("background-start"),$(this).find(".spinner").removeClass("hidden"),$(this).find(".challenge-result").addClass("hidden")})},startBlinking:function(e,t){return this.stopBlinking(e,t),this.blinkings[e]=setInterval(function(){return $("#entry-"+e+" td.challenge-"+t+" .blinkable").addClass("background-start"),$("#entry-"+e+" td.challenge-"+t+" .blinkable .spinner").removeClass("hidden"),$("#entry-"+e+" td.challenge-"+t+" .blinkable .challenge-result").addClass("hidden")},1e3)},stopBlinking:function(e,t){var n;if(this.blinkings[e]&&clearInterval(this.blinkings[e]),(n=$("#entry-"+e+" td.challenge-"+t+" .blinkable")).hasClass("background-start"))return n.removeClass("background-start"),n.find(".challenge-result").removeClass("hidden"),n.find(".spinner").addClass("hidden")},showColor:function(e,t,n){return $("#entry-"+e+" td.challenge-"+t+" .blinkable").addClass("background-"+n),"success"===n?$("#entry-"+e+" td.challenge-"+t+" .background-success").html("\uc131\uacf5"):$("#entry-"+e+" td.challenge-"+t+" .blinkable.background-fail").html("\uc2e4\ud328")},reloadTryoutEndTime:function(){var e;if((e=$(".js-leaderboard-remain-timer").data("tryout-remaining-end-time"))>0)return setTimeout(function(){return location.reload()},e+1e3)},updateLeaderboard:function(){return $.get("/competitions/"+this.competitionId+"/leaderboard/"+this.tryoutId+"/ranks.js")},showNewRanker:function(e){var t;return(t=$("#new-ranker")).modal("show"),t.find(".ranker.name").html(e.name),t.find(".ranker.score").html(Math.round(10*e.score)/10+""),setTimeout(function(){return t.modal("hide")},7e3)},updateRanks:function(e,t){return $("#leaderboard").rankingTableUpdate(e,t)},updateRanksComplete:function(){var e;if(Competitions.leaderboard.entries.shift(),Competitions.leaderboard.entries.length>0)for(e=Competitions.leaderboard.entries.pop(),Competitions.leaderboard.updateLeaderboard(e,Competitions.leaderboard.defaultRanksOption);Competitions.leaderboard.entries.length>0;)Competitions.leaderboard.entries.pop();if(void 0!==this.snapshotIndex&&($("#leaderboard").find(".entry-opened .blinkable-score").addClass("fixed"),this.snapshotIndex<this.winnersCount))return this.enableStepButton()},defaultRanksOption:{onComplete:function(){return Competitions.leaderboard.updateRanksComplete()},duration:[1e3,0,700,0,500],extractIdFromCell:function(e){return $(e).parent().data("tryout-token-id")},animationSettings:{up:{left:-40,backgroundColor:"#ffffff"},down:{left:0,backgroundColor:"#ffffff"},fresh:{left:-40,backgroundColor:"#ffffff"},drop:{left:0,backgroundColor:"#ffffff"}}},showSelectionRankAlert:function(e,t){var n;return(n=$("#selection-ranker")).modal("show"),setTimeout(function(){return n.modal("hide")},7e3),n.on("hidden.bs.modal",function(){return $(".award-list").removeClass("hidden"),$(".leaderboard-timer-wrap").addClass("hidden"),Competitions.leaderboard.enableStepButton(),$.get("/competitions/"+e+"/leaderboard/"+t+"/snapshots.js",{last_snapshot_index:this.snapshotIndex})})},increaseProgressBar:function(e){return $(".progress .progress-bar").css("width",e)}}}.call(this),function(){Learn.challenges={_initBannerSwiper:function(){return new Swiper(".swiper-container",{slidesPerView:"1",spaceBetween:16,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!1},pagination:{el:".swiper-pagination",type:"bullets"}})},initIndex:function(){return this._initBannerSwiper(),this._initFilterHanlder()},_initFilterHanlder:function(){var e;return(this._getSelectedCollectionPartIds().length>0||this._getSelectedLanguages().length>0||this._getSelectedLevels().length||this._getSelectedStatus().length>0)&&$(".challenge__algorithms--filter .filter__list li input:checked").each((e=this,function(t,n){var i;return i=e._getSelectedFilterData(n),e._addFilter(i.label,i.filter,i.filterType)})),$(document).on("click",".challenge__algorithms--filter .filter__list li input",function(e){return function(t){var n;return e._getFilteredLessons(),n=e._getSelectedFilterData(t.target),t.target.checked?e._addFilter(n.label,n.filter,n.filterType):e._removeFilter(n.filter)}}(this)),$(document).on("click",".label button",function(e){return function(t){var n;return n=$(t.currentTarget).parent().data("filter"),$(t.currentTarget).parent().data("filter-type"),e._removeFilter(n),$(".challenge__algorithms--filter .filter__list input[data-filter="+n+"]").prop("checked",!1),e._getFilteredLessons()}}(this)),$("#resetFilter").click(function(e){return function(){return e._resetFilter()}}(this))},_getSelectedFilterData:function(e){var t,n,i;return t=(i=$(e).data()).filter,n=i.filterType,{label:$(e).parent().text(),filter:t,filterType:n}},_resetFilter:function(){return $(".filter__list input").prop("checked",!1),$(".filter__label--selected .label").remove(),this._getFilteredLessons()},_getFilteredLessons:function(){return $.get("/learn/challenges/filter_lessons",{challenge_levels:this._getSelectedLevels(),challenge_collection_part_ids:this._getSelectedCollectionPartIds(),challenge_languages:this._getSelectedLanguages(),challenge_statuses:this._getSelectedStatus()}).fail(function(){return Hera.utils.snackbar("\ubb38\uc81c\ub97c \uac00\uc838\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4. \uc0c8\ub85c\uace0\uce68 \ud574\uc8fc\uc138\uc694.")})},_getSelectedLevels:function(){var e,t,n,i,r;for(r=[],t=0,n=(i=$(".challenge__algorithms--filter .filter__level li input:checked")).length;t<n;t++)e=i[t],r.push($(e).data("filter"));return r},_getSelectedCollectionPartIds:function(){var e,t,n,i,r;for(r=[],t=0,n=(i=$(".challenge__algorithms--filter .filter__collection li input:checked")).length;t<n;t++)e=i[t],r.push($(e).data("filter"));return r},_getSelectedLanguages:function(){var e,t,n,i,r;for(r=[],t=0,n=(i=$(".challenge__algorithms--filter .filter__language li input:checked")).length;t<n;t++)e=i[t],r.push($(e).data("filter"));return r},_getSelectedStatus:function(){var e,t,n,i,r;for(r=[],t=0,n=(i=$(".challenge__algorithms--filter .filter__status li input:checked")).length;t<n;t++)e=i[t],r.push($(e).data("filter"));return r},_filterTemplate:function(e,t,n){return"<span class='label label-primary' data-filter='"+t+"' data-filter-type='"+n+"'> "+e+' <button><svg class="ic-12"><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-close"/></svg></button> </span>'},_addFilter:function(e,t,n){return $(".filter__label--selected .label-wrap").append(this._filterTemplate(e,t,n))},_removeFilter:function(e){return $(".label[data-filter = "+e+"]").remove()}}}.call(this),function(){Learn.courses={initShow:function(){return $("#course_show_nav .nav-item a").on("click",function(){var e;return $(this).closest("a.nav-link").removeClass("active"),$(this).addClass("active"),e=$("#course_show_nav").find("a.nav-link")[0],$(this)[0]===e?Hera.commons.scrollToElement($(this.hash),{with_top_margin:!0}):Hera.commons.scrollToElement($(this.hash))}),$(window).on("scroll",function(){return $(".content-item").each(function(){var e;if($(window).scrollTop()>=$(this).position().top-40)return e=$(this).attr("id"),$("#course_show_nav a.nav-link").removeClass("active"),$("#course_show_nav a.nav-link[href='#"+e+"']").addClass("active")})}),$(".btn-modal").click(function(){return fbq("track","AddToCart")}),Learn.questions.loadQuestions(1,10,!1),Learn.questions.bindKeyUp(),this.loadMoreReviews(),$(".content").data("scroll-to-curriculm")&&$(window).scrollTop($("#curriculum").position().top),this.initOverviewMenu(),this.initCourseClickHandler()},initCourseClickHandler:function(){return $(".not-allowed-course").click(function(e){var t,n,i,r,o;return e.preventDefault(),r=(n=$(e.currentTarget).data()).startAt,i=n.remainingDatetime,o="\uac15\uc758 \uc2dc\uc791 \uc548\ub0b4",t=r&&i?t="\uac15\uc758 \uc2dc\uc791\uc77c\uc774 "+i+" \ub0a8\uc558\uc2b5\ub2c8\ub2e4. <br/> "+r+"\uc5d0 \ub2e4\uc2dc \uc811\uc18d\ud574\uc8fc\uc138\uc694.":"\uc900\ube44\uc911\uc778 \uac15\uc758\uc785\ub2c8\ub2e4.",Hera.utils.showModal(o,t)})},initQna:function(){return Learn.questions.bindKeyUp(),Learn.questions.loadQuestions()},initOverviewMenu:function(){var e;if(0!==$("#overview-fixed-menu").length&&!Hera.commons.isMobile())return $("#overview-fixed-menu").trigger("detach.ScrollToFixed"),e=$("#course_show_nav").height(),$("#overview-fixed-menu").scrollToFixed({minWidth:992,marginTop:e+16,limit:$("footer").position().top-$("#overview-fixed-menu").outerHeight(!0)-10})},loadMoreReviews:function(){return $("#btn-load-more-reviews").click(function(e){var t;return e.preventDefault(),t=$("#last-review-id").val(),$.ajax({url:$("#btn-load-more-reviews").data("url"),data:{last_review_id:t}})})}}}.call(this),function(){Learn.home={charts:[],_initBannerSwiper:function(){return new Swiper(".swiper-container",{slidesPerView:"1",spaceBetween:16,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!1},pagination:{el:".swiper-pagination",type:"bullets"}})},_initContinuePopup:function(){return Hera.commons.initFlashes(),$(".btn-close-flash").click(function(){return $(".content-banner-wrap").remove()}),$(".btn-content-arrow, .btn-content-paragraph").click(function(){return $(".content-arrow").removeClass("rotated"),$(".learn-content.expended").is(":visible")||$(".content-arrow").addClass("rotated"),$(".learn-content,.expended").slideToggle("fast","swing")})},initIndex:function(){return this._initBannerSwiper(),this._initContinuePopup(),this._initTagSelectUI()},updateCourses:function(e){var t,n;return t=e,"\ubaa8\ub4e0 \ucf54\uc2a4"===e&&(e=""),n="/learn/courses/tag/"+encodeURIComponent(e),$(".courses").data("limited")&&(n+="?limited=true"),$(".course-list").load(n),window.history.pushState(null,null,"/learn?tag="+t)},_initTagSelectUI:function(){var e;return $("#select").change((e=this,function(){var t;return t=$("#select option:selected").text(),$('.nav-pills a[href="#'+decodeURIComponent(t).replace(" ","_")+'"]').tab("show"),e.updateCourses(t)})),$('.courses__tabs a[data-toggle="tab"]').on("shown.bs.tab",function(e){return function(t){var n;return n=$(t.target).text(),$("#select").val(n),e.updateCourses(n)}}(this))}}}.call(this),function(){}.call(this),function(){Learn.lessons={initShow:function(){var e,t,n;return e=(n=$(".lesson-content").data()).lessonId,t=n.lessonType,this.initResizeHandler(),this.initQuestionHandler(),this.initButtons(),"Video"===t?this.initVideoLesson():"Challenge"===t?this.initChallengeableEditor(e):void 0},initChallengeableEditor:function(){var e,t,n;return t=$(".challenge-content").data().challengeableType,e=$(".challenge-content").data(),(n=new Learn.lessons.Base).initLesson(),this.challengeable=new(Hera.lesson[$.camelize(t,{pascalCase:!0})])(e,n)},initVideoLesson:function(){var e,t;return t=$("#lesson-player").data().videoProvider,e=$("#lesson-player").data(),this.video=function(){switch(t){case"youtube":return new Learn.lessons.YoutubeVideoLesson(e);case"vimeo":return new Learn.lessons.VimeoVideoLesson(e)}}(),this.video.initLesson()},resumeVideo:function(){return this.video.resume()},replayVideo:function(){return this.video.replay()},showCourseFinished:function(e){return swal({title:e,text:"\ucd95\ud558\ud569\ub2c8\ub2e4! ["+e+"]\uc758 \ubaa8\ub4e0 \uac15\uc758\ub97c \uc218\uac15\ud558\uc168\uc5b4\uc694.",imageUrl:"/images/learn/img_congratu@2x.png",imageSize:"444x128"})},initQuestionHandler:function(){return Learn.questions.bindKeyUp(),$(document).on("shown.bs.tab",function(e){if("#qna"===$(e.target).attr("href"))return Learn.questions.loadQuestions()})},initButtons:function(){return $("#btn-show-question").click((e=this,function(t){return t.preventDefault(),e.challengeable&&e.challengeable.saveTemporaryCode(!1),location.href=t.target.href}));var e},initQuestions:function(){return Learn.questions.bindKeyUp(),Learn.questions.loadQuestions(),Hera.comments.initComment()},initResizeHandler:function(){return this.resizeTitles(),$(window).resize((e=this,function(){return e.resizeTitles()}));var e},resizeTitles:function(){var e;return e=$(window).width()+15,$(".nav-title").width(e-$(".navbar-brand").outerWidth()-$(".right-menu").outerWidth()-100),$(".lesson-nav .btn-center").width(e-350)},initSolutionGroups:function(){return Hera.commons.initFlashes(),Hera.comments.initComment()}}}.call(this),function(){Learn.lessons.Base=function(){function e(){}return e.prototype.finish=function(){return $.post("/learn/courses/"+this.courseId+"/lessons/"+this.lessonId+"/finish")},e.prototype.initLesson=function(){var e
;return e=$(".lesson-content").data(),this.courseId=e.courseId,this.lessonId=e.lessonId,e},e.prototype.showSuccessModal=function(e,t,n){var i,r,o,a,s;if(null==t&&(t=null),null==n&&(n={}),i=n.isNewRating?'\uc810\uc218\ub97c \ud68d\ub4dd\ud558\uc600\uc2b5\ub2c8\ub2e4!\n<h1 class="modal-user-rating"><div id="user_rating">'+n.oldUserRating+"</div>&nbsp;(+"+(n.newUserRating-n.oldUserRating)+")<h1>":"",$("#view-solution-group").length>0&&((r=$("#view-solution-group")).attr("href",t),r.removeData("remote"),r.find("svg").remove()),$(".btn-next").length>0?((s=$(".btn-next").clone()).text(e),s.removeClass("btn-sm").removeClass("btn-dark").addClass("btn-primary"),a="<a href='#' class='btn btn-light' data-dismiss='modal'>"+I18n.t("terms.close")+"</a>\n"+s.prop("outerHTML")):a="<a href='#' class='btn btn-light' data-dismiss='modal'>"+I18n.t("terms.close")+"</a>\n<a href="+t+" class='btn btn-primary'>"+e+"</a>",o=Hera.templates.makeModal("\uc815\ub2f5\uc785\ub2c8\ub2e4!",i,a),$("#modal-dialog").html(o),$("#modal-dialog").modal({show:!0}),n.isNewRating)return this.showEloAnimation(n)},e.prototype.showFailedModal=function(){var e;return e=Hera.templates.makeModal("\ud2c0\ub838\uc2b5\ub2c8\ub2e4!","\uacb0\uacfc\ub97c \ud655\uc778\ud574 \uc8fc\uc138\uc694.",'<a href="#" class="btn btn-primary" data-dismiss="modal">\ubb38\uc81c\ub85c \ub3cc\uc544\uac00\uae30</a>'),$("#modal-dialog").html(e),$("#modal-dialog").modal({show:!0})},e.prototype.showNextButton=function(){return $("#next-button").removeClass("hidden")},e.prototype.showEloAnimation=function(e){return this._basicTimeline=anime({targets:e,oldUserRating:e.newUserRating,easing:"linear",round:1,delay:800,update:function(){return $("#user_rating").text(e.oldUserRating)}}),this._basicTimeline.play()},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Learn.lessons.VideoLesson=function(n){function i(t){this.onPlayerReady=e(this.onPlayerReady,this),t&&(this.videoId=t.videoId,this.lastPosition=t.lastPosition)}return t(i,n),i.prototype.initLesson=function(){return i.__super__.initLesson.call(this),this.loadPlayer()},i.prototype.loadPlayer=function(){return $(window).on("beforeunload",(e=this,function(){null!=e.player&&e.markPosition()}));var e},i.prototype.onPlayerEnded=function(){return $(".lesson-video.finished").show(),this.finish()},i.prototype.onPlayerReady=function(){if(0!==parseInt(this.lastPosition))return $(".lesson-video.resume").show()},i}(Learn.lessons.Base)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;Learn.lessons.VimeoVideoLesson=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.loadPlayer=function(){var e,t;return n.__super__.loadPlayer.call(this),e=document.querySelector(".video-content iframe"),this.player=new Vimeo.Player(e),this.player.on("ended",(t=this,function(){return t.onPlayerEnded()})),this.player.ready().then(function(e){return function(){return e.onPlayerReady()}}(this))},n.prototype.replay=function(){return $(".lesson-video.finished, .lesson-video.resume").hide(),this.setPosition(0)},n.prototype.resume=function(){return $(".lesson-video.resume").hide(),this.setPosition(this.lastPosition)},n.prototype.markPosition=function(){return this.player.getCurrentTime().then((e=this,function(t){return $.post("/learn/courses/"+e.courseId+"/lessons/"+e.lessonId+"/mark",{position:t})}));var e},n.prototype.setPosition=function(e){return this.player.setCurrentTime(e).then(function(){})},n.prototype.videoIframe=function(e){return"https://player.vimeo.com/video/"+e},n.prototype.videoUrl=function(e){return"https://vimeo.com/"+e},n}(Learn.lessons.VideoLesson)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;Learn.lessons.YoutubeVideoLesson=function(n){function i(){return this.onPlayerStateChange=e(this.onPlayerStateChange,this),i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.loadPlayer=function(){var e,t,n;return i.__super__.loadPlayer.call(this),"undefined"==typeof YT||"undefined"==typeof YT.Player?((t=document.createElement("script")).src="https://www.youtube.com/iframe_api",(e=document.getElementsByTagName("script")[0]).parentNode.insertBefore(t,e),window.onYouTubePlayerAPIReady=(n=this,function(){return n.loadYouTubePlayer()})):this.loadYouTubePlayer()},i.prototype.loadYouTubePlayer=function(){return this.player=new YT.Player("lesson-player",{height:"auto",width:"100%",videoId:this.videoId,playerVars:{controls:1,showinfo:0,rel:0,showsearch:0,iv_load_policy:3},events:{onReady:this.onPlayerReady,onStateChange:this.onPlayerStateChange}})},i.prototype.onPlayerStateChange=function(e){switch(e.data){case YT.PlayerState.ENDED:return this.onPlayerEnded()}},i.prototype.replay=function(){return $(".lesson-video.finished, .lesson-video.resume").hide(),this.player.loadVideoById(this.videoId)},i.prototype.resume=function(){return $(".lesson-video.resume").hide(),this.player.seekTo(parseInt(this.lastPosition))},i.prototype.markPosition=function(){var e;return e=null!=this.player.getCurrentTime?this.player.getCurrentTime():0,$.post("/learn/courses/"+this.courseId+"/lessons/"+this.lessonId+"/mark",{position:e})},i.prototype.videoIframe=function(e){return"https://www.youtube.com/embed/"+e},i.prototype.videoUrl=function(e){return"https://www.youtube.com/watch?v="+e},i}(Learn.lessons.VideoLesson)}.call(this),function(){LearnManagement.courses={initManagement:function(){var e,t;return e=$(".sidebar .menu:first-child"),this._loadContent(e),$(".sidebar .menu").click((t=this,function(e){return e.preventDefault(),t._loadContent($(e.currentTarget))}))},_loadContent:function(e){var t;return t=e.attr("href"),$(".page-content").load(t,function(){return $(".sidebar .menu").removeClass("active"),e.addClass("active")})}}}.call(this),function(){Learn.questions={initShow:function(){return $("#run_code_form").on("ajax:error",function(){return alert("\uc2e4\ud589 \uc2dc \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}),Hera.comments.initComment(),this.handleQuestionBtns()},handleQuestionBtns:function(){return this.handleEditAnswerBtn(),this.handleEditQuestionBtn(),this.handlePreviewAnswerBtn(),this.handlePreviewQuestionBtn()},loadQuestions:function(e,t,n){return null==e&&(e=1),null==t&&(t=20),null==n&&(n=!0),$.ajax({url:"/questions",data:{questionable_id:$("#qna").data("questionableId"),questionable_type:$("#qna").data("questionableType"),per_page:t,page:e,paginate:n}})},loadNewForm:function(){return $.get("/questions/new",$("#preview_question").serialize())},loadPreviewForm:function(){return $.post("/questions/preview",$("#new_question").serialize())},handleNewAnswerBtn:function(){return Hera.commons.scrollToElement($(".answer-form"))},handleEditAnswerBtn:function(){return $(".btn-cancel-edit-answer").click(function(){var e,t,n;return e=$(this).data("answerId"),n=!0,(t=$("#answer-"+e+" .answer-body")).data("original-value")!==$("#answer_content").val()&&(n=confirm("\uc791\uc131 \uc911\uc778 \ub2f5\ubcc0\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")),n&&(t.html(t.data("original-markup")),t.data("original-markup",""),t.data("original-value",""),$("#comment-"+e+"-form").show()),!1})},handleEditQuestionBtn:function(){return $(".btn-cancel-edit-question").click(function(){var e;return(e=$("#question-"+$(this).data("questionId")+" .question-body")).html(e.data("backup")),e.data("backup",""),!1})},handlePreviewAnswerBtn:function(){return $(".btn-answer-preview").click(function(){var e,t;return t=$(this).data("url"),e=$(this).data("answerId"),$.post(t,{content:$("#edit_answer_"+e+" textarea").val()})})},handlePreviewQuestionBtn:function(){return $(".btn-question-preview").click(function(){var e,t,n,i,r;return n=$(this).data("questionId"),i=(t=$("#edit_question_"+n)).find("#question_title").val(),e=t.find("#question_content").val(),r=$(this).data("url"),$.post(r,{title:i,content:e})})},bindKeyUp:function(){var e;return $(document).on("keyup","#question_title",(e=this,function(){return e.enableSubmitbutton()})),$(document).on("keyup","#question_content",function(e){return function(){return e.enableSubmitbutton()}}(this))},enableSubmitbutton:function(){return $("#question_title").val().length>=1&&$("#question_content").val().length>=1?$('.modal-dialog input[type="submit"]').prop("disabled",!1):$('.modal-dialog input[type="submit"]').prop("disabled",!0)}}}.call(this),function(){Learn.registration={initShow:function(){return $(".cloudinary-fileupload").bind("cloudinarydone",function(e,t){return $("#preview").html($.cloudinary.image(t.result.public_id,{format:t.result.format,version:t.result.version,width:100,height:100,radius:"max"})),!0}),$(".cloudinary-fileupload").cloudinary_fileupload({dropZone:"#preview",maxFileSize:2048,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,start:function(){return $("#preview").html('<div class="sk-three-bounce"> <div class="sk-child sk-bounce1"></div> <div class="sk-child sk-bounce2"></div> <div class="sk-child sk-bounce3"></div> </div>')},progress:function(){},fail:function(){return swal({title:"\uc624\ub958",text:"\uc0ac\uc9c4\uc744 \uc5c5\ub85c\ub4dc\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.",type:"error",confirmButtonText:"\ud655\uc778"})}})}}}.call(this),function(){Learn.reviews={enableStarRating:function(e){return $("#course-rating").rateYo({rating:e,halfStar:!0,onChange:function(){if($(this).rateYo("rating")<.5)return $(this).rateYo("rating",.5)}})},enableConfirmBtn:function(){return $("form").on("submit",function(){return $("#star-rating").val($("#course-rating").rateYo("rating"))})}}}.call(this),function(){Learn.users={initShow:function(){return $(".cloudinary-fileupload").cloudinary_fileupload({dropZone:"#preview",maxFileSize:2048,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,start:function(){return $("#preview").html('<div class="progress-circle-indeterminate setting-profile-picture"></div>')},progress:function(){},fail:function(){return swal({title:"\uc624\ub958",text:"\uc0ac\uc9c4\uc744 \uc5c5\ub85c\ub4dc\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.",type:"error",confirmButtonText:"\ud655\uc778"})}}),$(".cloudinary-fileupload").bind("cloudinarydone",function(e,t){return $.post(window.location.pathname+"/update_image",{image_id:t.result.public_id,_method:"put"})}),$("#delete_account_text").click(function(){return $("#fake_delete_account").hide(),$("#delete_account_detail").show()}),$("#agree_delete_account").change(function(){return this.checked?$("#delete_account_button").prop("disabled",!1):$("#delete_account_button").prop("disabled",!0)}),$("#delete_account_button").click(function(){return $.post("/users",{_method:"delete"})}),$("#answer_mail_notification").change(function(){return $("#update_email_notification_btn").show()}),$("#news_mail_notification").change(function(){return $("#update_email_notification_btn").show()})}}}.call(this),function(){Learn.video={VIDEO_PATTERN:/(http:\/\/|https:\/\/|)(player.|www.)?(scrimba\.com|vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\S+)?/,get:function(e){switch(e){case"youtube":return null!=this.youtube?this.youtube:this.youtube=new Learn.lessons.YoutubeVideoLesson;case"vimeo":return null!=this.vimeo?this.vimeo:this.vimeo=new Learn.lessons.VimeoVideoLesson}},parseVideo:function(e){return e.match(this.VIDEO_PATTERN)?RegExp.$3.indexOf("youtu")>-1?{type:"youtube",id:RegExp.$6}:RegExp.$3.indexOf("vimeo")>-1?{type:"vimeo",id:RegExp.$6}:RegExp.$3.indexOf("scrimba")>-1?{type:"scrimba"}:void 0:{type:null}}}}.call(this),function(){School.courses={initShow:function(){var e,t;return t=$("#scroll_part_target").text(),e=$("#scroll_lesson_target").text(),""!==t&&Hera.commons.scrollToElement($(".part-wrapper[data-id="+t+"]")),""!==e&&Hera.commons.scrollToElement($(".lesson[data-id="+e+"]")),this._initLeftMenuScrollHandler(),this._initPartCollapseHandler(),this.expandParts(),this.toggleMoveLesson()},initIndex:function(){return this.initCourseClickHandler()},initCourseClickHandler:function(){return $(".not-allowed-course").click(function(e){var t,n,i,r,o;return e.preventDefault(),r=(n=$(e.currentTarget).data()).startAt,i=n.remainingDatetime,o="\uac15\uc758 \uc2dc\uc791 \uc548\ub0b4",t=r&&i?t="\uac15\uc758 \uc2dc\uc791\uc77c\uc774 "+i+" \ub0a8\uc558\uc2b5\ub2c8\ub2e4. <br/> "+r+"\uc5d0 \ub2e4\uc2dc \uc811\uc18d\ud574\uc8fc\uc138\uc694.":"\uc900\ube44\uc911\uc778 \uac15\uc758\uc785\ub2c8\ub2e4.",Hera.utils.showModal(o,t)})},expandParts:function(){var e;return e=store.get("parts.expanded")||[],$.each(e,function(e,t){return $(".collapse-box[data-part-id="+t+"]").collapse("show")})},addToExpandedParts:function(e){var t;return(t=new Set(store.get("parts.expanded")||[])).add(e),store.set("parts.expanded",t)},removeFromExpandedParts:function(e){var t;return(t=new Set(store.get("parts.expanded")||[]))["delete"](e),store.set("parts.expanded",t)},_initPartCollapseHandler:function(){var e;return $(document).on("shown.bs.collapse",".collapse-box",(e=this,function(t){return e.addToExpandedParts($(t.currentTarget).data("partId"))})),$(document).on("hidden.bs.collapse",".collapse-box",function(e){return function(t){return e.removeFromExpandedParts($(t.currentTarget).data("partId"))}}(this))},_initLeftMenuScrollHandler:function(){var e,t;return t=$(".course-row").offset().top-16,e=$(".footer-wrap").height(),$(window).scroll(_.throttle(function(){var n,i;return n=$(this).scrollTop(),i=$(this).height(),n>t?$(".course-row").addClass("scroll"):$(".course-row").removeClass("scroll"),$(document).height()-e>n+i?$(".course-row .part").removeClass("scroll-bottom"):$(".course-row .part").addClass("scroll-bottom")},50))},initQuestions:function(){return Learn.questions.bindKeyUp(),Hera.comments.initComment()},scrollPart:function(e){return Hera.commons.scrollToElement($(".part-wrapper[data-id="+e+"]"))},syncPartNumber:function(){return $(".part-wrapper .part-number").each(function(e){return $(this).text(e+1)})},toggleMoveLesson:function(){return $(".list-group.lesson-list").sortable({connectWith:".list-group.lesson-list",cursor:"move",handle:".icon-move-lesson",update:function(e,t){var n,i,r,o,a,s,l,c;if(this===(s=(a=t.item).parent())[0])return o=!!(r=t.sender),i=a.closest(".part-wrapper").data("id"),l=a.first().data("id"),c=[],s.find("li").each(function(){if($(this).data("id"))return c.push($(this).data("id"))}),o&&0===r.children().length&&(n=HandlebarsTemplates["lessons/blank_lesson"](),r.append(n)),o&&s.find(".list-group-item.tutorial").length>0&&s.find(".list-group-item.tutorial").remove(),School.courses.updateMoveLesson(l,i,o,c)}}).disableSelection()},updateMoveLesson:function(e,t,n,i){var r;return r=$(".course-title-top").attr("data-id"),$.get("/courses/"+r+"/lessons/"+e+"/move",{des_part_id:t,is_move_other_part:n,lesson_ids:i},function(e){if("invalid"===e.status)return Hera.utils.snackbar("\ud574\ub2f9 \uc791\uc5c5\uc744 \uc644\ub8cc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc0c8\ub85c \uace0\uce68 \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")})},submitSearch:function(){return $("#course_search_form").trigger("submit.rails")},initImportModal:function(){return 0===$("#learn_course tbody").children().length?$("#no_search_result").removeClass("hide"):$("#no_search_result").addClass("hide")},initForUpload:function(){return $("#school-course-file-wrapper").on("cocoon:before-insert",function(e,t){return t.first().find(".form-group input").trigger("click")})},showPurchaseInquiryModal:function(e){return $("#modal-dialog").modal("hide"),$("#purchase_inquiry_content").val("["+e+"] \uac15\uc758 \uc790\ub8cc \uad6c\ub9e4\ub97c \ud76c\ub9dd\ud569\ub2c8\ub2e4. \uc218\uac15\uc790 \uc218\ub294 00\uba85\uc73c\ub85c \uc608\uc0c1\ud569\ub2c8\ub2e4."),$("#purchase-inquiry-modal-dialog").modal({show:!0})},enrolledCourseInit:function(){return $(document).on("click",'#join-course-form input[type="submit"]',function(e){var t,n,i;return t=$("#join-course-form input[name='course[course_number]']").val(),i=$("#join-course-form input[name='course[student_number]']").val(),n=$("#join-course-form input[name='course[student_name]']").val(),""===t||""===i?($(".form-error").removeClass("hidden"),void $(".form-error .message").html("\uc785\ub825\ub418\uc9c0 \uc54a\uc740 \uc815\ubcf4\uac00 \uc788\uc2b5\ub2c8\ub2e4.")):(e.preventDefault(),$.ajax({url:"/courses/"+t+"/check_course",data:{student_number:i,student_name:n},error:function(){return $(".form-error").removeClass("hidden"),$(".form-error .message").html("\uc785\ub825\ub41c \uc815\ubcf4\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")},success:function(){return document.querySelector("#join-course-form").submit()}}))})},showGuideVideo:function(){return $("#guide-modal").modal({show:!0,backdrop:"static",keyboard:!1})}}}.call(this),function(){School.lessons={validationErrors:[],initNew:function(){return this._initLessonChallengeForm()},initCreate:function(){return this._initLessonChallengeForm()},initEdit:function(){return this._initLessonChallengeForm()},initUpdate:function(){return this._initLessonChallengeForm()},_initLessonChallengeForm:function(){return $.urlParam(window.location.href,"type"),this.lessonChallengeForm=new Hera.solvable.Lesson,this.lessonChallengeForm.initHandlers()},initShow:function(){return $(".tryout-lesson").length>0?Hera.tryouts.initShow():$(".lesson-content").length>0?Learn.lessons.initShow():void 0},eventVideoModal:function(){var e,t,n,i,r,o;return e=$("#notice-video"),r=$(".video-preview"),i=$("#video-iframe"),t=$("#video__section").data("id"),o=$("#lesson_video_provider").val(),t&&(n=Learn.video.get(o),e.addClass("hidden"),r.removeClass("hidden"),i.attr("src",n.videoIframe(t))),$("#lesson_video_url").on("input",function(){var t;return null===(t=Learn.video.parseVideo($(this).val())).type?(e.removeClass("hidden"),r.addClass("hidden"),i.addClass("hidden"),i.attr("src","")):"scrimba"===t.type?$("#lesson_type").val("Scrimba"):($("#lesson_type").val("Video"),n=Learn.video.get(t.type),i.attr("src",n.videoIframe(t.id)),e.addClass("hidden"),r.removeClass("hidden"),i.removeClass("hidden"),$("#lesson_video_provider").val(t.type))})},_checkEnableSubmit:function(){var e,t;return this.validationErrors=[],$("#bulletin_title").length>0?(t=$("#bulletin_title").val(),e=$("#bulletin_notes").val()):(t=$("#lesson_title").val(),e=$("#lesson_notes").val()),0===t.length&&this.validationErrors.push("\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4."),0===e.length&&this.validationErrors.push("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4."),$("#notice-video").length>0&&$(".video-preview").hasClass("hidden")&&this.validationErrors.push("\ub3d9\uc601\uc0c1 \uc8fc\uc18c\uac00 \uc798\ubabb \uc62c\ub77c\uac14\uc2b5\ub2c8\ub2e4."),!(this.validationErrors.length>0)},preview:function(e,t){var n,i,r,o;return n=$(".modal-dialog .editor-box"),i=$(".modal-dialog .post-preview"),r=$(".modal-dialog .btn-preview"),o=$(".modal-dialog .mark-down-guide"),Hera.commons.showFormError(),n.is(":hidden")?($('input[type="submit"]').prop("disabled",!1),n.show(),o.show(),i.hide(),r.html("\ubbf8\ub9ac \ubcf4\uae30"),$(".video-wrapper").length>0?$(".video-editor").show():void 0):(this._checkEnableSubmit()?($('input[type="submit"]').prop("disabled",!1),Hera.commons.showFormError()):($('input[type="submit"]').prop("disabled",!0),Hera.commons.showFormError("\ud3fc \ud56d\ubaa9\uc5d0 \uc5d0\ub7ec\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ud3b8\uc9d1\ud654\uba74\uc5d0\uc11c \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.<br>"+this.validationErrors.join("<br>"))),n.hide(),i.find("div.title").html($(e).val()),$.post("/courses/preview",{notes:$(t).val()}).done(function(e){if(i.find("div.notes").html(e),n.hide(),o.hide(),i.show(),r.html("\ud3b8\uc9d1\ud558\uae30"),$(".video-wrapper").length>0)return $(".video-editor").hide()}))}}}.call(this),function(){School.root={initIndex:function(){return $(document).on("click",".school-menu-icon",function(){var e;switch($(this).find("svg").data("component")){case"test":e="https://s3.ap-northeast-2.amazonaws.com/grepp-cloudfront/programmers_imgs/hera-project-imgs/school-imgs/img-school-root-sub01.png";break;case"quiz":e="https://s3.ap-northeast-2.amazonaws.com/grepp-cloudfront/programmers_imgs/hera-project-imgs/school-imgs/img-school-root-sub02.jpg";break;case"note":e="https://s3.ap-northeast-2.amazonaws.com/grepp-cloudfront/programmers_imgs/hera-project-imgs/school-imgs/img-school-root-sub03.jpg";break;case"video":e="https://s3.ap-northeast-2.amazonaws.com/grepp-cloudfront/programmers_imgs/hera-project-imgs/school-imgs/img-school-root-sub04.jpg";break;case"practice":e="https://s3.ap-northeast-2.amazonaws.com/grepp-cloudfront/programmers_imgs/hera-project-imgs/school-imgs/img-school-root-sub05.jpg"}return $("#img-school-component").attr("src",e)})}}}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};School.StudentInvitationTable=function(){function t(e){this.courseID=e,this.DEFAULT_ROW=10,this.VALID_LIST=["valid"],this.BLANK_LIST=["blankName","blankNumber","blankEmail"],this.WARNING_LIST=["registered","duplicatedNumber","duplicatedEmail","invalidName","invalidNumber","invalidEmail","registeredManager","inactiveAccount","ticket"],this.INVALID_CHECK_LIST=this.WARNING_LIST.concat(this.BLANK_LIST),this.CHECK_LIST=["default"].concat(this.VALID_LIST).concat(this.INVALID_CHECK_LIST),this.inviteType="number",this.lastEditRow=null,this.initHandler()}return t.prototype.initHandler=function(){var e;return $(document).on("click","#add-student-row",(e=this,function(){return e.addRow({status:"default"})})),$(document).on("click",".remove-student-row",function(e){return function(t){var n;return n=$(t.target).first().closest("tr"),e.removeRow(n)}}(this)),$(document).on("click","#clear-student-row",function(e){return function(){return e.resetRows()}}(this)),$(document).on("focusin","#invitation-table input",function(e){return function(t){var n;return n=$(t.target).first().closest("tr"),e.lastEditRow=n}}(this)),$(document).on("focusout","#invitation-table input",function(e){return function(t){var n;return n=$(t.target).first().closest("tr"),e.validateRow(n)}}(this)),$(document).on("click","#submit-btn",function(e){return function(t){var n,i;return t.preventDefault(),e.lastEditRow?(i=e.lastEditRow.find('input[name="students[][number]"]').val(),n=e.lastEditRow.find('input[name="students[][name]"]').val(),""===i&&""===n?e.submitCheck():e.validateRow(e.lastEditRow,e.submitCheck.bind(e))):e.submitCheck()}}(this))},t.prototype.initContent=function(){var e,t,n;return $(".btn-import-student").popover(),$(".fileupload").fileupload({url:"/courses/"+this.courseID+"/students/import",type:"POST",dataType:"json",autoUpload:!0,uploadTemplateId:null,downloadTemplateId:null,done:function(e){return function(t,n){var i;return $("#invitation-table[data-type='"+e.inviteType+"'] tbody").html(""),i=n.jqXHR.responseJSON,e.addRows(i),e.allValidateCheck(),$(".form-error").addClass("hidden"),$(".form-error .message").html("")}}(this),fail:function(e,t){var n;return n=t.jqXHR.responseJSON,$(".form-error").removeClass("hidden"),$(".form-error .message").html(n.msg)}}),e=this,n=$("ul.nav-students li a"),(t=$(".enroll-student-table")).hide(),n.click(function(i){var r,o;$("[data-toggle=tooltip]").tooltip("hide"),i.preventDefault(),o=$($(this).attr("href")),(r=$(this)).hasClass("disabled")||(n.closest("li a").removeClass("active"),r.addClass("active"),t.hide(),o.show(),$("#invitation-table tbody").html(""),e.inviteType=r.data("type"),e.resetRows(),$("#invitation_type_type").val(r.data("type")))}),$("ul.nav-students li a.active").trigger("click")},t.prototype.submitCheck=function(){return this.numInvalidStudents()>0?($(".form-error").removeClass("hidden"),$(".form-error .message").html("\uc11c\uc2dd\uc5d0 \uc5d0\ub7ec\uac00 \uc788\uc2b5\ub2c8\ub2e4."),Hera.commons.scrollToElement($("#invitation-table[data-type='"+this.inviteType+"'] tbody tr.invalide-input").first(),{container:"#modal-dialog"}),!1):0===this.numInvitableStudents()?($(".form-error").removeClass("hidden"),$(".form-error .message").html("\ub4f1\ub85d\ud560 \ud559\uc0dd \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."),!1):($(".form-error").addClass("hidden"),$(".form-error .message").html(""),$("#submit-btn").submit(),!0)},t.prototype.addRow=function(e){var t,n;return null==e&&(e=null),""===(n=$("#invitation-table[data-type='"+this.inviteType+"'] tr:last-child td .index").text())&&(n=0),n=Number(n)+1,e.index=n,e.type=this.inviteType,t=HandlebarsTemplates["students/invite_row"](e),$("#invitation-table[data-type='"+this.inviteType+"'] > tbody:last-child").append(t),this.updateRemoveIcons()},t.prototype.addRows=function(e){var t,n,i,r;for(null==e&&(e=null),r=[],n=0,i=e.length;n<i;n++)t=e[n],r.push(this.addRow(t));return r},t.prototype.removeRow=function(e){var t;return e.find("div").tooltip("hide"),e.remove(),t=Number(e.find("td:first-child .index").text()),this.updateRemoveIcons(),this.resetIndex(t)},t.prototype.updateRemoveIcons=function(){return $("#invitation-table[data-type='"+this.inviteType+"'] .remove-student-row").length<=1?$("#invitation-table[data-type='"+this.inviteType+"'] .remove-student-row").addClass("hidden"):$("#invitation-table[data-type='"+this.inviteType+"'] .remove-student-row").removeClass("hidden")},t.prototype.resetRows=function(){var e,t,n,i,r;for($("[data-toggle=tooltip]").tooltip("hide"),$("#invitation-table[data-type='"+this.inviteType+"'] tbody").html(""),t=$("#invitable-count").data("invitableCount"),$(".js-invitable-count").html(t),$(".js-invitable-count-label").removeClass("text-red"),$(".js-add-student-row").attr("disabled",!1),r=n=0,i=t>this.DEFAULT_ROW?this.DEFAULT_ROW:t;n<i;r=n+=1)e=HandlebarsTemplates["students/invite_row"]({status:"default",index:r+1,type:this.inviteType}),$("#invitation-table[data-type='"+this.inviteType+"']  > tbody:last-child").append(e);return this.updateRemoveIcons()},t.prototype.allValidateCheck=function(){var e;return e=this,$("#invitation-table[data-type='"+this.inviteType+"']  tbody tr").each(function(){return e.validateRow($(this))})},t.prototype.resetIndex=function(e){return $("#invitation-table[data-type='"+this.inviteType+"'] tbody tr").each(function(t){if(e<=t+1)return $(this).find(".index").text(t+1),$(this).find("td:first-child .inner-status").children().tooltip({trigger:"manual",viewport:"#invitation-table[data-type='"+this.inviteType+"'] tbody"}).tooltip("show")})},t.prototype.validateRow=function(e,t){var n,i,r;return null==t&&(t=null),r=e.find('input[name="students[][number]"]').val(),i=e.find('input[name="students[][name]"]').val(),""===r&&i?"number"===this.inviteType?this.updateRowValidationStatus(e,"blankNumber"):this.updateRowValidationStatus(e,"blankEmail"):r&&""===i?this.updateRowValidationStatus(e,"blankName"):r&&"email"===this.inviteType&&!1===Hera.commons.validateEmail(r)?this.updateRowValidationStatus(e,"invalidEmail"):""===r&&""===i?this.updateRowValidationStatus(e,"default"):r&&this.checkDuplicatedNumber(r)?"number"===this.inviteType?this.updateRowValidationStatus(e,"duplicatedNumber"):this.updateRowValidationStatus(e,"duplicatedEmail"):r&&i?(n=(n=$("#invitable-count").data("invitableCount")-$("#invitation-table[data-type='"+this.inviteType+"']").find('input[name="students[][number]"]').filter(function(){return!!$(this).val()}).length)<1?0:n,$(".js-invitable-count").html(n),n<1?($(".js-invitable-count-label").addClass("text-red"),$(".js-add-student-row").attr("disabled",!0)):($(".js-invitable-count-label").removeClass("text-red"),$(".js-add-student-row").attr("disabled",!1)),this.check_registration(r,e,t)):void 0},t.prototype.updateRowValidationStatus=function(t,n){var i;if(!(e.call(this.CHECK_LIST,n)<0))return i=HandlebarsTemplates["students/status"]({status:n}),t.find("div").tooltip("hide"),t.find("td:first-child .inner-status").html(i),e.call(this.WARNING_LIST,n)>=0?t.addClass("warning-input"):t.removeClass("warning-input"),e.call(this.INVALID_CHECK_LIST,n)>=0?(t.find("td:first-child .inner-status").children().tooltip({trigger:"manual",viewport:"#invitation-table[data-type='"+this.inviteType+"'] tbody"}).tooltip("show"),t.addClass("invalide-input")):t.removeClass("invalide-input")},t.prototype.checkDuplicatedNumber=function(e){return $("#invitation-table[data-type='"+this.inviteType+"']").find('input[name="students[][number]"]').filter(function(){return $(this).val()===e}).length>1},t.prototype.numInvalidStudents=function(){var t;return t=this,$("#invitation-table[data-type='"+this.inviteType+"'] td:first-child").filter(function(){var n;return n=$(this).find(".inner-status > div").data("status"),e.call(t.INVALID_CHECK_LIST,n)>=0}).length},t.prototype.numInvitableStudents=function(){var t;return t=this,$("#invitation-table[data-type='"+this.inviteType+"'] td:first-child").filter(function(){var n;return n=$(this).find(".inner-status > div").data("status"),e.call(t.VALID_LIST,n)>=0}).length},t.prototype.check_registration=function(e,t,n){var i,r,o;return null==n&&(n=null),r=document.querySelector(".course-number").textContent,i=$("#invitation-table[data-type='"+this.inviteType+"']").find('input[name="students[][number]"]').filter(function(){return!!$(this).val()}).length,$.ajax("/courses/"+r+"/students/check_registration",{type:"GET",data:{student_number:e,type:this.inviteType,count:i},statusCode:{200:(o=this,function(){return o.updateRowValidationStatus(t,"valid")}),422:function(e){return function(n){return e.updateRowValidationStatus(t,n.responseJSON.status)}}(this)}}).always(function(){if(n)return n()})},t}()}.call(this),function(){School.students={submitSearch:function(){return document.querySelector("#student_search_form").submit()}}}.call(this),Handlebars.registerHelper("if_eq",function(e,t,n){return e==t?n.fn(this):n.inverse(this)}),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["lessons/blank_lesson"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(){return'\n<li class="list-group-item tutorial lesson">\n  <div class="lesson-time-line-bar"></div>\n  <div class="lesson-icon-wrapper">\n    <div class="lesson-icon">\n      <svg class="ic-24"><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-note"/></svg>\n    </div>                \n  </div>\n  <div class="lesson-detail-wrapper">\n    <div class="lesson-title">\n      \uac15\uc758\ub178\ud2b8\ub97c \uc791\uc131\ud558\uac70\ub098 \uc790\ub8cc\ub97c \ucca8\ubd80\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n    </div>\n  </div>\n</li>\n<li class="list-group-item tutorial lesson">\n  <div class="lesson-time-line-bar"></div>\n  <div class="lesson-icon-wrapper">\n    <div class="lesson-icon">\n      <svg class="ic-24"><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-algorithm"/></svg>\n    </div>\n  </div>\n  <div class="lesson-detail-wrapper">\n    <div class="lesson-title">\n      \ud504\ub85c\uadf8\ub798\ubc0d \ud14c\uc2a4\ud2b8\ub97c \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n    </div>\n  </div>\n</li>'},useData:!0}),this.HandlebarsTemplates["lessons/blank_lesson"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["students/invite_row"]=Handlebars.template({1:function(e,t,n,i,r){var o;return'      <input type="text" value="'+e.escapeExpression("function"==typeof(o=null!=(o=n.number||(null!=t?t.number:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"number",hash:{},data:r}):o)+'" name="students[][number]" class="form-control" placeholder=\uace0\uc720 \ubc88\ud638 autocomplete="off">\n'},3:function(e,t,n,i,r){var o;return'      <input type="text" value="'+e.escapeExpression("function"==typeof(o=null!=(o=n.number||(null!=t?t.number:t))?o:n.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"number",hash:{},data:r}):o)+'" name="students[][number]" class="form-control" placeholder=\uc774\uba54\uc77c autocomplete="off">\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o,a
;return'<tr>\n  <td class="t-status">\n    <div class="inner-status"></div>\n    <div class="index">'+e.escapeExpression("function"==typeof(a=null!=(a=n.index||(null!=t?t.index:t))?a:n.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"index",hash:{},data:r}):a)+' </div> \n  </td>\n  <td class="t-name">\n    <input type="text" value="'+e.escapeExpression("function"==typeof(a=null!=(a=n.name||(null!=t?t.name:t))?a:n.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:r}):a)+'" name="students[][name]" class="form-control" placeholder=\uc774\ub984 autocomplete="off">\n  </td>\n  <td class="td-number">\n'+(null!=(o=(n.if_eq||t&&t.if_eq||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.type:t,"number",{name:"if_eq",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))?o:"")+'  </td>\n  <td class="t-action">\n    <svg class="ic-24 ic-blue-grey-100 ic-hover remove-student-row"><use xlink:href="/assets/svg-defs-b1cfd43a3584475484cb044688abfd57396354309e7a26d0526ead53f0fac511.svg#ic-remove-circle-outline"/></svg>\n  </td>\n</tr>'},useData:!0}),this.HandlebarsTemplates["students/invite_row"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["students/status"]=Handlebars.template({1:function(){return'  <div data-status="default" />\n'},3:function(){return'  <div data-toggle="tooltip" data-placement="left" data-title="" data-status="valid" />\n'},5:function(){return'  <div data-toggle="tooltip" data-placement="left" data-title="\uc774\ubbf8 \ub4f1\ub85d\ub41c \ud559\uc0dd\uc785\ub2c8\ub2e4." data-status="registered" />\n'},7:function(){return'  <div data-toggle="tooltip" data-placement="left" data-title="\uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4." data-status="invalidEmail" />\n'},9:function(){return'  <div data-toggle="tooltip" data-placement="left" data-title="\uc774\ub984 \ud615\uc2dd\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4." data-status="invalidName" />\n'},11:function(){return'  <div data-toggle="tooltip" data-placement="left" data-title="\ub4f1\ub85d \ud3fc\uc5d0 \ub3d9\uc77c\ud55c \uc774\uba54\uc77c\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4." data-status="duplicatedEmail" />\n'},13:function(){return'  <div data-toggle="tooltip" data-placement="left" data-title="\ub4f1\ub85d \ud3fc\uc5d0 \ub3d9\uc77c\ud55c \ud559\ubc88\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4." data-status="duplicatedNumber" />\n'},15:function(){return'  <div data-toggle="tooltip" data-placement="left" data-title="\ud559\ubc88 \ud615\uc2dd\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4." data-status="invalidNumber" />\n'},17:function(){return'  <div data-toggle="tooltip" data-placement="left" data-title="\uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694." data-status="blankName" />\n'},19:function(){return'  <div data-toggle="tooltip" data-placement="left" data-title="\ud559\ubc88\uc744 \uc785\ub825\ud558\uc138\uc694." data-status="blankNumber" />\n'},21:function(){return'  <div data-toggle="tooltip" data-placement="left" data-title="\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694." data-status="blankEmail" />\n'},23:function(){return'  <div data-toggle="tooltip" data-placement="left" data-title="\uac15\uc0ac\ub294 \ud559\uc0dd\uc73c\ub85c \ub4f1\ub85d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4." data-status="registeredManager" />\n'},25:function(){return'  <div data-toggle="tooltip" data-placement="left" data-title="\ud734\uba74\uacc4\uc815 \uc0c1\ud0dc\uc778 \uc0ac\uc6a9\uc790\ub294 \ucd08\ub300\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc0ac\uc774\ud2b8\uc5d0 \ub85c\uadf8\uc778\ud574\uc11c \ud734\uba74\uacc4\uc815\uc744 \ud574\uc81c\ud558\ub3c4\ub85d \uc548\ub0b4\ud574 \uc8fc\uc138\uc694." data-status="inactiveAccount" />\n'},27:function(){return'<div data-toggle="tooltip" data-placement="left" data-title="\ub4f1\ub85d \uac00\ub2a5\ud55c \ud559\uc0dd \uc218\ub97c \ub118\uc5c8\uc2b5\ub2c8\ub2e4." data-status="ticket" />'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,r){var o;return"\n"+(null!=(o=(n.if_eq||t&&t.if_eq||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.status:t,"default",{name:"if_eq",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?o:"")+"\n"+(null!=(o=(n.if_eq||t&&t.if_eq||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.status:t,"valid",{name:"if_eq",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?o:"")+"\n"+(null!=(o=(n.if_eq||t&&t.if_eq||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.status:t,"registered",{name:"if_eq",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))?o:"")+"\n"+(null!=(o=(n.if_eq||t&&t.if_eq||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.status:t,"invalidEmail",{name:"if_eq",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))?o:"")+"\n"+(null!=(o=(n.if_eq||t&&t.if_eq||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.status:t,"invalidName",{name:"if_eq",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r}))?o:"")+"\n"+(null!=(o=(n.if_eq||t&&t.if_eq||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.status:t,"duplicatedEmail",{name:"if_eq",hash:{},fn:e.program(11,r,0),inverse:e.noop,data:r}))?o:"")+"\n"+(null!=(o=(n.if_eq||t&&t.if_eq||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.status:t,"duplicatedNumber",{name:"if_eq",hash:{},fn:e.program(13,r,0),inverse:e.noop,data:r}))?o:"")+"\n"+(null!=(o=(n.if_eq||t&&t.if_eq||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.status:t,"invalidNumber",{name:"if_eq",hash:{},fn:e.program(15,r,0),inverse:e.noop,data:r}))?o:"")+"\n"+(null!=(o=(n.if_eq||t&&t.if_eq||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.status:t,"blankName",{name:"if_eq",hash:{},fn:e.program(17,r,0),inverse:e.noop,data:r}))?o:"")+"\n"+(null!=(o=(n.if_eq||t&&t.if_eq||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.status:t,"blankNumber",{name:"if_eq",hash:{},fn:e.program(19,r,0),inverse:e.noop,data:r}))?o:"")+"\n"+(null!=(o=(n.if_eq||t&&t.if_eq||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.status:t,"blankEmail",{name:"if_eq",hash:{},fn:e.program(21,r,0),inverse:e.noop,data:r}))?o:"")+"\n"+(null!=(o=(n.if_eq||t&&t.if_eq||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.status:t,"registeredManager",{name:"if_eq",hash:{},fn:e.program(23,r,0),inverse:e.noop,data:r}))?o:"")+"\n"+(null!=(o=(n.if_eq||t&&t.if_eq||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.status:t,"inactiveAccount",{name:"if_eq",hash:{},fn:e.program(25,r,0),inverse:e.noop,data:r}))?o:"")+"\n"+(null!=(o=(n.if_eq||t&&t.if_eq||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.status:t,"ticket",{name:"if_eq",hash:{},fn:e.program(27,r,0),inverse:e.noop,data:r}))?o:"")},useData:!0}),this.HandlebarsTemplates["students/status"]}.call(this),function(){Users.registrations={initNew:function(){return this.checkTosAgreed()},initCreate:function(){return this.checkTosAgreed()},checkTosAgreed:function(){return $(".tooltip-wrapper").click(function(){if($(".btn-signup").prop("disabled"))return alert("\uc774\uc6a9\uc57d\uad00 \ubc0f \uac1c\uc778\uc815\ubcf4 \ucc98\ub9ac\ubc29\uce68\uc5d0 \ub3d9\uc758\uac00 \ud544\uc694\ud569\ub2c8\ub2e4.")}),this.enableSignUpButton(),$("#tos_agreed").change((e=this,function(){return e.enableSignUpButton()}));var e},initDestroy:function(){},enableSignUpButton:function(){return $("#tos_agreed")[0].checked?$(".btn-signup").removeAttr("disabled"):$(".btn-signup").prop("disabled",!0)}}}.call(this),function(){Users.sessions={initNew:function(){},initDestroy:function(){return Hera.auth.doCors("new_logout")}}}.call(this),function(){Ybm.tests={timerId:null,tryoutTokenId:null,initResult:function(){var e,t;if(t=$("#result-ybm").data(),this.tryoutTokenId=t.tryoutTokenId,e=t.evaluated,this.tryoutId=t.tryoutId,!e)return this.timerId=setInterval(this.requestSummary.bind(this),1e4)},requestSummary:function(){return $.get("/ybm/tests/"+this.tryoutTokenId+"/summary",{test_id:this.tryoutId}).done((e=this,function(){clearInterval(e.timerId)})).fail(function(){});var e}}}.call(this),function(){Ybm.tryouts={filters:{status:"all",text:""},initIndex:function(){var e;return $(document).on("change","#tryouts-status-filter",(e=this,function(t){return e.filters.status=$(t.target).find("option:selected").val(),e.updateTryouts()})),$(document).on("change","#tryouts-title-filter",function(e){return function(t){var n;return n=$(t.target).val(),e.filters.text=n,$("#tryouts-title-filter-clear").toggle(Boolean(n)),e.updateTryouts()}}(this)),$(document).on("click","#tryouts-title-filter-clear",function(){return $("#tryouts-title-filter").val("").focus(),$(this).hide()}),this.initPagination()},initPagination:function(){return $(".page-link").click((e=this,function(t){var n;if(t.preventDefault(),null!=(n=$.urlParam($(t.currentTarget).attr("href"),"page")))return e.updateTryouts(n)}));var e},updateTryouts:function(e){var t;return null==e&&(e=1),t={page:e,filters:this.filters},$.get("/ybm/tryouts.js",t)}}}.call(this),function(){Global.root={initBusiness:function(){return Hera.commons.initContactBtn()}}}.call(this),function(){Monito.root={initIndex:function(){return this._initGuide()},initBusiness:function(){return this._initGuide()},_initGuide:function(){var e,t;return t=["js-guide-test","js-guide-invite","js-guide-monitor","js-guide-evaluation"],e=0,$(".js-page-link").click(function(n){return"next"===$(n.currentTarget).data("fun")?e+=1:e-=1,e=e.clamp(0,t.length-1),$(".js-guide").removeClass("active"),$("."+t[e]).addClass("active")}),$(".js-guide-nav").click(function(n){var i;return i=$(n.currentTarget).data("index"),e=i,$(".js-guide").removeClass("active"),$("."+t[e]).addClass("active")})}}}.call(this);
//# sourceMappingURL=/assets/sourcemaps/maps/application-ec0034e7e05dd39837b31f1886c022d85974d3a94084ae1121f1f9cd36faeb08.js.map
